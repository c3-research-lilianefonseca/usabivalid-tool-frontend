!function(){function e(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,o=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return c=e.done,e},e:function(e){o=!0,r=e},f:function(){try{c||null==t.return||t.return()}finally{if(o)throw r}}}}function s(e,s){(null==s||s>e.length)&&(s=e.length);for(var n=0,t=new Array(s);n<s;n++)t[n]=e[n];return t}function n(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function t(e,s,t){return s&&n(e.prototype,s),t&&n(e,t),e}function i(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{rRNF:function(s,n,a){"use strict";a.r(n),a.d(n,"AssessmentModule",(function(){return Mc}));var r,c=a("3Pt+"),o=a("vTDv"),l=a("aceb"),b=a("tyNb"),d=a("fXoL"),u=((r=function e(){i(this,e)}).\u0275fac=function(e){return new(e||r)},r.\u0275cmp=d.Ib({type:r,selectors:[["ngx-assessment-elements"]],decls:1,vars:0,template:function(e,s){1&e&&d.Pb(0,"router-outlet")},directives:[b.i],encapsulation:2}),r),p=a("mrSG"),h=a("pIFF"),m=a("mex4"),f=function e(s,n,t,a,r){i(this,e),this.assessmentUid=s,this.projectName=n,this.authorName=t,this.profile=a,this.state=r},g=a("l7P3"),w=a("ofXK");function C(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"Collaborator(s) email(s):"),d.Tb(),d.Tb())}function v(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",14),d.Ub(1,"div",15),d.Pb(2,"input",16),d.Ub(3,"nb-icon",17),d.bc("click",(function(){d.sc(n);var e=s.index;return d.dc(2).removeEmail(e)})),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=s.$implicit;d.jc("formGroupName",s.index),d.Cb(2),d.jc("required",!0)("status",t.dirty?t.invalid?"danger":"success":""),d.Db("aria-invalid",!(!t.invalid||!t.touched)||null)}}function T(e,s){if(1&e&&(d.Ub(0,"form",12),d.zc(1,v,4,4,"section",13),d.Tb()),2&e){var n=d.dc();d.Cb(1),d.jc("ngForOf",n.emails.controls)}}var y,A=((y=function(){function e(s,n,t,a){var r=this;i(this,e),this.formBuilder=s,this.assessmentService=n,this.store=t,this.router=a,this.store.select(m.a).subscribe((function(e){var s=e.uid;return r.uid=s})),this.form=this.formBuilder.group({userUid:[this.uid,c.z.required],projectName:[null,[c.z.required]],projectDescription:[null,c.z.required],emails:this.formBuilder.array([])})}return t(e,[{key:"isValid",get:function(){return this.form.valid}},{key:"emails",get:function(){return this.form.controls.emails}},{key:"hasCollaborator",get:function(){var e;return 0!==(null===(e=this.form.controls.emails.value)||void 0===e?void 0:e.length)}},{key:"values",get:function(){return this.form.value}},{key:"serializedValues",get:function(){var e=Object.assign(Object.assign({},this.values),{collaboratorsEmail:this.values.emails.map((function(e){return e.email}))});return delete e.emails,e}},{key:"ngOnInit",value:function(){this.assessmentService.releaseSection(this.uid).subscribe()}},{key:"addEmail",value:function(){this.emails.push(this.newEmail())}},{key:"removeEmail",value:function(e){this.emails.removeAt(e)}},{key:"addCollaboratorFlag",value:function(){}},{key:"create",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assessmentService.createNewAssessment(this.serializedValues);case 2:e.sent.subscribe((function(e){s.assessment=e,s.editDTO=new f(s.assessment.uid,s.assessment.projectName,s.assessment.systemUser.name,s.assessment.userProfile,s.assessment.state),console.log(s.editDTO),s.router.navigate(["/pages/assessment/my-plans/edit"],{state:s.editDTO})}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"newEmail",value:function(){return this.formBuilder.group({email:["",[c.z.required,c.z.email]]})}}]),e}()).\u0275fac=function(e){return new(e||y)(d.Ob(c.d),d.Ob(h.a),d.Ob(g.h),d.Ob(b.d))},y.\u0275cmp=d.Ib({type:y,selectors:[["ngx-create-assessment"]],decls:29,vars:4,consts:[[1,"container",3,"formGroup"],[1,"col-lg-12"],[1,"example-items-col"],[1,"row","col-lg-12","bottom-margin"],["formControlName","projectName","fullWidth","","nbInput","","required","true","type","text"],["formControlName","projectDescription","fullWidth","","nbInput","","placeholder","Describe your project","required","true","rows","5","shape","round"],[4,"ngIf"],["class","container mt-3","formArrayName","emails",4,"ngIf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["icon","save-outline"],["formArrayName","emails",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"row","col-lg-8","bottom-margin-light"],["fieldSize","large","formControlName","email","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Collaborator email address",1,"display-next",3,"required","status"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"]],template:function(e,s){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"h3"),d.Bc(3," Create new assessment plan "),d.Tb(),d.Ub(4,"nb-card"),d.Ub(5,"nb-card-header"),d.Bc(6,"What will be assessed?"),d.Tb(),d.Ub(7,"nb-card-body",2),d.Ub(8,"div",3),d.Ub(9,"label"),d.Ub(10,"b"),d.Bc(11,"Project name"),d.Tb(),d.Tb(),d.Pb(12,"input",4),d.Tb(),d.Ub(13,"div",3),d.Ub(14,"label"),d.Ub(15,"b"),d.Bc(16,"Project description"),d.Tb(),d.Tb(),d.Pb(17,"textarea",5),d.Tb(),d.zc(18,C,3,0,"label",6),d.zc(19,T,2,1,"form",7),d.Ub(20,"button",8),d.bc("click",(function(){return s.addEmail()})),d.Pb(21,"nb-icon",9),d.Bc(22," Add Collaborator "),d.Tb(),d.Tb(),d.Ub(23,"nb-card-footer"),d.Ub(24,"div"),d.Ub(25,"button",10),d.bc("click",(function(){return s.create()})),d.Pb(26,"nb-icon",11),d.Ub(27,"b"),d.Bc(28,"CREATE"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.jc("formGroup",s.form),d.Cb(18),d.jc("ngIf",s.hasCollaborator),d.Cb(1),d.jc("ngIf",1==s.hasCollaborator),d.Cb(6),d.jc("disabled",!s.isValid))},directives:[c.q,c.h,l.u,l.w,l.t,c.b,l.O,c.p,c.g,c.x,w.n,l.r,l.L,l.v,c.B,c.r,c.c,w.m,c.i],styles:["nb-card-body.example-items-col[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-around;flex-direction:column}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.display-next[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]     nb-stepper .step-content{text-align:center}[_nghost-%COMP%]     nb-stepper .step-content button{cursor:pointer;margin:.5rem}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:5px}"]}),y),U=a("RS3s"),k=a("t0AZ"),P=a("eIep"),O=a("lJxs"),j=a("fg39");function x(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",8),d.Ub(1,"nb-card-header",9),d.Bc(2,"Warning"),d.Tb(),d.Ub(3,"nb-card-body",9),d.Ub(4,"span",10),d.Bc(5," You will no longer have access to this assessment plan review."),d.Pb(6,"br"),d.Bc(7," Do you really want to delete it? "),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer",9),d.Ub(9,"button",11),d.bc("click",(function(){d.sc(n);var e=s.dialogRef;return d.dc().onDelete(),e.close()})),d.Bc(10,"YES "),d.Tb(),d.Ub(11,"button",12),d.bc("click",(function(){d.sc(n);var e=s.dialogRef;return d.dc().cancelDelete(),e.close()})),d.Bc(12,"NO"),d.Tb(),d.Tb(),d.Tb()}}var M,B=((M=function(){function e(s,n,t,a,r,c){var o=this;i(this,e),this.assessmentService=s,this.reviewService=n,this.router=t,this.store=a,this.dialogService=r,this.toastrService=c,this.source=new U.a,this.settings={mode:"external",actions:{add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"export",title:'<i class="nb-arrow-thin-down"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{projectName:{title:"Project Name",type:"string"},limitReviewDate:{title:"Deadline for review",type:"Date"},reviewedDate:{title:"Reviewed Date",type:"Date"},reviewer:{title:"Reviewed by",type:"string"}}},this.toast=new k.a(c),this.store.select(m.a).subscribe((function(e){return o.user=e}))}return t(e,[{key:"ngOnInit",value:function(){this.getDataTable()}},{key:"getDataTable",value:function(){var e=this;this.store.select(m.a).pipe(Object(P.a)((function(s){return e.reviewService.getReviewedPlanList(s.uid)})),Object(O.a)((function(s){null!==s&&e.source.load(s)}))).subscribe(),this.assessmentService.releaseSection(this.user.uid).subscribe()}},{key:"onEdit",value:function(e){this.router.navigate(["/pages/assessment/reviewed-plan/detail"],{state:e})}},{key:"onDelete",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reviewService.deleteReview(this.reviewDelete.reviewUid);case 2:e.sent.subscribe((function(e){s.toast.showToastr("top-right","success","Review successfully deleted"),s.getDataTable(),s.source.refresh()}),(function(){s.toast.showToastr("top-right","danger","Error deleting the review")}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(e,s){this.reviewDelete=s.data,this.dialogService.open(e)}},{key:"cancelDelete",value:function(){this.reviewDelete=null}},{key:"onCustom",value:function(e,s){"export"===e.action?this.openDownload(e.data):this.open(s,e)}},{key:"onUserRowSelect",value:function(e){this.onEdit(e.data)}},{key:"openDownload",value:function(e){this.reviewService.downloadPlanReview(e.reviewUid,e.projectName)}}]),e}()).\u0275fac=function(e){return new(e||M)(d.Ob(h.a),d.Ob(j.a),d.Ob(b.d),d.Ob(g.h),d.Ob(l.J),d.Ob(l.ub))},M.\u0275cmp=d.Ib({type:M,selectors:[["ngx-review-assessment"]],decls:18,vars:2,consts:[[1,"col-12"],["accent","sucess"],[1,"row","float-right"],[1,"nb-arrow-thin-down"],[1,"nb-trash"],[2,"cursor","pointer",3,"settings","source","userRowSelect","custom"],["table",""],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],[1,"col-lg-6"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",0),d.Ub(2,"h3"),d.Bc(3," Reviewed Plans "),d.Tb(),d.Ub(4,"nb-card",1),d.Pb(5,"nb-card-body",0),d.Ub(6,"nb-card-body"),d.Ub(7,"div",2),d.Ub(8,"p"),d.Pb(9,"i",3),d.Bc(10," Export Review | "),d.Tb(),d.Ub(11,"p"),d.Pb(12,"i",4),d.Bc(13," Delete Review"),d.Tb(),d.Tb(),d.Ub(14,"ng2-smart-table",5,6),d.bc("userRowSelect",(function(e){return s.onUserRowSelect(e)}))("custom",(function(e){d.sc(n);var t=d.qc(17);return s.onCustom(e,t)})),d.zc(16,x,13,0,"ng-template",null,7,d.Ac),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}2&e&&(d.Cb(14),d.jc("settings",s.settings)("source",s.source))},directives:[l.u,l.t,U.b,l.w,l.v,l.r],styles:["nb-card-body[_ngcontent-%COMP%]{overflow:visible;padding-top:0}nb-card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1rem}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}.checkbox-radio[_ngcontent-%COMP%]{display:flex}.demo-items[_ngcontent-%COMP%]{flex:1 0 33%}.button-space[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:50px;text-align:center;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#5dcfe3}"]}),M),S=a("9oZc");function I(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",9),d.Ub(1,"nb-card-header",10),d.Bc(2,"Warning"),d.Tb(),d.Ub(3,"nb-card-body",10),d.Ub(4,"span",11),d.Bc(5," You will no longer have access to this assessment."),d.Pb(6,"br"),d.Bc(7," Do you really want to delete it? "),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer",10),d.Ub(9,"button",12),d.bc("click",(function(){d.sc(n);var e=s.dialogRef;return d.dc().onDelete(),e.close()})),d.Bc(10,"YES "),d.Tb(),d.Ub(11,"button",13),d.bc("click",(function(){d.sc(n);var e=s.dialogRef;return d.dc().cancelDelete(),e.close()})),d.Bc(12,"NO"),d.Tb(),d.Tb(),d.Tb()}}var D,N,z=((D=function(){function e(s,n,t,a,r){var c=this;i(this,e),this.assessmentService=s,this.router=n,this.store=t,this.dialogService=a,this.toastrService=r,this.source=new U.a,this.settings={mode:"external",actions:{add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"dashboard",title:'<i style="display: flex" class="nb-tables"></i>'},{name:"export",title:'<i style="display: flex" class="nb-arrow-thin-down"></i>'},{name:"delete",title:'<i style="display: flex" class="nb-trash"></i>'}]},columns:{projectName:{title:"Name",type:"string"},authorName:{title:"Author",type:"string"},profile:{title:"Profile",type:"string"},state:{title:"State",type:"string"}}},this.toast=new k.a(r),this.store.select(m.a).subscribe((function(e){return c.user=e}))}return t(e,[{key:"ngOnInit",value:function(){this.getDataTable()}},{key:"getDataTable",value:function(){var e=this;this.store.select(m.a).pipe(Object(P.a)((function(s){return e.assessmentService.getUserAssessments(s.uid)})),Object(O.a)((function(s){null!==s&&e.source.load(s)}))).subscribe(),this.assessmentService.releaseSection(this.user.uid).subscribe()}},{key:"onEdit",value:function(e){this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})}},{key:"onDelete",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assessmentService.deleteAssessment(this.assessmentDelete.assessmentUid);case 2:e.sent.subscribe((function(e){s.toast.showToast("delete","top-right","success","Assessment"),s.getDataTable(),s.source.refresh()}),(function(){s.toast.showToast("delete","top-right","danger","Assessment")}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"open",value:function(e,s){this.assessmentDelete=s.data,this.dialogService.open(e)}},{key:"cancelDelete",value:function(){this.assessmentDelete=null}},{key:"onCustom",value:function(e,s){"export"===e.action?this.openDownload(e.data):"dashboard"===e.action?this.router.navigate(["/pages/assessment/my-plans/dashboard"],{state:e.data}):this.open(s,e)}},{key:"onUserRowSelect",value:function(e){this.onEdit(e.data)}},{key:"openDownload",value:function(e){this.dialogService.open(S.a,{context:{title:"Choose the method you want to export",assessmentUid:e.assessmentUid,projectName:e.projectName}})}}]),e}()).\u0275fac=function(e){return new(e||D)(d.Ob(h.a),d.Ob(b.d),d.Ob(g.h),d.Ob(l.J),d.Ob(l.ub))},D.\u0275cmp=d.Ib({type:D,selectors:[["ngx-list-assessment"]],decls:21,vars:2,consts:[[1,"col-12"],["accent","sucess"],[1,"row","float-right"],["size","large",1,"nb-tables"],[1,"nb-arrow-thin-down"],[1,"nb-trash"],[2,"cursor","pointer","display","flex",3,"settings","source","userRowSelect","custom"],["table",""],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],[1,"col-lg-6"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"div",0),d.Ub(2,"h3"),d.Bc(3," My Assessment Plans "),d.Tb(),d.Ub(4,"nb-card",1),d.Ub(5,"nb-card-body",0),d.Ub(6,"div",2),d.Ub(7,"p"),d.Pb(8,"i",3),d.Bc(9," Open Dashboard | "),d.Tb(),d.Ub(10,"p"),d.Pb(11,"i",4),d.Bc(12," Export Plan | "),d.Tb(),d.Ub(13,"p"),d.Pb(14,"i",5),d.Bc(15," Delete Plan"),d.Tb(),d.Tb(),d.Tb(),d.Ub(16,"nb-card-body"),d.Ub(17,"ng2-smart-table",6,7),d.bc("userRowSelect",(function(e){return s.onUserRowSelect(e)}))("custom",(function(e){d.sc(n);var t=d.qc(20);return s.onCustom(e,t)})),d.zc(19,I,13,0,"ng-template",null,8,d.Ac),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}2&e&&(d.Cb(17),d.jc("settings",s.settings)("source",s.source))},directives:[l.u,l.t,U.b,l.w,l.v,l.r],styles:["nb-card-body[_ngcontent-%COMP%]{overflow:visible;padding-top:0}nb-card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1rem}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}.checkbox-radio[_ngcontent-%COMP%]{display:flex}.demo-items[_ngcontent-%COMP%]{flex:1 0 33%}.button-space[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:50px;text-align:center;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#5dcfe3}"]}),D),q=function e(){i(this,e)},E=a("NfVM"),V=a("jbVW"),Q=a("sWYD"),R=a("70O8"),_=a("VNq0"),$=function e(s,n){i(this,e),this.assessmentUid=s,this.projectName=n},F=function e(s,n){i(this,e),this.assessmentUid=s,this.sectionEnum=n},G=function e(s,n,t){i(this,e),this.assessmentUid=s,this.userUid=n,this.sectionEnum=t},L=((N=function(){function e(s){i(this,e),this.ref=s}return t(e,[{key:"cancel",value:function(){this.ref.close()}},{key:"submit",value:function(){this.ref.close(this.reviewDate)}},{key:"isValid",get:function(){return!(null==this.reviewDate)}}]),e}()).\u0275fac=function(e){return new(e||N)(d.Ob(l.I))},N.\u0275cmp=d.Ib({type:N,selectors:[["ngx-dialog-data-review"]],decls:12,vars:3,consts:[["nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"disabled","click"]],template:function(e,s){if(1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Bc(2,"Enter the limit date for the review"),d.Tb(),d.Ub(3,"nb-card-body"),d.Ub(4,"input",0),d.bc("ngModelChange",(function(e){return s.reviewDate=e})),d.Tb(),d.Pb(5,"nb-datepicker",1,2),d.Tb(),d.Ub(7,"nb-card-footer"),d.Ub(8,"button",3),d.bc("click",(function(){return s.cancel()})),d.Bc(9,"Cancel"),d.Tb(),d.Ub(10,"button",4),d.bc("click",(function(){return s.submit()})),d.Bc(11,"Submit"),d.Tb(),d.Tb(),d.Tb()),2&e){var n=d.qc(6);d.Cb(4),d.jc("ngModel",s.reviewDate)("nbDatepicker",n),d.Cb(6),d.jc("disabled",!s.isValid)}},directives:[l.u,l.w,l.t,l.O,c.b,l.F,c.p,c.s,l.E,l.v,l.r],styles:[".nb-theme-default   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-default   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-dark   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-dark   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-corporate   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-corporate   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),N),W=function e(s,n){i(this,e),this.assessmentUid=s,this.dateLimit=n};function K(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"0%"),d.Tb())}function Y(e,s){if(1&e&&(d.Ub(0,"label",32),d.Ub(1,"b"),d.Bc(2),d.Tb(),d.Bc(3),d.Tb()),2&e){var n=d.dc().$implicit;d.Cb(2),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle)}}function H(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"input",34),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(5).assessment.projectName=e})),d.Tb(),d.Ub(2,"nb-checkbox",35),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.projectName)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc(5);d.Cb(1),d.jc("ngModel",t.assessment.projectName),d.Cb(1),d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.projectName))}}function J(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"textarea",36),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(5).assessment.projectDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",37),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.projectDescription)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc(5);d.Cb(1),d.jc("ngModel",t.assessment.projectDescription),d.Cb(1),d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.projectDescription))}}function X(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,H,4,2,"div",33),d.zc(2,J,4,2,"div",33),d.Tb()),2&e){var n=d.dc().$implicit;d.Cb(1),d.jc("ngIf","AP-PN"==n.objKey),d.Cb(1),d.jc("ngIf","AP-PD"===n.objKey)}}function Z(e,s){if(1&e&&(d.Ub(0,"div",22),d.Ub(1,"label",38),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.Ub(4,"h6",39),d.Bc(5),d.Tb(),d.Tb()),2&e){var n=d.dc(2).$implicit,t=d.dc(3);d.Cb(3),d.Cc(n.title),d.Cb(2),d.Dc("",t.assessment.smartCityPercentage,"%")}}function ee(e,s){if(1&e&&d.zc(0,Z,6,2,"div",33),2&e){var n=d.dc(4);d.jc("ngIf",!n.isNull(n.assessment.smartCityPercentage))}}function se(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function ne(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasDataManagement=e})),d.zc(1,se,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataManagement),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataManagement)}}function te(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataManagement)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataManagement))}}function ie(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function ae(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasAppExecution=e})),d.zc(1,ie,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasAppExecution),d.Cb(1),d.jc("ngForOf",t.selectOptions.applicationExecutionEnvironment)}}function re(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.applicationExecution)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.applicationExecution))}}function ce(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function oe(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasSensorNetwork=e})),d.zc(1,ce,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasSensorNetwork),d.Cb(1),d.jc("ngForOf",t.selectOptions.sensorNetworkManagement)}}function le(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.sensorNetwork)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.sensorNetwork))}}function be(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function de(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasDataProcessing=e})),d.zc(1,be,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataProcessing),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataProcessing)}}function ue(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataProcessing)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataProcessing))}}function pe(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function he(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasDataAccess=e})),d.zc(1,pe,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataAccess),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataAccess)}}function me(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataAccess)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataAccess))}}function fe(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function ge(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasServiceManagement=e})),d.zc(1,fe,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasServiceManagement),d.Cb(1),d.jc("ngForOf",t.selectOptions.serviceManagement)}}function we(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.serviceManagement)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.serviceManagement))}}function Ce(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function ve(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.hasSoftwareTools=e})),d.zc(1,Ce,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.hasSoftwareTools),d.Cb(1),d.jc("ngForOf",t.selectOptions.toolsforSoftwareDevelopment)}}function Te(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.tools)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.tools))}}function ye(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Ae(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(5).assessment.smartCityQuestionnaire.defineCityModel=e})),d.Ub(1,"nb-option",45),d.Bc(2,"Not Selected"),d.Tb(),d.zc(3,ye,2,2,"nb-option",44),d.Tb()}if(2&e){var t=d.dc(5);d.jc("selected",t.assessment.smartCityQuestionnaire.defineCityModel),d.Cb(1),d.jc("value",null),d.Cb(2),d.jc("ngForOf",t.selectOptions.definingACityModel)}}function Ue(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",46),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(3);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.definingCityModel)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(5);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.definingCityModel))}}function ke(e,s){if(1&e&&(d.Ub(0,"div",40),d.zc(1,ne,2,2,"nb-select",41),d.zc(2,te,2,1,"nb-checkbox",42),d.zc(3,ae,2,2,"nb-select",41),d.zc(4,re,2,1,"nb-checkbox",42),d.zc(5,oe,2,2,"nb-select",41),d.zc(6,le,2,1,"nb-checkbox",42),d.zc(7,de,2,2,"nb-select",41),d.zc(8,ue,2,1,"nb-checkbox",42),d.zc(9,he,2,2,"nb-select",41),d.zc(10,me,2,1,"nb-checkbox",42),d.zc(11,ge,2,2,"nb-select",41),d.zc(12,we,2,1,"nb-checkbox",42),d.zc(13,ve,2,2,"nb-select",41),d.zc(14,Te,2,1,"nb-checkbox",42),d.zc(15,Ae,4,3,"nb-select",41),d.zc(16,Ue,2,1,"nb-checkbox",42),d.Pb(17,"hr",6),d.Tb()),2&e){var n=d.dc().$implicit,t=d.dc(3);d.Cb(1),d.jc("ngIf",t.isDataManagement(n.objKey)),d.Cb(1),d.jc("ngIf",t.isDataManagement(n.objKey)),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.applicationExecutionEnvironment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.applicationExecutionEnvironment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.sensorNetworkManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.sensorNetworkManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataProcessing.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataProcessing.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataAccess.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataAccess.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.serviceManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.serviceManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.toolsforSoftwareDevelopment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.toolsforSoftwareDevelopment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.definingACityModel.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.definingACityModel.acronym)}}function Pe(e,s){if(1&e&&(d.Ub(0,"div",27),d.zc(1,Y,4,2,"label",28),d.zc(2,X,3,2,"div",29),d.zc(3,ee,1,1,"ng-template",null,30,d.Ac),d.zc(5,ke,18,16,"ng-template",null,31,d.Ac),d.Tb()),2&e){var n=s.$implicit,t=d.qc(4),i=d.qc(6),a=d.dc(3);d.Cb(1),d.jc("ngIf","PERC"!=n.objKey)("ngIfElse",t),d.Cb(1),d.jc("ngIf",a.isFirstQuestion(n.objKey))("ngIfElse",i)}}function Oe(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"h4",22),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.zc(4,Pe,7,4,"div",26),d.Tb()),2&e){var n=s.$implicit;d.Cb(3),d.Cc(n.title),d.Cb(1),d.jc("ngForOf",n.questions)}}function je(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",55),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.goal=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.goal)}}function xe(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(4).checkUsabilityGoal(e,s)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(4);d.jc("checked",i.verifyGoalsCheckState(t))}}function Me(e,s){if(1&e&&(d.Ub(0,"div",22),d.zc(1,je,1,1,"textarea",53),d.zc(2,xe,2,1,"nb-checkbox",54),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.attribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.attribute))}}function Be(e,s){if(1&e&&(d.Ub(0,"div",51),d.Ub(1,"label",2),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.Tb(),d.zc(5,Me,3,2,"div",52),d.Pb(6,"br"),d.Pb(7,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc(3);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle),d.Cb(1),d.jc("ngForOf",t.assessment.usabilityGoals)}}function Se(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"h4",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.Pb(5,"nb-icon",49),d.Tb(),d.Tb(),d.zc(6,Be,8,3,"div",50),d.Tb()),2&e){var n=s.$implicit;d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("nbTooltip",n.instruction),d.Cb(1),d.jc("ngForOf",n.questions)}}function Ie(e,s){if(1&e&&d.Pb(0,"nb-icon",59),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function De(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",61),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.variables=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.variables)}}function Ne(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit,t=d.dc(3).$implicit;return d.dc(2).checkUsabilityVariable(e,s.usabilityAttribute,t.key)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3).$implicit,a=d.dc(2);d.jc("checked",a.verifyUsabilityVariableCheck(t.usabilityAttribute,i.key))}}function ze(e,s){if(1&e&&(d.Ub(0,"div",22),d.zc(1,De,1,1,"textarea",60),d.zc(2,Ne,2,1,"nb-checkbox",54),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function qe(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,ze,3,2,"div",52),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function Ee(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",63),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.obtainedBy=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.obtainedBy)}}function Ve(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit,t=d.dc(3).$implicit;return d.dc(2).checkUsabilityVariable(e,s.usabilityAttribute,t.key)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3).$implicit,a=d.dc(2);d.jc("checked",a.verifyUsabilityVariableCheck(t.usabilityAttribute,i.key))}}function Qe(e,s){if(1&e&&(d.Ub(0,"div",22),d.zc(1,Ee,1,1,"textarea",62),d.zc(2,Ve,2,1,"nb-checkbox",54),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function Re(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,Qe,3,2,"div",52),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function _e(e,s){if(1&e&&(d.Ub(0,"div",27),d.Ub(1,"label",2),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.Tb(),d.zc(5,qe,2,1,"div",0),d.zc(6,Re,2,1,"div",0),d.Pb(7,"br"),d.Pb(8,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit;d.Cb(3),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle),d.Cb(1),d.jc("ngIf","VM-4"===t.key),d.Cb(1),d.jc("ngIf","VM-5"===t.key)}}function $e(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",67),d.Ub(1,"nb-checkbox",68),d.bc("checkedChange",(function(e){d.sc(n);var t=s.$implicit,i=s.index;return d.dc(4).scaleSelectionCheckbox(e,t,i)})),d.Ub(2,"nb-action",69),d.Bc(3),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=s.$implicit,i=d.dc(4);d.Cb(1),d.jc("checked",i.verifyScaleStatus(t)),d.Cb(1),d.jc("nbTooltip",t.description),d.Cb(1),d.Ec("",t.name," (",t.acronym," ) ")}}function Fe(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-card"),d.Ub(2,"nb-card-body",64),d.zc(3,$e,4,4,"div",65),d.Ub(4,"nb-checkbox",66),d.bc("checkedChange",(function(e){return d.sc(n),d.dc(3).checkScalesCheckbox(e)})),d.Bc(5," Done "),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(3),d.jc("ngForOf",t.usabilityScales),d.Cb(1),d.jc("checked",t.verifyScalesCheckbox())("disabled",t.checkClickable())("nbTooltipTrigger",t.tooltipTrigger)}}function Ge(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"h4",57),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,Ie,1,1,"nb-icon",58),d.Tb(),d.Tb(),d.zc(6,_e,9,4,"div",26),d.zc(7,Fe,6,4,"div",0),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions),d.Cb(1),d.jc("ngIf","VM-6"===n.key)}}function Le(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function We(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Pb(1,"input",74),d.Ub(2,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.participant.participantsQuantity),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Ke(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.participationLocalType=e})),d.Ub(2,"nb-option",76),d.Bc(3,"IN PERSON"),d.Tb(),d.Ub(4,"nb-option",77),d.Bc(5,"REMOTE"),d.Tb(),d.Tb(),d.Ub(6,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("selected",i.assessment.participant.participationLocalType),d.Cb(5),d.jc("checked",i.verifyParticipantState(t.key))}}function Ye(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"textarea",78),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.compensationDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.participant.compensationDescription),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function He(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"textarea",79),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.criteria=e})),d.Tb(),d.Ub(2,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.participant.criteria),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Je(e,s){if(1&e&&(d.Ub(0,"nb-option",83),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Xe(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"nb-select",80),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.hasCollectedInformation=e})),d.zc(2,Je,2,2,"nb-option",81),d.Tb(),d.Ub(3,"textarea",82),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.collectedInformationUse=e})),d.Tb(),d.Ub(4,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("selected",i.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngModel",i.assessment.participant.collectedInformationUse)("disabled",!i.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Ze(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"textarea",84),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.participant.instructions=e})),d.Tb(),d.Ub(2,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.participant.instructions),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function es(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function ss(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the question?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(4).removeQuestion(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function ns(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",90),d.Ub(1,"div",91),d.Pb(2,"textarea",92),d.Ub(3,"nb-icon",93),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(4).open(e)})),d.Tb(),d.zc(4,ss,8,0,"ng-template",null,94,d.Ac),d.Tb(),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function ts(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",85),d.zc(1,es,2,0,"label",17),d.Ub(2,"form",86),d.zc(3,ns,6,1,"section",87),d.Tb(),d.Ub(4,"button",88),d.bc("click",(function(){return d.sc(n),d.dc(3).addQuestion()})),d.Pb(5,"nb-icon",89),d.Bc(6," Add Question "),d.Tb(),d.Ub(7,"nb-checkbox",75),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkParticipantQuestion(e,s.key)})),d.Bc(8,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.jc("formGroup",i.form),d.Cb(1),d.jc("ngIf",0===i.assessment.participant.questions.length),d.Cb(2),d.jc("ngForOf",i.questions.controls),d.Cb(4),d.jc("checked",i.verifyParticipantState(t.key))}}function is(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"label",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,Le,1,1,"nb-icon",70),d.Tb(),d.Tb(),d.zc(6,We,4,2,"div",71),d.zc(7,Ke,8,2,"div",17),d.zc(8,Ye,4,2,"div",71),d.zc(9,He,4,2,"div",71),d.zc(10,Xe,6,5,"div",71),d.zc(11,Ze,4,2,"div",71),d.zc(12,ts,9,4,"div",72),d.Pb(13,"br"),d.Pb(14,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","PA-7"===n.key),d.Cb(1),d.jc("ngIf","PA-8"===n.key),d.Cb(1),d.jc("ngIf","PA-9"===n.key),d.Cb(1),d.jc("ngIf","PA-10"===n.key),d.Cb(1),d.jc("ngIf","PA-11"===n.key),d.Cb(1),d.jc("ngIf","PA-12"===n.key),d.Cb(1),d.jc("ngIf","PA-13"===n.key)}}function as(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function rs(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function cs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the tool?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(4).removeTool(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function os(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",90),d.Ub(1,"div",91),d.Pb(2,"textarea",102),d.Ub(3,"nb-icon",103),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(4).open(e)})),d.Tb(),d.zc(4,cs,8,0,"ng-template",null,104,d.Ac),d.Tb(),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function ls(e,s){if(1&e){var n=d.Vb();d.Ub(0,"span"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",105),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentTools.toolsUsageDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(4);d.Cb(3),d.jc("ngModel",t.assessment.assessmentTools.toolsUsageDescription)}}function bs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"nb-card",98),d.Ub(2,"nb-card-body",67),d.zc(3,rs,2,0,"label",17),d.Ub(4,"form",99),d.zc(5,os,6,1,"section",87),d.Tb(),d.Ub(6,"button",100),d.bc("click",(function(){return d.sc(n),d.dc(3).addTools()})),d.Pb(7,"nb-icon",89),d.Bc(8," Add Tool "),d.Tb(),d.Tb(),d.Tb(),d.zc(9,ls,4,1,"span",17),d.Ub(10,"nb-checkbox",101),d.Bc(11,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(1),d.jc("formGroup",t.form),d.Cb(2),d.jc("ngIf",!t.checkIfToolsIsNotEmpty()),d.Cb(2),d.jc("ngForOf",t.tools.controls),d.Cb(4),d.jc("ngIf",t.checkIfToolsIsNotEmpty())}}function ds(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function us(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the task?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc(2).index;return d.dc(4).removeTask(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function ps(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",91),d.Pb(1,"textarea",110),d.Ub(2,"nb-icon",103),d.bc("click",(function(){d.sc(n);var e=d.qc(4);return d.dc(5).open(e)})),d.Tb(),d.zc(3,us,8,0,"ng-template",null,111,d.Ac),d.Tb()}}function hs(e,s){if(1&e&&(d.Ub(0,"div",112),d.Ub(1,"label"),d.Bc(2),d.Tb(),d.Pb(3,"input",113),d.Tb()),2&e){var n=d.dc().index,t=d.dc(4);d.Cb(2),d.Ec("",n+1,". ",t.getTaskDescription(n),"")}}function ms(e,s){if(1&e&&(d.Ub(0,"div",112),d.Ub(1,"label"),d.Bc(2),d.Tb(),d.Pb(3,"input",114),d.Tb()),2&e){var n=d.dc().index,t=d.dc(4);d.Cb(2),d.Ec("",n+1,". ",t.getTaskDescription(n),"")}}function fs(e,s){if(1&e&&(d.Ub(0,"section",90),d.zc(1,ps,5,0,"div",108),d.zc(2,hs,4,2,"div",109),d.zc(3,ms,4,2,"div",109),d.Tb()),2&e){var n=s.index,t=d.dc(2).$implicit;d.jc("formGroupName",n),d.Cb(1),d.jc("ngIf","TM-15"===t.key),d.Cb(1),d.jc("ngIf","TM-16"===t.key),d.Cb(1),d.jc("ngIf","TM-17"===t.key)}}function gs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"button",100),d.bc("click",(function(){return d.sc(n),d.dc(4).addTasks()})),d.Pb(1,"nb-icon",89),d.Bc(2," Add Task "),d.Tb()}}function ws(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",73),d.Ub(1,"nb-card",98),d.Ub(2,"nb-card-body",67),d.zc(3,ds,2,0,"label",17),d.Ub(4,"form",106),d.zc(5,fs,4,4,"section",87),d.Tb(),d.zc(6,gs,3,0,"button",107),d.Tb(),d.Tb(),d.Ub(7,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkMaterial(e,s.key)})),d.Bc(8,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("formGroup",i.form),d.Cb(2),d.jc("ngIf",!i.checkIfTasksIsNotEmpty()),d.Cb(2),d.jc("ngForOf",i.tasks.controls),d.Cb(1),d.jc("ngIf","TM-15"===t.key),d.Cb(1),d.jc("checked",i.verifyMaterialsCheckState(t.key))}}function Cs(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"label",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,as,1,1,"nb-icon",70),d.Tb(),d.Tb(),d.zc(6,bs,12,4,"div",71),d.zc(7,ws,9,5,"div",71),d.Pb(8,"br"),d.Pb(9,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","TM-14"===n.key),d.Cb(1),d.jc("ngIf","TM-15"===n.key||"TM-16"===n.key||"TM-17"===n.key)}}function vs(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function Ts(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function ys(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"input",117),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentProcedure.occurDate=e})),d.Tb(),d.Pb(2,"nb-datepicker",118,119),d.Ub(4,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkProcedureQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.qc(3),i=d.dc().$implicit,a=d.dc(3);d.Cb(1),d.jc("ngModel",a.assessment.assessmentProcedure.occurDate)("nbDatepicker",t),d.Cb(3),d.jc("checked",a.verifyProcedureState(i.key))}}function As(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",120),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentProcedure.occurLocal=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurLocal),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function Us(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",121),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentProcedure.occurDetail=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurDetail),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function ks(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",122),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentProcedure.occurTime=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurTime),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function Ps(e,s){if(1&e&&(d.Ub(0,"div",51),d.Ub(1,"label",2),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.zc(5,Ts,1,1,"nb-icon",70),d.Tb(),d.zc(6,ys,6,3,"div",17),d.zc(7,As,4,2,"div",17),d.zc(8,Us,4,2,"div",17),d.zc(9,ks,4,2,"div",17),d.Pb(10,"br"),d.Pb(11,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc(3);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Dc("",n.subTitle," "),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","PR-18-1"===n.key),d.Cb(1),d.jc("ngIf","PR-18-2"===n.key),d.Cb(1),d.jc("ngIf","PR-18-3"===n.key),d.Cb(1),d.jc("ngIf","PR-18-4"===n.key)}}function Os(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the step?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(4).removeSteps(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function js(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",90),d.Ub(1,"div",112),d.Ub(2,"label"),d.Bc(3,"Step Title:"),d.Tb(),d.Pb(4,"textarea",126),d.Ub(5,"label"),d.Bc(6,"Step Description:"),d.Tb(),d.Pb(7,"textarea",127),d.Ub(8,"nb-icon",103),d.bc("click",(function(){d.sc(n);var e=d.qc(10);return d.dc(4).open(e)})),d.Tb(),d.zc(9,Os,8,0,"ng-template",null,128,d.Ac),d.Tb(),d.Pb(11,"hr",6),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function xs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",123),d.Ub(1,"form",124),d.zc(2,js,12,1,"section",87),d.Tb(),d.Ub(3,"button",125),d.bc("click",(function(){return d.sc(n),d.dc(3).addSteps()})),d.Pb(4,"nb-icon",89),d.Bc(5," Add Step "),d.Tb(),d.Ub(6,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.steps.controls),d.Cb(4),d.jc("checked",i.verifyProcedureState(t.key))}}function Ms(e,s){if(1&e&&(d.Ub(0,"nb-option",45),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Bs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"nb-select",43),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.questionsAllowed=e})),d.zc(2,Ms,2,2,"nb-option",44),d.Tb(),d.Ub(3,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(4,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("selected",i.assessment.assessmentProcedure.questionsAllowed),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function Ss(e,s){if(1&e&&(d.Ub(0,"nb-radio",83),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function Is(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",130),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentProcedure.pilotDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(4);d.Cb(3),d.jc("ngModel",t.assessment.assessmentProcedure.pilotDescription)("hidden",!t.assessment.assessmentProcedure.isPilotAssessment)}}function Ds(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"nb-radio-group",129),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.isPilotAssessment=e})),d.zc(2,Ss,2,2,"nb-radio",81),d.Tb(),d.zc(3,Is,4,2,"div",17),d.Ub(4,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.isPilotAssessment),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentProcedure.isPilotAssessment)),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function Ns(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"h4",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,vs,1,1,"nb-icon",70),d.Tb(),d.Tb(),d.zc(6,Ps,12,7,"div",50),d.Ub(7,"div",115),d.zc(8,xs,8,3,"div",116),d.zc(9,Bs,5,3,"div",33),d.zc(10,Ds,6,4,"div",33),d.Tb(),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions),d.Cb(2),d.jc("ngIf","PR-19"===n.key),d.Cb(1),d.jc("ngIf","PR-20"===n.key),d.Cb(1),d.jc("ngIf","PR-21"===n.key)}}function zs(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function qs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",131),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentData.dataCollectionProcedure=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkDataQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentData.dataCollectionProcedure),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function Es(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",132),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentData.analysisDescription=e})),d.Tb(),d.Ub(4,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkDataQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(3),d.jc("ngModel",i.assessment.assessmentData.analysisDescription),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function Vs(e,s){if(1&e&&(d.Ub(0,"nb-radio",83),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function Qs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",130),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentData.statisticalMethodsDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(4);d.Cb(3),d.jc("ngModel",t.assessment.assessmentData.statisticalMethodsDescription)("hidden",!t.assessment.assessmentData.statisticalMethods)}}function Rs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"nb-radio-group",129),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentData.statisticalMethods=e})),d.zc(2,Vs,2,2,"nb-radio",81),d.Tb(),d.zc(3,Qs,4,2,"div",17),d.Ub(4,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkDataQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentData.statisticalMethods),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentData.statisticalMethods)),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function _s(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"h4",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,zs,1,1,"nb-icon",70),d.Tb(),d.Tb(),d.Ub(6,"div",115),d.zc(7,qs,4,2,"div",17),d.zc(8,Es,6,2,"div",17),d.zc(9,Rs,6,4,"div",33),d.Tb(),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(2),d.jc("ngIf","DT-22"===n.key),d.Cb(1),d.jc("ngIf","DT-23"===n.key),d.Cb(1),d.jc("ngIf","DT-24"===n.key)}}function $s(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function Fs(e,s){if(1&e&&d.Pb(0,"nb-icon",49),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function Gs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the threat?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(5).removeThreat(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Ls(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",90),d.Ub(1,"div",112),d.Pb(2,"textarea",134),d.Ub(3,"nb-icon",103),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(5).open(e)})),d.Tb(),d.zc(4,Gs,8,0,"ng-template",null,135,d.Ac),d.Tb(),d.Pb(6,"hr",6),d.Tb()}if(2&e){var t=s.index,i=d.dc(2).$implicit;d.jc("formGroupName",t),d.Cb(2),d.jc("placeholder",i.placeholder)}}function Ws(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",123),d.Ub(1,"form",133),d.zc(2,Ls,7,2,"section",87),d.Tb(),d.Ub(3,"button",125),d.bc("click",(function(){return d.sc(n),d.dc(4).addThreats()})),d.Pb(4,"nb-icon",89),d.Bc(5," Add Threat "),d.Tb(),d.Ub(6,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkThreatQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.threats.controls),d.Cb(4),d.jc("checked",i.verifyThreatState(t.key))}}function Ks(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",136),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentThreat.controlMeasure=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkThreatQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.controlMeasure)("placeholder",t.placeholder),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function Ys(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the threat?"),d.Tb(),d.Ub(3,"nb-card-footer",95),d.Ub(4,"button",96),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(5).removeLimitation(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",97),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Hs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",90),d.Ub(1,"div",112),d.Pb(2,"textarea",138),d.Ub(3,"nb-icon",103),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(5).open(e)})),d.Tb(),d.zc(4,Ys,8,0,"ng-template",null,135,d.Ac),d.Tb(),d.Pb(6,"hr",6),d.Tb()}if(2&e){var t=s.index,i=d.dc(2).$implicit;d.jc("formGroupName",t),d.Cb(2),d.jc("placeholder",i.placeholder)}}function Js(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",123),d.Ub(1,"form",137),d.zc(2,Hs,7,2,"section",87),d.Tb(),d.Ub(3,"button",125),d.bc("click",(function(){return d.sc(n),d.dc(4).addLimitation()})),d.Pb(4,"nb-icon",89),d.Bc(5," Add Limitation "),d.Tb(),d.Ub(6,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkThreatQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.limitations.controls),d.Cb(4),d.jc("checked",i.verifyThreatState(t.key))}}function Xs(e,s){if(1&e&&(d.Ub(0,"nb-radio",83),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function Zs(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",139),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(5).assessment.assessmentThreat.ethicalAspectsDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(2).$implicit,i=d.dc(3);d.Cb(3),d.jc("ngModel",i.assessment.assessmentThreat.ethicalAspectsDescription)("hidden",!i.assessment.assessmentThreat.ethicalAspectsDefined)("placeholder",t.placeholder)}}function en(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",22),d.Ub(1,"nb-radio-group",129),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentThreat.ethicalAspectsDefined=e})),d.zc(2,Xs,2,2,"nb-radio",81),d.Tb(),d.zc(3,Zs,4,3,"div",17),d.Ub(4,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkThreatQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.ethicalAspectsDefined),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentThreat.ethicalAspectsDefined)),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function sn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",136),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentThreat.biasDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",56),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkThreatQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.biasDescription)("placeholder",t.placeholder),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function nn(e,s){if(1&e&&(d.Ub(0,"div",51),d.Ub(1,"label",2),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.zc(5,Fs,1,1,"nb-icon",70),d.Tb(),d.zc(6,Ws,8,3,"div",116),d.zc(7,Ks,4,3,"div",17),d.zc(8,Js,8,3,"div",116),d.zc(9,en,6,4,"div",33),d.zc(10,sn,4,3,"div",17),d.Pb(11,"br"),d.Pb(12,"hr",6),d.Tb()),2&e){var n=s.$implicit,t=d.dc(3);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Dc("",n.subTitle," "),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","TH-25-1"===n.key),d.Cb(1),d.jc("ngIf","TH-25-2"===n.key),d.Cb(1),d.jc("ngIf","TH-25-3"===n.key),d.Cb(1),d.jc("ngIf","TH-25-4"===n.key),d.Cb(1),d.jc("ngIf","TH-25-5"===n.key)}}function tn(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",47),d.Ub(2,"h4",48),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,$s,1,1,"nb-icon",70),d.Tb(),d.Tb(),d.zc(6,nn,13,8,"div",50),d.Pb(7,"div",115),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions)}}function an(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"div",2),d.Ub(2,"h3"),d.Bc(3," Edit Assessment Plan "),d.Tb(),d.Ub(4,"nb-card",3),d.Ub(5,"nb-card-header"),d.Ub(6,"b"),d.Bc(7,"READ BEFORE FILLING OUT THE PLAN"),d.Tb(),d.Tb(),d.Ub(8,"nb-card-body"),d.Bc(9," For reasons of integrity control and progress of the planning result, after filling each question with the final answer, it is necessary to check the "),d.Ub(10,"b"),d.Bc(11,'"Done" checkbox'),d.Tb(),d.Bc(12,"."),d.Pb(13,"br"),d.Pb(14,"br"),d.Bc(15," Each question has its own corresponding "),d.Ub(16,"b"),d.Bc(17,'"Done" checkbox'),d.Tb(),d.Bc(18,". Usually located below or to the right of the answer."),d.Pb(19,"br"),d.Pb(20,"br"),d.Ub(21,"label",4),d.Bc(22,"What it looks like: "),d.Pb(23,"br"),d.Ub(24,"nb-checkbox",5),d.Bc(25,"Done"),d.Tb(),d.Tb(),d.Pb(26,"br"),d.Pb(27,"hr",6),d.Bc(28," To start filling out the assessment plan, it is necessary to click on the "),d.Ub(29,"b"),d.Bc(30,'"Edit Section"'),d.Tb(),d.Bc(31," button located at the top right of each section."),d.Pb(32,"br"),d.Pb(33,"br"),d.Ub(34,"label",4),d.Bc(35,"What it looks like: "),d.Pb(36,"br"),d.Pb(37,"br"),d.Ub(38,"button",7),d.Pb(39,"nb-icon",8),d.Bc(40," EDIT SECTION "),d.Tb(),d.Tb(),d.Pb(41,"br"),d.Tb(),d.Tb(),d.Ub(42,"nb-card"),d.Ub(43,"nb-card-header"),d.Ub(44,"b"),d.Bc(45,"PLAN SECTIONS"),d.Tb(),d.Ub(46,"button",9),d.bc("click",(function(){return d.sc(n),d.dc().openReviewDialog()})),d.Pb(47,"nb-icon",10),d.Bc(48," SUBMIT REVIEW "),d.Tb(),d.Tb(),d.Ub(49,"nb-card-body",11),d.Ub(50,"nb-card"),d.Ub(51,"nb-card-header",12),d.Ub(52,"label"),d.Ub(53,"b"),d.Bc(54,"Assessment Plan Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(55,"nb-card-body",11),d.Ub(56,"div",13),d.Ub(57,"button",14),d.bc("click",(function(){return d.sc(n),d.dc().addCollaborator()})),d.Pb(58,"nb-icon",15),d.Bc(59," ADD COLLABORATOR "),d.Tb(),d.Pb(60,"nb-progress-bar",16),d.zc(61,K,2,0,"label",17),d.Tb(),d.Tb(),d.Tb(),d.Ub(62,"nb-accordion",18),d.Ub(63,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.application.acronym)})),d.Ub(64,"nb-accordion-item-header",20),d.Bc(65),d.Tb(),d.Ub(66,"nb-accordion-item-body"),d.Ub(67,"div",1),d.Ub(68,"nb-card"),d.Ub(69,"nb-card-header",12),d.Ub(70,"label"),d.Ub(71,"b"),d.Bc(72,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(73,"nb-card-body",11),d.Ub(74,"div",13),d.Pb(75,"nb-progress-bar",16),d.Ub(76,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.application.acronym)})),d.Pb(77,"nb-icon",8),d.Bc(78," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(79,"div",22),d.zc(80,Oe,5,2,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(81,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.goals.acronym)})),d.Ub(82,"nb-accordion-item-header",20),d.Bc(83),d.Tb(),d.Ub(84,"nb-accordion-item-body"),d.Ub(85,"div",1),d.Ub(86,"nb-card"),d.Ub(87,"nb-card-header",12),d.Ub(88,"label"),d.Ub(89,"b"),d.Bc(90,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(91,"nb-card-body",11),d.Ub(92,"div",13),d.Pb(93,"nb-progress-bar",16),d.Ub(94,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.goals.acronym)})),d.Pb(95,"nb-icon",8),d.Bc(96," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(97,"div",22),d.zc(98,Se,7,3,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(99,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.variables.acronym)})),d.Ub(100,"nb-accordion-item-header",20),d.Bc(101),d.Tb(),d.Ub(102,"nb-accordion-item-body"),d.Ub(103,"div",1),d.Ub(104,"nb-card"),d.Ub(105,"nb-card-header",12),d.Ub(106,"label"),d.Ub(107,"b"),d.Bc(108,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(109,"nb-card-body",11),d.Ub(110,"div",13),d.Pb(111,"nb-progress-bar",16),d.Ub(112,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.variables.acronym)})),d.Pb(113,"nb-icon",8),d.Bc(114," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(115,"div",22),d.zc(116,Ge,8,4,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(117,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.participants.acronym)})),d.Ub(118,"nb-accordion-item-header",20),d.Bc(119),d.Tb(),d.Ub(120,"nb-accordion-item-body"),d.Ub(121,"div",1),d.Ub(122,"nb-card"),d.Ub(123,"nb-card-header",12),d.Ub(124,"label"),d.Ub(125,"b"),d.Bc(126,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(127,"nb-card-body",11),d.Ub(128,"div",13),d.Pb(129,"nb-progress-bar",16),d.Ub(130,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.participants.acronym)})),d.Pb(131,"nb-icon",8),d.Bc(132," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(133,"div",22),d.zc(134,is,15,9,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(135,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.tasks.acronym)})),d.Ub(136,"nb-accordion-item-header",20),d.Bc(137),d.Tb(),d.Ub(138,"nb-accordion-item-body"),d.Ub(139,"div",1),d.Ub(140,"nb-card"),d.Ub(141,"nb-card-header",12),d.Ub(142,"label"),d.Ub(143,"b"),d.Bc(144,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(145,"nb-card-body",11),d.Ub(146,"div",13),d.Pb(147,"nb-progress-bar",16),d.Ub(148,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.tasks.acronym)})),d.Pb(149,"nb-icon",8),d.Bc(150," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(151,"div",22),d.zc(152,Cs,10,4,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(153,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.procedure.acronym)})),d.Ub(154,"nb-accordion-item-header",20),d.Bc(155),d.Tb(),d.Ub(156,"nb-accordion-item-body"),d.Ub(157,"div",1),d.Ub(158,"nb-card"),d.Ub(159,"nb-card-header",12),d.Ub(160,"label"),d.Ub(161,"b"),d.Bc(162,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(163,"nb-card-body",11),d.Ub(164,"div",13),d.Pb(165,"nb-progress-bar",16),d.Ub(166,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.procedure.acronym)})),d.Pb(167,"nb-icon",8),d.Bc(168," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(169,"div",22),d.zc(170,Ns,11,6,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(171,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.data.acronym)})),d.Ub(172,"nb-accordion-item-header",20),d.Bc(173),d.Tb(),d.Ub(174,"nb-accordion-item-body"),d.Ub(175,"div",1),d.Ub(176,"nb-card"),d.Ub(177,"nb-card-header",12),d.Ub(178,"label"),d.Ub(179,"b"),d.Bc(180,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(181,"nb-card-body",11),d.Ub(182,"div",13),d.Pb(183,"nb-progress-bar",16),d.Ub(184,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.data.acronym)})),d.Pb(185,"nb-icon",8),d.Bc(186," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(187,"div",22),d.zc(188,_s,10,5,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(189,"nb-accordion-item",19),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onClickApplication(e.categories.threats.acronym)})),d.Ub(190,"nb-accordion-item-header",20),d.Bc(191),d.Tb(),d.Ub(192,"nb-accordion-item-body"),d.Ub(193,"div",1),d.Ub(194,"nb-card"),d.Ub(195,"nb-card-header",12),d.Ub(196,"label"),d.Ub(197,"b"),d.Bc(198,"Section Progress"),d.Tb(),d.Tb(),d.Tb(),d.Ub(199,"nb-card-body",11),d.Ub(200,"div",13),d.Pb(201,"nb-progress-bar",16),d.Ub(202,"button",21),d.bc("click",(function(){d.sc(n);var e=d.dc();return e.onEdit(e.categories.threats.acronym)})),d.Pb(203,"nb-icon",8),d.Bc(204," EDIT SECTION "),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(205,"div",22),d.zc(206,tn,8,3,"div",23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(207,"nb-card-footer"),d.Ub(208,"div"),d.Ub(209,"button",24),d.bc("click",(function(){return d.sc(n),d.dc().onFinish()})),d.Ub(210,"b"),d.Bc(211,"FINISH"),d.Tb(),d.Pb(212,"nb-icon",25),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc();d.Cb(46),d.jc("disabled",!t.isPlanDone()||t.isInReviewPhase()||!t.isCompletedPlan()),d.Cb(1),d.jc("nbTooltipTrigger",t.isPlanDone()?"noop":"hover"),d.Cb(10),d.jc("disabled",!t.isAuthor),d.Cb(1),d.jc("nbTooltipTrigger",t.isAuthor?"noop":"hover"),d.Cb(2),d.jc("displayValue",!0)("status",t.getPlanPercentageColor())("value",t.planPercentage),d.Cb(1),d.jc("ngIf",0===t.planPercentage),d.Cb(4),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.application.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.getApplicationAcronym()).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.goals.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.goals.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.variables.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.variables.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.participants.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.participants.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.tasks.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.tasks.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.procedure.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.procedure.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.data.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.data.acronym).parentQuestions),d.Cb(3),d.Dc(" ",t.getCharacterizationQuestionsObject(t.categories.threats.acronym).section," "),d.Cb(10),d.jc("displayValue",!0)("status",t.getPercentageColor())("value",t.questionsPercentage),d.Cb(5),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.threats.acronym).parentQuestions),d.Cb(3),d.jc("disabled",!t.isPlanDone()&&!t.isAuthor||t.isInReviewPhase()||t.isCompletedPlan()),d.Cb(3),d.jc("nbTooltipTrigger",t.isAuthor?"noop":"hover")}}var rn,cn=((rn=function(){function s(e,n,t,a,r,c,o,l){var b=this;i(this,s),this.assessmentService=e,this.reviewService=n,this.questionService=t,this.formBuilder=r,this.dialogService=c,this.toastrService=o,this.store=l,this.formEditable=!1,this.isVald=!1,this.questionsAnswered=0,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.usabilityAtributes=V.a.USABILITY_ATRIBUTES,this.categories=V.a.CATEGORIES,this.smartCityCategories=V.a.SMART_CITY_CATEGORY,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.selectOptions=V.a.SELECT_OPTIONS,this.sectionControl=V.a.SECTION_CONTROL,this.toast=new k.a(o),this.router=a,this.store.select(m.a).subscribe((function(e){return b.user=e})),this.planInfo=this.router.getCurrentNavigation().extras.state,this.form=this.formBuilder.group({questions:this.formBuilder.array([]),tools:this.formBuilder.array([]),tasks:this.formBuilder.array([]),steps:this.formBuilder.array([]),threats:this.formBuilder.array([]),limitations:this.formBuilder.array([])})}return t(s,[{key:"addCollaborator",value:function(){this.router.navigate(["/pages/assessment/my-plans/edit/add-collaborator"],{state:this.assessment})}},{key:"isAuthor",get:function(){return"AUTHOR"===this.assessment.userProfile}},{key:"questions",get:function(){return this.form.controls.questions}},{key:"values",get:function(){return this.form.value}},{key:"serializedValues",get:function(){var e=Object.assign(Object.assign({},this.values),{planQuestions:this.values.questions.map((function(e){return e.question}))});return delete e.questions,e}},{key:"tools",get:function(){return this.form.controls.tools}},{key:"tasks",get:function(){return this.form.controls.tasks}},{key:"steps",get:function(){return this.form.controls.steps}},{key:"threats",get:function(){return this.form.controls.threats}},{key:"limitations",get:function(){return this.form.controls.limitations}},{key:"ngOnInit",value:function(){var e=this;this.assessment=new q,this.assessmentService.getAssessmentByUid(this.planInfo.assessmentUid).subscribe((function(s){e.assessment=s,e.loadResources(),e.dataloaded=Promise.resolve(!0)})),this.assessmentService.releaseSection(this.user.uid).subscribe()}},{key:"loadResources",value:function(){this.calculatePlanPercentage(),this.initQuestionnaire(),this.initGoals(),this.initAnswers(),this.initAssessmentAttribute(),this.initParticipants(),this.initAssessmentTools(),this.initProcedure(),this.initDataCollection(),this.initThreats()}},{key:"getApplicationAcronym",value:function(){return this.categories.application.acronym}},{key:"initQuestionnaire",value:function(){this.isNullOrUndefined(this.assessment.smartCityQuestionnaire)&&(this.assessment.smartCityQuestionnaire=new R.g(null,null,null,null,null,null,null,null))}},{key:"initGoals",value:function(){(this.isNullOrUndefined(this.assessment.usabilityGoals)||0===this.assessment.usabilityGoals.length)&&(this.assessment.usabilityGoals=[new R.h("LRN"),new R.h("EFF"),new R.h("USR"),new R.h("ERR"),new R.h("STF")]),this.fillGoalsArray()}},{key:"initParticipants",value:function(){var e=this;this.isNullOrUndefined(this.assessment.participant)&&(this.assessment.participant=new R.f),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map((function(s){return e.formBuilder.group({question:[s]})})),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map((function(s){return e.questions.push(e.formBuilder.group({question:[s]}))}))}},{key:"initAssessmentAttribute",value:function(){var e=this;(this.isNullOrUndefined(this.assessment.attributes)||0===this.assessment.attributes.length)&&this.usabilityAtributes.forEach((function(s){return e.assessment.attributes.push(new R.e(s))})),(this.isNullOrUndefined(this.assessment.scale)||0===this.assessment.scale.length)&&(this.assessment.scale=[]),this.fillVariableArray()}},{key:"fillVariableArray",value:function(){var e=this;if(5!==this.assessment.attributes.length){var s=!1;this.usabilityAtributes.forEach((function(n){e.assessment.attributes.forEach((function(e){n===e.usabilityAttribute&&(s=!0)})),!1===s&&e.assessment.attributes.push({usabilityAttribute:n,variables:null,obtainedBy:null}),s=!1}))}}},{key:"initAssessmentTools",value:function(){var e=this;this.isNullOrUndefined(this.assessment.assessmentTools)&&(this.assessment.assessmentTools=new R.d),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map((function(s){return e.formBuilder.group({tool:[s]})})),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map((function(s){return e.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]})})),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map((function(s){return e.tools.push(e.formBuilder.group({tool:[s]}))})),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map((function(s){return e.tasks.push(e.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]}))}))}},{key:"initAnswers",value:function(){this.isNullOrUndefined(this.assessment.answers)&&(this.assessment.answers=new _.a)}},{key:"initProcedure",value:function(){var e=this;this.isNullOrUndefined(this.assessment.assessmentProcedure)&&(this.assessment.assessmentProcedure=new R.b),0!==this.assessment.assessmentProcedure.assessmentProcedureSteps.length&&this.assessment.assessmentProcedure.assessmentProcedureSteps.map((function(s){return e.steps.push(e.formBuilder.group({name:[s.name],description:[s.description]}))}))}},{key:"initDataCollection",value:function(){this.isNullOrUndefined(this.assessment.assessmentData)&&(this.assessment.assessmentData=new R.a)}},{key:"initThreats",value:function(){var e=this;this.isNullOrUndefined(this.assessment.assessmentThreat)&&(this.assessment.assessmentThreat=new R.c),0!==this.assessment.assessmentThreat.threats.length&&this.assessment.assessmentThreat.threats.map((function(s){return e.threats.push(e.formBuilder.group({threat:[s]}))})),0!==this.assessment.assessmentThreat.limitations.length&&this.assessment.assessmentThreat.limitations.map((function(s){return e.limitations.push(e.formBuilder.group({limitation:[s]}))}))}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"onClickApplication",value:function(e){null==this.assessment.smartCityQuestionnaire&&(this.assessment.smartCityQuestionnaire=new R.g(null,null,null,null,null,null,null,null)),this.calculateProgressPercentage(e),e===this.categories.variables.acronym&&this.getUsabilityScales()}},{key:"getUsabilityScales",value:function(){var e=this;void 0!==this.usabilityScales&&0!==this.usabilityScales.length||this.assessmentService.getScaleList().subscribe((function(s){e.usabilityScales=s}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNullOrUndefinedOrFalse",value:function(e){return!1===e||null==e}},{key:"isNullOrUndefinedOrTrue",value:function(e){return!0===e||null==e}},{key:"isNull",value:function(e){return null===e}},{key:"isEqual",value:function(e,s){return e===s}},{key:"booleanToString",value:function(e){return!0===e?"YES":"NO"}},{key:"isDataManagement",value:function(e){return e===this.smartCityCategories.dataManagement.acronym}},{key:"setSmartCityAnswerField",value:function(e,s){this.smartCityCategories.dataManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasDataManagement=e:this.smartCityCategories.applicationExecutionEnvironment.acronym===s?this.assessment.smartCityQuestionnaire.hasAppExecution=e:this.smartCityCategories.sensorNetworkManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasSensorNetwork=e:this.smartCityCategories.dataProcessing.acronym===s?this.assessment.smartCityQuestionnaire.hasDataProcessing=e:this.smartCityCategories.dataAccess.acronym===s?this.assessment.smartCityQuestionnaire.hasDataAccess=e:this.smartCityCategories.serviceManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasServiceManagement=e:this.smartCityCategories.toolsforSoftwareDevelopment.acronym===s?this.assessment.smartCityQuestionnaire.hasSoftwareTools=e:this.assessment.smartCityQuestionnaire.defineCityModel=e}},{key:"isFirstQuestion",value:function(e){return"AP-PN"===e||"AP-PD"===e}},{key:"checkUsabilityGoal",value:function(e,s){"LRN"===s.attribute?this.assessment.answers.planGoalsAnswers.learnability=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s.attribute?this.assessment.answers.planGoalsAnswers.efficiency=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s.attribute?this.assessment.answers.planGoalsAnswers.errorRate=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planGoalsAnswers.satisfaction=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"checkApplicationSection",value:function(e,s,n){"AP-PN"===s?this.assessment.answers.planApplicationAnswers.projectName=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"AP-PD"===s?this.assessment.answers.planApplicationAnswers.projectDescription=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.isDataManagement(s)?this.assessment.answers.planApplicationAnswers.dataManagement=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.applicationExecutionEnvironment.acronym?this.assessment.answers.planApplicationAnswers.applicationExecution=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.sensorNetworkManagement.acronym?this.assessment.answers.planApplicationAnswers.sensorNetwork=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.dataProcessing.acronym?this.assessment.answers.planApplicationAnswers.dataProcessing=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.toolsforSoftwareDevelopment.acronym?this.assessment.answers.planApplicationAnswers.tools=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.definingACityModel.acronym?this.assessment.answers.planApplicationAnswers.definingCityModel=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.dataAccess.acronym?this.assessment.answers.planApplicationAnswers.dataAccess=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planApplicationAnswers.serviceManagement=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"verifyUsabilityVariableCheck",value:function(e,s){return"VM-4"===s?"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name:"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name}},{key:"checkUsabilityVariable",value:function(e,s,n){"VM-4"===n?"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"ApplicationSectionCheckboxStatus",value:function(e){return e===this.planAnswersConstants.answered.name}},{key:"verifyGoalsCheckState",value:function(e){return"LRN"===e.attribute?this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name:"EFF"===e.attribute?this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name:"USR"===e.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name:"ERR"===e.attribute?this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name:this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name}},{key:"verifyScaleStatus",value:function(s){var n,t=e(this.assessment.scale);try{for(t.s();!(n=t.n()).done;)if(n.value.acronym===s.acronym)return!0}catch(i){t.e(i)}finally{t.f()}return!1}},{key:"scaleSelectionCheckbox",value:function(e,s,n){if(!0===e)this.assessment.scale.push(s);else{var t=this.assessment.scale.map((function(e){return e.uid})).indexOf(s.uid);this.assessment.scale.splice(t,1)}}},{key:"verifyScalesCheckbox",value:function(){return this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name}},{key:"checkScalesCheckbox",value:function(e){this.assessment.answers.planVariableAnswers.suggestedScales=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"checkClickable",value:function(){return 0===this.assessment.scale.length?(this.tooltipTrigger="hint",!0):(this.tooltipTrigger="noop",!0!==this.formEditable)}},{key:"showValue",value:function(e){return this.isNullOrUndefined(e)?"":e}},{key:"printValue",value:function(e){console.log(e),console.log(e.type),console.log(new Date(e)),console.log(Object(Q.a)(new Date(e),"yyyy-MM-dd"))}},{key:"verifyParticipantState",value:function(e){return"PA-7"===e?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===e?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===e?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===e?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===e?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===e?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}},{key:"checkParticipantQuestion",value:function(e,s){"PA-7"===s?this.assessment.answers.planParticipantsAnswers.howManyParticipants=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-8"===s?this.assessment.answers.planParticipantsAnswers.participationType=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-9"===s?this.assessment.answers.planParticipantsAnswers.formCompensation=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-10"===s?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-11"===s?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-12"===s?this.assessment.answers.planParticipantsAnswers.participantsInstruction=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planParticipantsAnswers.askedQuestions=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"addQuestion",value:function(){""!==this.newQuestion().getRawValue()&&this.questions.push(this.newQuestion()),console.log(this.serializedValues)}},{key:"removeQuestion",value:function(e){this.questions.removeAt(e)}},{key:"addTools",value:function(){""!==this.newTool().getRawValue()&&this.tools.push(this.newTool()),console.log(this.serializedValues)}},{key:"removeTool",value:function(e){this.tools.removeAt(e)}},{key:"addTasks",value:function(){""!==this.newTask().getRawValue()&&this.tasks.push(this.newTask()),console.log(this.serializedValues)}},{key:"removeTask",value:function(e){this.tasks.removeAt(e)}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"checkIfToolsIsNotEmpty",value:function(){return 0!==this.tools.getRawValue().map((function(e){return e.tools})).length}},{key:"checkIfTasksIsNotEmpty",value:function(){return 0!==this.tasks.getRawValue().map((function(e){return e.tasks})).length}},{key:"getTaskDescription",value:function(e){return this.tasks.getRawValue()[e].description}},{key:"verifyMaterialsCheckState",value:function(e){return"TM-14"===e?this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name:"TM-15"===e?this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name:"TM-16"===e?this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name:this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name}},{key:"checkMaterial",value:function(e,s){"TM-14"===s?this.assessment.answers.planTasksAnswers.usedTools=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-15"===s?this.assessment.answers.planTasksAnswers.tasksToPerform=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-16"===s?this.assessment.answers.planTasksAnswers.tasksTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planTasksAnswers.criteria=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"verifyProcedureState",value:function(e){return"PR-18-1"===e?this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name:"PR-18-2"===e?this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name:"PR-18-3"===e?this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name:"PR-18-4"===e?this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name:"PR-19"===e?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name:"PR-20"===e?this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name}},{key:"checkProcedureQuestion",value:function(e,s){"PR-18-1"===s?this.assessment.answers.planProcedureAnswers.whenOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-2"===s?this.assessment.answers.planProcedureAnswers.whereOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-3"===s?this.assessment.answers.planProcedureAnswers.howOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-4"===s?this.assessment.answers.planProcedureAnswers.howMuchTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-19"===s?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-20"===s?this.assessment.answers.planProcedureAnswers.questionsAllowed=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"addSteps",value:function(){""!==this.newStep().getRawValue()&&this.steps.push(this.newStep()),console.log(this.serializedValues)}},{key:"removeSteps",value:function(e){this.steps.removeAt(e)}},{key:"verifyDataState",value:function(e){return"DT-22"===e?this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name:"DT-23"===e?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name:this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name}},{key:"checkDataQuestion",value:function(e,s){"DT-22"===s?this.assessment.answers.planDataAnswers.dataCollectionProcedure=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"DT-23"===s?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planDataAnswers.statisticalMethods=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"addThreats",value:function(){""!==this.newThreat().getRawValue()&&this.threats.push(this.newThreat())}},{key:"removeThreat",value:function(e){this.threats.removeAt(e)}},{key:"addLimitation",value:function(){""!==this.newLimitation().getRawValue()&&this.limitations.push(this.newLimitation())}},{key:"removeLimitation",value:function(e){this.limitations.removeAt(e)}},{key:"verifyThreatState",value:function(e){return"TH-25-1"===e?this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name:"TH-25-2"===e?this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name:"TH-25-3"===e?this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name:"TH-25-4"===e?this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name:this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name}},{key:"checkThreatQuestion",value:function(e,s){"TH-25-1"===s?this.assessment.answers.planThreatsAnswers.whatThreats=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-2"===s?this.assessment.answers.planThreatsAnswers.threatsValidityControlled=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-3"===s?this.assessment.answers.planThreatsAnswers.assessmentLimitations=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-4"===s?this.assessment.answers.planThreatsAnswers.ethicalAspects=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planThreatsAnswers.assessmentBiases=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"getPercentageColor",value:function(){return this.questionsPercentage<=25?"danger":this.questionsPercentage>40&&this.questionsPercentage<=70?"warning":this.questionsPercentage>70&&this.questionsPercentage<=99?"primary":"success"}},{key:"getPlanPercentageColor",value:function(){return this.planPercentage<=25?"danger":this.planPercentage>40&&this.planPercentage<=70?"warning":this.planPercentage>70&&this.planPercentage<=99?"primary":"success"}},{key:"calculateProgressPercentage",value:function(e){var s;this.questionsPercentage=0,this.questionsAnswered=0,this.categories.application.acronym===e?(s=10,this.assessment.answers.planApplicationAnswers.projectName===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.projectDescription===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.applicationExecution===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataAccess===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataProcessing===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.definingCityModel===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.sensorNetwork===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.serviceManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.tools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.goals.acronym===e?(s=5,this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.variables.acronym===e?(s=11,this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.participants.acronym===e?(s=7,this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.tasks.acronym===e?(s=4,this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.procedure.acronym===e?(s=7,this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.data.acronym===e?(s=3,this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):(s=5,this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1));var n=+(100*this.questionsAnswered/s).toFixed(1);this.questionsPercentage=n>100?100:n}},{key:"calculatePlanPercentage",value:function(){this.planPercentage=0,this.questionsAnswered=0,this.assessment.answers.planApplicationAnswers.projectName===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.projectDescription===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.applicationExecution===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataAccess===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataProcessing===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.definingCityModel===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.sensorNetwork===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.serviceManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.tools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1);var e=+(100*this.questionsAnswered/52).toFixed(1);this.planPercentage=e>100?100:e}},{key:"setSubmitTooltipTrigger",value:function(){100!==this.planPercentage&&(this.submitTooltip="hint"),this.submitTooltip="noop"}},{key:"isPlanDone",value:function(){return 100===this.planPercentage}},{key:"isInReviewPhase",value:function(){return"IN_REVIEW"===this.assessment.state||"WAITING_REVIEW"===this.assessment.state}},{key:"isCompletedPlan",value:function(){return"COMPLETED"===this.assessment.state||"REVIEWED"===this.assessment.state}},{key:"onEdit",value:function(e){var s=this;this.sectionRequest=new F(this.assessment.uid,e),this.sectionUpdate=new G(this.assessment.uid,this.user.uid,e),this.assessmentService.verifySection(this.sectionUpdate).subscribe((function(n){s.sectionResponse=n,s.sectionResponse.sectionControlEnum===s.sectionControl.busy.name?s.toast.showToast("section","top-right","warning",n.userName):s.router.navigate(s.categories.application.acronym===e?["/pages/assessment/my-plans/edit/application"]:s.categories.goals.acronym===e?["/pages/assessment/my-plans/edit/goal"]:s.categories.variables.acronym===e?["/pages/assessment/my-plans/edit/variable"]:s.categories.participants.acronym===e?["/pages/assessment/my-plans/edit/participant"]:s.categories.tasks.acronym===e?["/pages/assessment/my-plans/edit/tools"]:s.categories.procedure.acronym===e?["/pages/assessment/my-plans/edit/procedure"]:s.categories.data.acronym===e?["/pages/assessment/my-plans/edit/data"]:["/pages/assessment/my-plans/edit/threats"],{state:s.assessment})}))}},{key:"onFinish",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assessmentService.updatePlanState(this.assessment.uid);case 2:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"fillGoalsArray",value:function(){var e=this;if(5!==this.assessment.usabilityGoals.length){var s=!1;this.usabilityAtributes.forEach((function(n){e.assessment.usabilityGoals.forEach((function(e){n===e.attribute&&(s=!0)})),!1===s&&e.assessment.usabilityGoals.push({attribute:n,goal:null,done:!1}),s=!1}))}}},{key:"openReviewDialog",value:function(){var e=this;this.dialogService.open(L).onClose.subscribe((function(s){e.reviewDate=s,null==e.reviewDate||(e.reviewRequest=new W(e.assessment.uid,e.reviewDate),e.reviewService.submitReview(e.reviewRequest).subscribe((function(s){e.toast.showToast("review","top-right","success","Assessment Plan"),e.assessment=s;var n=new $(e.assessment.uid,e.assessment.projectName);e.router.navigate(["/pages/assessment/my-plans"],{state:n})}),(function(){e.toast.showToast("review","top-right","danger","Assessment Plan")})))}))}},{key:"newQuestion",value:function(){return this.formBuilder.group({question:[""]})}},{key:"newTool",value:function(){return this.formBuilder.group({tool:[""]})}},{key:"newTask",value:function(){return this.formBuilder.group({description:[""],taskExecutionTime:[""],acceptanceCriteria:[""]})}},{key:"newStep",value:function(){return this.formBuilder.group({name:[""],description:[""]})}},{key:"newThreat",value:function(){return this.formBuilder.group({threat:[""]})}},{key:"newLimitation",value:function(){return this.formBuilder.group({limitation:[""]})}}]),s}()).\u0275fac=function(e){return new(e||rn)(d.Ob(h.a),d.Ob(j.a),d.Ob(E.a),d.Ob(b.d),d.Ob(c.d),d.Ob(l.J),d.Ob(l.ub),d.Ob(g.h))},rn.\u0275cmp=d.Ib({type:rn,selectors:[["ngx-edit-plan"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"col-lg-12"],["accent","warning"],[2,"padding-left","10px"],["status","primary"],[1,"solid"],["ghost","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right"],["icon","edit-2-outline"],["hero","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right",2,"margin-left","5px",3,"disabled","click"],["nbTooltip","The plan must be 100% completed to be submitted for review.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","eye-outline",3,"nbTooltipTrigger"],[1,"example-items-col"],[2,"background-color","#206ea1"],[1,"row","col-lg-12","bottom-margin"],["ghost","","nbButton","","size","medium","shape","round","status","success",2,"margin-left","5px",3,"disabled","click"],["nbTooltip","You must be the author of the plan to add collaborators.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","person-add-outline",3,"nbTooltipTrigger"],["fullWidth","",1,"col-lg-8","vertical-center",3,"displayValue","status","value"],[4,"ngIf"],["multi",""],[3,"click"],[2,"background-color","#d9d9d9","color","#1a1f33"],["ghost","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right",2,"margin-left","5px",3,"click"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["nbTooltip","You must be the author of the plan to finish it.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","done-all-outline",3,"nbTooltipTrigger"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],["class","col-lg-10",4,"ngIf","ngIfElse"],["class","container",4,"ngIf","ngIfElse"],["percentage",""],["applicationSectionRadioButtons",""],[1,"col-lg-10"],["class","col-lg-12 bottom-margin",4,"ngIf"],["fullWidth","","nbInput","","readonly","","required","true","type","text",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","","status","primary",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe your project","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","true","status","primary",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-4","vertical-center"],[2,"color","#3c763d"],[1,"container",2,"padding-left","10px"],["placeholder","Not Selected","style","padding-left: 10px",3,"selected","selectedChange",4,"ngIf"],["class","padding-right","disabled","true","status","primary",3,"checked","checkedChange",4,"ngIf"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],["disabled","true",3,"value",4,"ngFor","ngForOf"],["disabled","true",3,"value"],["disabled","true","status","primary",1,"padding-right",3,"checked","checkedChange"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","readonly","","required","true","rows","5","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","disabled","true","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","true","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-12","bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning","style","padding-left: 5px",3,"nbTooltip",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",2,"padding-left","5px",3,"nbTooltip"],["fullWidth","","nbInput","","placeholder","Describe the attribule variables here","readonly","","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the attribule variables here","readonly","","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","readonly","","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","readonly","","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"form-group"],["class","row",4,"ngFor","ngForOf"],["nbButton","","nbTooltip","It is necessary to choose at least one option.","nbTooltipPlacement","top","nbTooltipStatus","danger","status","primary","status","danger",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","nbTooltipTrigger","checkedChange"],[1,"row"],["disabled","true","status","primary",2,"padding-left","20px",3,"checked","checkedChange"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space",3,"nbTooltip"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],["class","bottom-margin-light",3,"formGroup",4,"ngIf"],[1,"bottom-margin-light"],["fullWidth","","nbInput","","placeholder","Enter the quantity","readonly","","required","true","type","number",1,"col-lg-3",2,"padding-left","10px",3,"ngModel"],["disabled","","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["disabled","true","value","P"],["disabled","true","value","R"],["fullWidth","","nbInput","","placeholder","Describe the compesations here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the eligibility criteria here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["placeholder","Not Selected",1,"bottom-margin-light",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describes data usage here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","disabled","ngModelChange"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describes instructions here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"bottom-margin-light",3,"formGroup"],["formArrayName","questions",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","hidden","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","question","fullWidth","","id","input-question","name","question","nbInput","","placeholder","New question","shape","round","readonly","",1,"display-next","bottom-margin"],["icon","minus-circle-outline","nbButton","","hidden","","status","danger",1,"display-next",3,"click"],["deleteQuestionDialog",""],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],[3,"formGroup"],["formArrayName","tools",1,"container","mt-3"],["disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["checked","false","disabled","true","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px"],["formControlName","tool","fullWidth","","id","input-tool","name","tool","nbInput","","placeholder","New instruments, materials, technology, or tool","shape","round","readonly","",1,"display-next","bottom-margin"],["icon","minus-circle-outline","nbButton","","status","danger","hidden","",1,"display-next",3,"click"],["deleteToolDialog",""],["fullWidth","","nbInput","","placeholder","Describe their usage here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","tasks",1,"container","mt-3"],["class","top-margin","disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click",4,"ngIf"],["class","row col-lg-8",4,"ngIf"],["class","row col-lg-12",4,"ngIf"],["formControlName","description","fullWidth","","id","input-task-description","name","task-description","nbInput","","placeholder","Describe the task","shape","round","readonly","",1,"display-next","bottom-margin"],["deleteTaskDialog",""],[1,"row","col-lg-12"],["formControlName","taskExecutionTime","fullWidth","","id","input-edit-task-execution","name","task-execution","nbInput","","placeholder","Insert the task execution time (in minutes)","readonly","",1,"display-next"],["formControlName","acceptanceCriteria","fullWidth","","id","input-task-acceptance-criteria","name","task-acceptance-criteria","nbInput","","placeholder","Insert the task acceptance criteria","readonly","",1,"display-next"],[1,"container","col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],["disabled","","nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["fullWidth","","nbInput","","placeholder","Describe where it will take place here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will occur here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how long it will take here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","steps",1,"container","mt-3"],["disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["formControlName","name","fullWidth","","id","input-step-name","name","step-name","nbInput","","placeholder","Step title","shape","round","readonly","",1,"display-next",2,"margin-bottom","10px"],["formControlName","description","fullWidth","","id","input-step-description","name","step-description","nbInput","","placeholder","Step description","shape","round","readonly","",1,"display-next","bottom-margin"],["deleteStepDialog",""],["disabled","",1,"row","bottom-margin",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the data collection procedure here","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will be analyzed here","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","threats",1,"container","mt-3"],["formControlName","threat","fullWidth","","id","input-threat","name","threat","nbInput","","shape","round","readonly","",1,"display-next","bottom-margin",2,"margin-bottom","10px",3,"placeholder"],["deleteTreatDialog",""],["fullWidth","","nbInput","","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","placeholder","ngModelChange"],["formArrayName","limitations",1,"container","mt-3"],["formControlName","limitation","fullWidth","","id","input-limitation","name","limitation","nbInput","","shape","round","readonly","",1,"display-next","bottom-margin",2,"margin-bottom","10px",3,"placeholder"],["fullWidth","","nbInput","","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","placeholder","ngModelChange"]],template:function(e,s){1&e&&(d.zc(0,an,213,50,"div",0),d.ec(1,"async")),2&e&&d.jc("ngIf",d.fc(1,1,s.dataloaded))},directives:[w.n,l.u,l.w,l.t,l.z,l.r,l.L,l.vb,l.db,l.h,l.j,l.k,l.i,w.m,l.v,l.O,c.b,c.x,c.p,c.s,l.jb,l.cb,l.m,c.u,c.q,c.h,c.B,c.r,c.c,c.i,c.g,l.F,l.E,l.gb,l.fb],pipes:[w.b],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),rn),on=a("Tk1w"),ln=function e(s){i(this,e),this.assessmentUid=s,this.hasDataManagement=null,this.hasAppExecution=null,this.hasSensorNetwork=null,this.hasDataProcessing=null,this.hasDataAccess=null,this.hasServiceManagement=null,this.hasSoftwareTools=null,this.defineCityModel=null,this.planApplicationAnswers=new _.b,this.projectName=null,this.projectDescription=null};function bn(e,s){if(1&e&&(d.Ub(0,"label",10),d.Ub(1,"b"),d.Bc(2),d.Tb(),d.Bc(3),d.Tb()),2&e){var n=d.dc().$implicit;d.Cb(2),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle)}}function dn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"input",12),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.projectName=e})),d.Tb(),d.Ub(2,"nb-checkbox",13),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.projectName)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc(4);d.Cb(1),d.jc("ngModel",t.assessment.projectName),d.Cb(1),d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.projectName))}}function un(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"textarea",14),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.projectDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",15),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.projectDescription)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc(4);d.Cb(1),d.jc("ngModel",t.assessment.projectDescription),d.Cb(1),d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.projectDescription))}}function pn(e,s){if(1&e&&(d.Ub(0,"div",0),d.zc(1,dn,4,2,"div",11),d.zc(2,un,4,2,"div",11),d.Tb()),2&e){var n=d.dc().$implicit;d.Cb(1),d.jc("ngIf","AP-PN"==n.objKey),d.Cb(1),d.jc("ngIf","AP-PD"===n.objKey)}}function hn(e,s){if(1&e&&(d.Ub(0,"div",1),d.Ub(1,"label",16),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.Ub(4,"h6",17),d.Bc(5),d.Tb(),d.Tb()),2&e){var n=d.dc(2).$implicit,t=d.dc(2);d.Cb(3),d.Cc(n.title),d.Cb(2),d.Dc("",t.assessment.smartCityPercentage,"%")}}function mn(e,s){if(1&e&&d.zc(0,hn,6,2,"div",11),2&e){var n=d.dc(3);d.jc("ngIf",!n.isNull(n.assessment.smartCityPercentage))}}function fn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function gn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasDataManagement=e})),d.zc(1,fn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataManagement),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataManagement)}}function wn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataManagement)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataManagement))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasDataManagement))}}function Cn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function vn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasAppExecution=e})),d.zc(1,Cn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasAppExecution),d.Cb(1),d.jc("ngForOf",t.selectOptions.applicationExecutionEnvironment)}}function Tn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.applicationExecution)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.applicationExecution))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasAppExecution))}}function yn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function An(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasSensorNetwork=e})),d.zc(1,yn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasSensorNetwork),d.Cb(1),d.jc("ngForOf",t.selectOptions.sensorNetworkManagement)}}function Un(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.sensorNetwork)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.sensorNetwork))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasSensorNetwork))}}function kn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Pn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasDataProcessing=e})),d.zc(1,kn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataProcessing),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataProcessing)}}function On(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataProcessing)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataProcessing))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasDataProcessing))}}function jn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function xn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasDataAccess=e})),d.zc(1,jn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasDataAccess),d.Cb(1),d.jc("ngForOf",t.selectOptions.dataAccess)}}function Mn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.dataAccess)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.dataAccess))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasDataAccess))}}function Bn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Sn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasServiceManagement=e})),d.zc(1,Bn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasServiceManagement),d.Cb(1),d.jc("ngForOf",t.selectOptions.serviceManagement)}}function In(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.serviceManagement)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.serviceManagement))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasServiceManagement))}}function Dn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function Nn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.hasSoftwareTools=e})),d.zc(1,Dn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.hasSoftwareTools),d.Cb(1),d.jc("ngForOf",t.selectOptions.toolsforSoftwareDevelopment)}}function zn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.tools)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.tools))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.hasSoftwareTools))}}function qn(e,s){if(1&e&&(d.Ub(0,"nb-option",24),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function En(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-select",22),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(4).assessment.smartCityQuestionnaire.defineCityModel=e})),d.zc(1,qn,2,2,"nb-option",23),d.Tb()}if(2&e){var t=d.dc(4);d.jc("selected",t.assessment.smartCityQuestionnaire.defineCityModel),d.Cb(1),d.jc("ngForOf",t.selectOptions.definingACityModel)}}function Vn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc(2).$implicit,t=d.dc(2);return t.checkApplicationSection(e,s.objKey,t.assessment.answers.planApplicationAnswers.definingCityModel)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc(4);d.jc("checked",t.ApplicationSectionCheckboxStatus(t.assessment.answers.planApplicationAnswers.definingCityModel))("disabled",t.isNullOrUndefined(t.assessment.smartCityQuestionnaire.defineCityModel))}}function Qn(e,s){if(1&e&&(d.Ub(0,"div",18),d.zc(1,gn,2,2,"nb-select",19),d.zc(2,wn,2,2,"nb-checkbox",20),d.zc(3,vn,2,2,"nb-select",19),d.zc(4,Tn,2,2,"nb-checkbox",20),d.zc(5,An,2,2,"nb-select",19),d.zc(6,Un,2,2,"nb-checkbox",20),d.zc(7,Pn,2,2,"nb-select",19),d.zc(8,On,2,2,"nb-checkbox",20),d.zc(9,xn,2,2,"nb-select",19),d.zc(10,Mn,2,2,"nb-checkbox",20),d.zc(11,Sn,2,2,"nb-select",19),d.zc(12,In,2,2,"nb-checkbox",20),d.zc(13,Nn,2,2,"nb-select",19),d.zc(14,zn,2,2,"nb-checkbox",20),d.zc(15,En,2,2,"nb-select",19),d.zc(16,Vn,2,2,"nb-checkbox",20),d.Pb(17,"hr",21),d.Tb()),2&e){var n=d.dc().$implicit,t=d.dc(2);d.Cb(1),d.jc("ngIf",t.isDataManagement(n.objKey)),d.Cb(1),d.jc("ngIf",t.isDataManagement(n.objKey)),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.applicationExecutionEnvironment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.applicationExecutionEnvironment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.sensorNetworkManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.sensorNetworkManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataProcessing.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataProcessing.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataAccess.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.dataAccess.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.serviceManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.serviceManagement.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.toolsforSoftwareDevelopment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.toolsforSoftwareDevelopment.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.definingACityModel.acronym),d.Cb(1),d.jc("ngIf",n.objKey===t.smartCityCategories.definingACityModel.acronym)}}function Rn(e,s){if(1&e&&(d.Ub(0,"div",5),d.zc(1,bn,4,2,"label",6),d.zc(2,pn,3,2,"div",7),d.zc(3,mn,1,1,"ng-template",null,8,d.Ac),d.zc(5,Qn,18,16,"ng-template",null,9,d.Ac),d.Tb()),2&e){var n=s.$implicit,t=d.qc(4),i=d.qc(6),a=d.dc(2);d.Cb(1),d.jc("ngIf","PERC"!=n.objKey)("ngIfElse",t),d.Cb(1),d.jc("ngIf",a.isFirstQuestion(n.objKey))("ngIfElse",i)}}function _n(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"h5",1),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.zc(4,Rn,7,4,"div",4),d.Tb()),2&e){var n=s.$implicit;d.Cb(3),d.Cc(n.title),d.Cb(1),d.jc("ngForOf",n.questions)}}var $n,Fn=(($n=function(){function e(s,n,t,a){i(this,e),this.assessmentService=s,this.questionService=n,this.toastrService=a,this.isVald=!1,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.smartCityCategories=V.a.SMART_CITY_CATEGORY,this.selectOptions=V.a.SELECT_OPTIONS,this.toast=new k.a(a),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"ngOnInit",value:function(){this.smartCityQuestionnaire=new ln(this.assessment.uid)}},{key:"getApplicationAcronym",value:function(){return this.categories.application.acronym}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNull",value:function(e){return null===e}},{key:"setSmartCityAnswerField",value:function(e,s){this.smartCityCategories.dataManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasDataManagement=e:this.smartCityCategories.applicationExecutionEnvironment.acronym===s?this.assessment.smartCityQuestionnaire.hasAppExecution=e:this.smartCityCategories.sensorNetworkManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasSensorNetwork=e:this.smartCityCategories.dataProcessing.acronym===s?this.assessment.smartCityQuestionnaire.hasDataProcessing=e:this.smartCityCategories.dataAccess.acronym===s?this.assessment.smartCityQuestionnaire.hasDataAccess=e:this.smartCityCategories.serviceManagement.acronym===s?this.assessment.smartCityQuestionnaire.hasServiceManagement=e:this.smartCityCategories.toolsforSoftwareDevelopment.acronym===s?this.assessment.smartCityQuestionnaire.hasSoftwareTools=e:this.assessment.smartCityQuestionnaire.defineCityModel=e}},{key:"isFirstQuestion",value:function(e){return"AP-PN"===e||"AP-PD"===e}},{key:"isDataManagement",value:function(e){return e===this.smartCityCategories.dataManagement.acronym}},{key:"ApplicationSectionCheckboxStatus",value:function(e){return e===this.planAnswersConstants.answered.name}},{key:"checkApplicationSection",value:function(e,s,n){console.log(this.assessment.smartCityQuestionnaire),"AP-PN"===s?this.assessment.answers.planApplicationAnswers.projectName=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"AP-PD"===s?this.assessment.answers.planApplicationAnswers.projectDescription=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.isDataManagement(s)?this.assessment.answers.planApplicationAnswers.dataManagement=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.applicationExecutionEnvironment.acronym?this.assessment.answers.planApplicationAnswers.applicationExecution=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.sensorNetworkManagement.acronym?this.assessment.answers.planApplicationAnswers.sensorNetwork=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.dataProcessing.acronym?this.assessment.answers.planApplicationAnswers.dataProcessing=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.toolsforSoftwareDevelopment.acronym?this.assessment.answers.planApplicationAnswers.tools=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.definingACityModel.acronym?this.assessment.answers.planApplicationAnswers.definingCityModel=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:s===this.smartCityCategories.dataAccess.acronym?this.assessment.answers.planApplicationAnswers.dataAccess=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planApplicationAnswers.serviceManagement=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountQuestionnaire(),e.next=3,this.assessmentService.updateAssessmentApplicationSection(this.smartCityQuestionnaire);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountQuestionnaire",value:function(){this.smartCityQuestionnaire.projectName=this.assessment.projectName,this.smartCityQuestionnaire.projectDescription=this.assessment.projectDescription,this.smartCityQuestionnaire.hasDataManagement=this.assessment.smartCityQuestionnaire.hasDataManagement,this.smartCityQuestionnaire.hasAppExecution=this.assessment.smartCityQuestionnaire.hasAppExecution,this.smartCityQuestionnaire.hasSensorNetwork=this.assessment.smartCityQuestionnaire.hasSensorNetwork,this.smartCityQuestionnaire.hasDataProcessing=this.assessment.smartCityQuestionnaire.hasDataProcessing,this.smartCityQuestionnaire.hasDataAccess=this.assessment.smartCityQuestionnaire.hasDataAccess,this.smartCityQuestionnaire.hasServiceManagement=this.assessment.smartCityQuestionnaire.hasServiceManagement,this.smartCityQuestionnaire.hasSoftwareTools=this.assessment.smartCityQuestionnaire.hasSoftwareTools,this.smartCityQuestionnaire.defineCityModel=this.assessment.smartCityQuestionnaire.defineCityModel,this.smartCityQuestionnaire.planApplicationAnswers=this.assessment.answers.planApplicationAnswers}}]),e}()).\u0275fac=function(e){return new(e||$n)(d.Ob(h.a),d.Ob(E.a),d.Ob(b.d),d.Ob(l.ub))},$n.\u0275cmp=d.Ib({type:$n,selectors:[["ngx-edit-application-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],["class","col-lg-10",4,"ngIf","ngIfElse"],["class","container",4,"ngIf","ngIfElse"],["percentage",""],["applicationSectionRadioButtons",""],[1,"col-lg-10"],["class","col-lg-12 bottom-margin",4,"ngIf"],["fullWidth","","nbInput","","required","true","type","text",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe your project","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-4","vertical-center"],[2,"color","#3c763d"],[1,"container",2,"padding-left","10px"],["placeholder","Not Selected","style","padding-left: 10px",3,"selected","selectedChange",4,"ngIf"],["class","padding-right","status","primary",3,"checked","disabled","checkedChange",4,"ngIf"],[1,"solid"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["status","primary",1,"padding-right",3,"checked","disabled","checkedChange"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card",0),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Application Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div"),d.Ub(6,"div",1),d.zc(7,_n,5,2,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.getApplicationAcronym()).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.O,c.b,c.x,c.p,c.s,l.z,l.jb,l.cb],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),$n),Gn=function e(s){i(this,e),this.assessmentUid=s,this.goals=[],this.planGoalsAnswers=null},Ln=function e(s,n){i(this,e),this.attribute=s,this.goal=n};function Wn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",14),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.goal=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.goal)}}function Kn(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",15),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(3).checkUsabilityGoal(e,s)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3);d.jc("checked",i.verifyGoalsCheckState(t))}}function Yn(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,Wn,1,1,"textarea",12),d.zc(2,Kn,2,1,"nb-checkbox",13),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.attribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.attribute))}}function Hn(e,s){if(1&e&&(d.Ub(0,"div",8),d.Ub(1,"label",9),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.Tb(),d.zc(5,Yn,3,2,"div",10),d.Pb(6,"br"),d.Pb(7,"hr",11),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle),d.Cb(1),d.jc("ngForOf",t.assessment.usabilityGoals)}}function Jn(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"h5",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.Pb(5,"nb-icon",6),d.Tb(),d.Tb(),d.zc(6,Hn,8,3,"div",7),d.Tb()),2&e){var n=s.$implicit;d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("nbTooltip",n.instruction),d.Cb(1),d.jc("ngForOf",n.questions)}}var Xn,Zn=((Xn=function(){function e(s,n,t,a){i(this,e),this.assessmentService=s,this.questionService=n,this.toastrService=a,this.isVald=!1,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.usabilityAttributes=V.a.USABILITY_ATRIBUTES,this.toast=new k.a(a),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state,this.fillGoalsArray()}return t(e,[{key:"ngOnInit",value:function(){this.usabilityGoals=new Gn(this.assessment.uid)}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isEqual",value:function(e,s){return e===s}},{key:"verifyGoalsCheckState",value:function(e){return"LRN"===e.attribute?this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name:"EFF"===e.attribute?this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name:"USR"===e.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name:"ERR"===e.attribute?this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name:this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name}},{key:"checkUsabilityGoal",value:function(e,s){console.log(this.assessment.answers.planGoalsAnswers.learnability,this.assessment.answers.planGoalsAnswers.satisfaction),"LRN"===s.attribute?this.assessment.answers.planGoalsAnswers.learnability=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s.attribute?this.assessment.answers.planGoalsAnswers.efficiency=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s.attribute?this.assessment.answers.planGoalsAnswers.errorRate=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planGoalsAnswers.satisfaction=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name,console.log(e,s)}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountUsabilityGoals(),e.next=3,this.assessmentService.updateAssessmentGoalsSection(this.usabilityGoals);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountUsabilityGoals",value:function(){this.usabilityGoals.goals=this.assessment.usabilityGoals.map((function(e){return new Ln(e.attribute,e.goal)})),this.usabilityGoals.planGoalsAnswers=this.assessment.answers.planGoalsAnswers}},{key:"fillGoalsArray",value:function(){var e=this;if(5!==this.assessment.usabilityGoals.length){var s=!1;this.usabilityAttributes.forEach((function(n){e.assessment.usabilityGoals.forEach((function(e){n===e.attribute&&(s=!0)})),!1===s&&e.assessment.usabilityGoals.push({attribute:n.attribute,goal:null,done:!1}),s=!1}))}}}]),e}()).\u0275fac=function(e){return new(e||Xn)(d.Ob(h.a),d.Ob(E.a),d.Ob(b.d),d.Ob(l.ub))},Xn.\u0275cmp=d.Ib({type:Xn,selectors:[["ngx-edit-goal-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],[1,"solid"],["fullWidth","","nbInput","","placeholder","Describe the goals here","required","true","rows","5","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card",0),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3," Goals Section "),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div"),d.Ub(6,"div",1),d.zc(7,Jn,7,3,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.goals.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,l.L,l.vb,w.n,l.O,c.b,c.x,c.p,c.s,l.z],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),Xn),et=function e(s){i(this,e),this.assessmentUid=s,this.variables=[],this.scale=null,this.planVariableAnswers=new _.c},st=function e(s,n,t){i(this,e),this.usabilityAttribute=s,this.variables=n,this.obtainedBy=t};function nt(e,s){if(1&e&&d.Pb(0,"nb-icon",10),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function tt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",17),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.variables=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.variables)}}function it(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",18),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit,t=d.dc(3).$implicit;return d.dc(2).checkUsabilityVariable(e,s.usabilityAttribute,t.key)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3).$implicit,a=d.dc(2);d.jc("checked",a.verifyUsabilityVariableCheck(t.usabilityAttribute,i.key))}}function at(e,s){if(1&e&&(d.Ub(0,"div",2),d.zc(1,tt,1,1,"textarea",15),d.zc(2,it,2,1,"nb-checkbox",16),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function rt(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,at,3,2,"div",14),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function ct(e,s){if(1&e){var n=d.Vb();d.Ub(0,"textarea",20),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc().$implicit.obtainedBy=e})),d.Tb()}if(2&e){var t=d.dc().$implicit;d.jc("ngModel",t.obtainedBy)}}function ot(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-checkbox",18),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit,t=d.dc(3).$implicit;return d.dc(2).checkUsabilityVariable(e,s.usabilityAttribute,t.key)})),d.Bc(1,"Done "),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(3).$implicit,a=d.dc(2);d.jc("checked",a.verifyUsabilityVariableCheck(t.usabilityAttribute,i.key))}}function lt(e,s){if(1&e&&(d.Ub(0,"div",2),d.zc(1,ct,1,1,"textarea",19),d.zc(2,ot,2,1,"nb-checkbox",16),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute)),d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function bt(e,s){if(1&e&&(d.Ub(0,"div",1),d.zc(1,lt,3,2,"div",14),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function dt(e,s){if(1&e&&(d.Ub(0,"div",11),d.Ub(1,"label",12),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.Tb(),d.zc(5,rt,2,1,"div",9),d.zc(6,bt,2,1,"div",9),d.Pb(7,"br"),d.Pb(8,"hr",13),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit;d.Cb(3),d.Cc(n.title),d.Cb(1),d.Cc(n.subTitle),d.Cb(1),d.jc("ngIf","VM-4"===t.key),d.Cb(1),d.jc("ngIf","VM-5"===t.key)}}function ut(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",24),d.Ub(1,"nb-checkbox",25),d.bc("checkedChange",(function(e){d.sc(n);var t=s.$implicit,i=s.index;return d.dc(4).scaleSelectionCheckbox(e,t,i)})),d.Ub(2,"nb-action",26),d.Bc(3),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=s.$implicit,i=d.dc(4);d.Cb(1),d.jc("checked",i.verifyScaleStatus(t)),d.Cb(1),d.jc("nbTooltip",t.description),d.Cb(1),d.Ec("",t.name," (",t.acronym," ) ")}}function pt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-card"),d.Ub(2,"nb-card-body",21),d.zc(3,ut,4,4,"div",22),d.Ub(4,"nb-checkbox",23),d.bc("checkedChange",(function(e){return d.sc(n),d.dc(3).checkScalesCheckbox(e)})),d.Bc(5,"Done "),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(3),d.jc("ngForOf",t.usabilityScales),d.Cb(1),d.jc("checked",t.verifyScalesCheckbox())("disabled",t.checkClickable())("nbTooltipTrigger",t.tooltipTrigger)}}function ht(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",5),d.Ub(2,"h4",6),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,nt,1,1,"nb-icon",7),d.Tb(),d.Tb(),d.zc(6,dt,9,4,"div",8),d.zc(7,pt,6,4,"div",9),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions),d.Cb(1),d.jc("ngIf","VM-6"===n.key)}}function mt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"attributes and Measurements Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",1),d.Ub(6,"div",2),d.zc(7,ht,8,4,"div",3),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",4),d.bc("click",(function(){return d.sc(n),d.dc().onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc();d.Cb(7),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.variables.acronym).parentQuestions)}}var ft,gt=((ft=function(){function s(e,n,t,a){i(this,s),this.assessmentService=e,this.questionService=n,this.toastrService=a,this.isVald=!1,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.usabilityAttributes=V.a.USABILITY_ATRIBUTES,this.categories=V.a.CATEGORIES,this.toast=new k.a(a),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state,this.fillVariableArray()}return t(s,[{key:"ngOnInit",value:function(){console.log(this.assessment),this.assessmentVariablesDTO=new et(this.assessment.uid),this.getUsabilityScales()}},{key:"getUsabilityScales",value:function(){var e=this;void 0===this.usabilityScales&&this.assessmentService.getScaleList().subscribe((function(s){e.usabilityScales=s,e.dataloaded=Promise.resolve(!0)}))}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isEqual",value:function(e,s){return e===s}},{key:"verifyUsabilityVariableCheck",value:function(e,s){return"VM-4"===s?"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name:"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name}},{key:"checkUsabilityVariable",value:function(e,s,n){"VM-4"===n?"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionAtt=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionMeth=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name,console.log(this.assessment)}},{key:"verifyScaleStatus",value:function(s){var n,t=e(this.assessment.scale);try{for(t.s();!(n=t.n()).done;)if(n.value.acronym===s.acronym)return!0}catch(i){t.e(i)}finally{t.f()}return!1}},{key:"scaleSelectionCheckbox",value:function(e,s,n){if(!0===e)this.assessment.scale.push(s);else{var t=this.assessment.scale.map((function(e){return e.uid})).indexOf(s.uid);this.assessment.scale.splice(t,1)}}},{key:"verifyScalesCheckbox",value:function(){return this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name}},{key:"checkScalesCheckbox",value:function(e){this.assessment.answers.planVariableAnswers.suggestedScales=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"checkClickable",value:function(){return 0===this.assessment.scale.length?(this.tooltipTrigger="hint",!0):(this.tooltipTrigger="noop",!1)}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountVariables(),e.next=3,this.assessmentService.updateAssessmentVariableSection(this.assessmentVariablesDTO);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountVariables",value:function(){this.assessmentVariablesDTO.scale=this.assessment.scale.map((function(e){return e.acronym})),this.assessmentVariablesDTO.planVariableAnswers=this.assessment.answers.planVariableAnswers,this.assessmentVariablesDTO.variables=this.assessment.attributes.map((function(e){return new st(e.usabilityAttribute,e.variables,e.obtainedBy)}))}},{key:"fillVariableArray",value:function(){var e=this;if(5!==this.assessment.attributes.length){var s=!1;this.usabilityAttributes.forEach((function(n){e.assessment.attributes.forEach((function(e){n===e.usabilityAttribute&&(s=!0)})),!1===s&&e.assessment.attributes.push({usabilityAttribute:n,variables:null,obtainedBy:null}),s=!1}))}}}]),s}()).\u0275fac=function(e){return new(e||ft)(d.Ob(h.a),d.Ob(E.a),d.Ob(b.d),d.Ob(l.ub))},ft.\u0275cmp=d.Ib({type:ft,selectors:[["ngx-edit-variable-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"col-lg-12","bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning","style","padding-left: 5px",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",2,"padding-left","5px",3,"nbTooltip"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],[1,"col-lg-12"],[1,"solid"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describe the attribule attributes here","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the attribule attributes here","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"form-group"],["class","row",4,"ngFor","ngForOf"],["nbButton","","nbTooltip","It is necessary to choose at least one option.","nbTooltipPlacement","top","nbTooltipStatus","danger","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","nbTooltipTrigger","checkedChange"],[1,"row"],["status","primary",2,"padding-left","20px",3,"checked","checkedChange"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space",3,"nbTooltip"]],template:function(e,s){1&e&&(d.zc(0,mt,13,1,"nb-card",0),d.ec(1,"async")),2&e&&d.jc("ngIf",d.fc(1,1,s.dataloaded))},directives:[w.n,l.u,l.w,l.t,w.m,l.v,l.r,l.L,l.vb,l.O,c.b,c.p,c.s,l.z,l.m],pipes:[w.b],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),ft),wt=function e(s,n,t,a,r,c,o,l,b,d){i(this,e),this.assessmentUid=s,this.participantsQuantity=n,this.participationLocalType=t,this.compensationDescription=a,this.criteria=r,this.hasCollectedInformation=c,this.collectedInformationUse=o,this.instructions=l,this.questions=b,this.planParticipantsAnswers=d};function Ct(e,s){if(1&e&&d.Pb(0,"nb-icon",10),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function vt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"input",12),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.participantsQuantity=e})),d.Tb(),d.Ub(2,"nb-checkbox",13),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.participant.participantsQuantity),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Tt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"nb-select",14),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.participationLocalType=e})),d.Ub(2,"nb-option",15),d.Bc(3,"IN PERSON"),d.Tb(),d.Ub(4,"nb-option",16),d.Bc(5,"REMOTE"),d.Tb(),d.Tb(),d.Ub(6,"nb-checkbox",17),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("selected",i.assessment.participant.participationLocalType),d.Cb(5),d.jc("checked",i.verifyParticipantState(t.key))("disabled",i.isNullOrUndefined(i.assessment.participant.participationLocalType))}}function yt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"textarea",18),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.compensationDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",13),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.participant.compensationDescription),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function At(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"textarea",19),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.criteria=e})),d.Tb(),d.Ub(2,"nb-checkbox",13),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.participant.criteria),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Ut(e,s){if(1&e&&(d.Ub(0,"nb-option",23),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function kt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"nb-select",20),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.hasCollectedInformation=e})),d.zc(2,Ut,2,2,"nb-option",21),d.Tb(),d.Ub(3,"textarea",22),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.collectedInformationUse=e})),d.Tb(),d.Ub(4,"nb-checkbox",17),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("selected",i.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngModel",i.assessment.participant.collectedInformationUse)("disabled",!i.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))("disabled",i.isNullOrUndefined(i.assessment.participant.hasCollectedInformation))}}function Pt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"textarea",24),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.participant.instructions=e})),d.Tb(),d.Ub(2,"nb-checkbox",13),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.participant.instructions),d.Cb(1),d.jc("checked",i.verifyParticipantState(t.key))}}function Ot(e,s){if(1&e&&(d.Ub(0,"nb-option",23),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.title),d.Cb(1),d.Cc(n.title)}}function jt(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function xt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",37),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the question?"),d.Tb(),d.Ub(3,"nb-card-footer",38),d.Ub(4,"button",39),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(3).removeQuestion(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",40),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Mt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",32),d.Ub(1,"div",33),d.Pb(2,"textarea",34),d.Ub(3,"nb-icon",35),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(3).open(e)})),d.Tb(),d.zc(4,xt,8,0,"ng-template",null,36,d.Ac),d.Tb(),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function Bt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",11),d.Ub(1,"label"),d.Bc(2,"Select Questions:"),d.Tb(),d.Ub(3,"div",25),d.Ub(4,"nb-select",26),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).newQuestions=e}))("click",(function(){return d.sc(n),d.dc(2).print()})),d.zc(5,Ot,2,2,"nb-option",21),d.Tb(),d.Tb(),d.Pb(6,"br"),d.Ub(7,"label"),d.Bc(8,"Selected Questions:"),d.Tb(),d.zc(9,jt,2,0,"label",8),d.Ub(10,"div",27),d.Ub(11,"form",28),d.zc(12,Mt,6,1,"section",29),d.Tb(),d.Ub(13,"button",30),d.bc("click",(function(){return d.sc(n),d.dc(2).addQuestion()})),d.Pb(14,"nb-icon",31),d.Bc(15," Add Custom Question "),d.Tb(),d.Ub(16,"nb-checkbox",17),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkParticipantQuestion(e,s.key)})),d.Bc(17,"Done "),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(4),d.jc("ngModel",i.newQuestions),d.Cb(1),d.jc("ngForOf",i.avaliableQuestions),d.Cb(4),d.jc("ngIf",i.hasNoQuestion()),d.Cb(1),d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.questions.controls),d.Cb(4),d.jc("checked",i.verifyParticipantState(t.key))("disabled",i.hasNoQuestion())}}function St(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"label",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,Ct,1,1,"nb-icon",6),d.Tb(),d.Tb(),d.zc(6,vt,4,2,"div",7),d.zc(7,Tt,8,3,"div",8),d.zc(8,yt,4,2,"div",7),d.zc(9,At,4,2,"div",7),d.zc(10,kt,6,6,"div",7),d.zc(11,Pt,4,2,"div",7),d.zc(12,Bt,18,7,"div",7),d.Pb(13,"br"),d.Pb(14,"hr",9),d.Tb()),2&e){var n=s.$implicit,t=d.dc();d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","PA-7"===n.key),d.Cb(1),d.jc("ngIf","PA-8"===n.key),d.Cb(1),d.jc("ngIf","PA-9"===n.key),d.Cb(1),d.jc("ngIf","PA-10"===n.key),d.Cb(1),d.jc("ngIf","PA-11"===n.key),d.Cb(1),d.jc("ngIf","PA-12"===n.key),d.Cb(1),d.jc("ngIf","PA-13"===n.key)}}var It,Dt=((It=function(){function e(s,n,t,a,r,c){i(this,e),this.assessmentService=s,this.questionService=n,this.formBuilder=t,this.dialogService=a,this.toastrService=c,this.isVald=!1,this.newQuestions=[],this.avaliableQuestions=[],this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.selectOptions=V.a.SELECT_OPTIONS,this.participantQuestions=V.a.ATTRIBUTES_QUESTIONS,this.toast=new k.a(c),this.router=r,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"questions",get:function(){return this.form.controls.questions}},{key:"values",get:function(){return this.form.value}},{key:"ngOnInit",value:function(){var e=this;console.log(this.participantQuestions),this.form=this.formBuilder.group({questions:this.formBuilder.array([])}),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map((function(s){return e.questions.push(e.formBuilder.group({question:[s]}))})),this.loadAvaliableQuestions()}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"addQuestion",value:function(){""!==this.newQuestion().getRawValue()&&this.questions.push(this.newQuestion())}},{key:"removeQuestion",value:function(e){var s=this.form.controls.questions.at(e).value;console.log(s),this.questions.removeAt(e),this.assessment.participant.questions.splice(this.assessment.participant.questions.indexOf(s.question),1)}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isEqual",value:function(e,s){return e===s}},{key:"verifyParticipantState",value:function(e){return"PA-7"===e?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===e?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===e?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===e?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===e?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===e?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}},{key:"checkParticipantQuestion",value:function(e,s){"PA-7"===s?this.assessment.answers.planParticipantsAnswers.howManyParticipants=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-8"===s?this.assessment.answers.planParticipantsAnswers.participationType=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-9"===s?this.assessment.answers.planParticipantsAnswers.formCompensation=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-10"===s?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-11"===s?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-12"===s?this.assessment.answers.planParticipantsAnswers.participantsInstruction=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planParticipantsAnswers.askedQuestions=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountParticipant(),console.log(this.participantDTO),e.next=4,this.assessmentService.updateAssessmentParticipantSection(this.participantDTO);case 4:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"mountParticipant",value:function(){var e=this;void 0===this.assessment.participant.questions&&(this.assessment.participant.questions=[]),this.questions.getRawValue().forEach((function(s){-1===e.assessment.participant.questions.indexOf(s.question)&&e.assessment.participant.questions.push(s.question)})),void 0===this.newQuestions&&0===this.newQuestions.length||this.newQuestions.forEach((function(s){-1===e.assessment.participant.questions.indexOf(s)&&e.assessment.participant.questions.push(s)})),this.assessment.participant.questions=this.assessment.participant.questions.filter((function(e,s,n){return s===n.indexOf(e)})),console.log(this.assessment.participant.questions),this.participantDTO=new wt(this.assessment.uid,this.assessment.participant.participantsQuantity,this.assessment.participant.participationLocalType,this.assessment.participant.compensationDescription,this.assessment.participant.criteria,this.assessment.participant.hasCollectedInformation,this.assessment.participant.collectedInformationUse,this.assessment.participant.instructions,this.assessment.participant.questions,this.assessment.answers.planParticipantsAnswers)}},{key:"hasNoQuestion",value:function(){return 0===this.questions.getRawValue().map((function(e){return e.question})).length||0===this.assessment.participant.questions.length||1===this.questions.getRawValue().map((function(e){return e.question})).length&&""===this.questions.getRawValue().map((function(e){return e.question}))[0]}},{key:"newQuestion",value:function(){return this.formBuilder.group({question:[""]})}},{key:"print",value:function(){console.log(this.assessment.participant.questions)}},{key:"loadAvaliableQuestions",value:function(){var e=this;console.log(this.assessment.usabilityGoals),this.participantQuestions.forEach((function(s){e.assessment.usabilityGoals.forEach((function(n){n.attribute===s.objectKey&&null!==n.goal&&""!==n.goal&&e.avaliableQuestions.push(s)}))}))}}]),e}()).\u0275fac=function(e){return new(e||It)(d.Ob(h.a),d.Ob(E.a),d.Ob(c.d),d.Ob(l.J),d.Ob(b.d),d.Ob(l.ub))},It.\u0275cmp=d.Ib({type:It,selectors:[["ngx-edit-participant-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],[4,"ngIf"],[1,"solid"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"bottom-margin-light"],["fullWidth","","nbInput","","placeholder","Enter the quantity","required","true","type","number",1,"col-lg-3",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],["value","P"],["value","R"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe the compesations here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the eligibility criteria here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["placeholder","Not Selected",1,"bottom-margin-light",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describes data usage here","shape","round",2,"padding-left","10px",3,"ngModel","disabled","ngModelChange"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describes instructions here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12"],["multiple","","placeholder","Multiple Select","size","giant",1,"col-lg-12",3,"ngModel","ngModelChange","click"],[3,"formGroup"],["formArrayName","questions",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","question","fullWidth","","id","input-edit-question","name","question","nbInput","","placeholder","New question","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Participant Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",0),d.Ub(6,"div",1),d.zc(7,St,15,9,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.participants.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.L,l.vb,l.O,c.u,c.b,c.x,c.p,c.s,l.z,l.jb,l.cb,c.q,c.h,c.B,c.r,c.c,c.i,c.g],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),It),Nt=function e(s,n,t,a,r){i(this,e),this.assessmentUid=s,this.tools=n,this.toolsUsageDescription=t,this.taskDTOS=a,this.planTasksAnswers=r};function zt(e,s){if(1&e&&d.Pb(0,"nb-icon",9),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function qt(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function Et(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",24),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the tool?"),d.Tb(),d.Ub(3,"nb-card-footer",25),d.Ub(4,"button",26),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(3).removeTool(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",27),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Vt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",19),d.Ub(1,"div",20),d.Pb(2,"textarea",21),d.Ub(3,"nb-icon",22),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(3).open(e)})),d.Tb(),d.zc(4,Et,8,0,"ng-template",null,23,d.Ac),d.Tb(),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function Qt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"span"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",28),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentTools.toolsUsageDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(3),d.jc("ngModel",t.assessment.assessmentTools.toolsUsageDescription)}}function Rt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",10),d.Ub(1,"nb-card",11),d.Ub(2,"nb-card-body",12),d.zc(3,qt,2,0,"label",13),d.Ub(4,"form",14),d.zc(5,Vt,6,1,"section",15),d.Tb(),d.Ub(6,"button",16),d.bc("click",(function(){return d.sc(n),d.dc(2).addTools()})),d.Pb(7,"nb-icon",17),d.Bc(8," Add Tool "),d.Tb(),d.Tb(),d.Tb(),d.zc(9,Qt,4,1,"span",13),d.Ub(10,"nb-checkbox",18),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkMaterial(e,s.key)})),d.Bc(11,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("formGroup",i.form),d.Cb(2),d.jc("ngIf",!i.checkIfToolsIsNotEmpty()),d.Cb(2),d.jc("ngForOf",i.tools.controls),d.Cb(4),d.jc("ngIf",i.checkIfToolsIsNotEmpty()),d.Cb(1),d.jc("checked",i.verifyMaterialsCheckState(t.key))}}function _t(e,s){1&e&&(d.Ub(0,"label"),d.Bc(1,"N/A"),d.Tb())}function $t(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",24),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the task?"),d.Tb(),d.Ub(3,"nb-card-footer",25),d.Ub(4,"button",26),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc(2).index;return d.dc(3).removeTask(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",27),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Ft(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",20),d.Pb(1,"textarea",33),d.Ub(2,"nb-icon",22),d.bc("click",(function(){d.sc(n);var e=d.qc(4);return d.dc(4).open(e)})),d.Tb(),d.zc(3,$t,8,0,"ng-template",null,34,d.Ac),d.Tb()}}function Gt(e,s){if(1&e&&(d.Ub(0,"div",35),d.Ub(1,"label"),d.Bc(2),d.Tb(),d.Pb(3,"input",36),d.Tb()),2&e){var n=d.dc().index,t=d.dc(3);d.Cb(2),d.Ec("",n+1,". ",t.getTaskDescription(n),"")}}function Lt(e,s){if(1&e&&(d.Ub(0,"div",35),d.Ub(1,"label"),d.Bc(2),d.Tb(),d.Pb(3,"input",37),d.Tb()),2&e){var n=d.dc().index,t=d.dc(3);d.Cb(2),d.Ec("",n+1,". ",t.getTaskDescription(n),"")}}function Wt(e,s){if(1&e&&(d.Ub(0,"section",19),d.zc(1,Ft,5,0,"div",31),d.zc(2,Gt,4,2,"div",32),d.zc(3,Lt,4,2,"div",32),d.Tb()),2&e){var n=s.index,t=d.dc(2).$implicit;d.jc("formGroupName",n),d.Cb(1),d.jc("ngIf","TM-15"===t.key),d.Cb(1),d.jc("ngIf","TM-16"===t.key),d.Cb(1),d.jc("ngIf","TM-17"===t.key)}}function Kt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"button",16),d.bc("click",(function(){return d.sc(n),d.dc(3).addTasks()})),d.Pb(1,"nb-icon",17),d.Bc(2," Add Task "),d.Tb()}}function Yt(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",10),d.Ub(1,"nb-card",11),d.Ub(2,"nb-card-body",12),d.zc(3,_t,2,0,"label",13),d.Ub(4,"form",29),d.zc(5,Wt,4,4,"section",15),d.Tb(),d.zc(6,Kt,3,0,"button",30),d.Tb(),d.Tb(),d.Ub(7,"nb-checkbox",18),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkMaterial(e,s.key)})),d.Bc(8,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("formGroup",i.form),d.Cb(2),d.jc("ngIf",!i.checkIfTasksIsNotEmpty()),d.Cb(2),d.jc("ngForOf",i.tasks.controls),d.Cb(1),d.jc("ngIf","TM-15"===t.key),d.Cb(1),d.jc("checked",i.verifyMaterialsCheckState(t.key))}}function Ht(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"label",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,zt,1,1,"nb-icon",6),d.Tb(),d.Tb(),d.zc(6,Rt,12,5,"div",7),d.zc(7,Yt,9,5,"div",7),d.Pb(8,"br"),d.Pb(9,"hr",8),d.Tb()),2&e){var n=s.$implicit,t=d.dc();d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","TM-14"===n.key),d.Cb(1),d.jc("ngIf","TM-15"===n.key||"TM-16"===n.key||"TM-17"===n.key)}}var Jt,Xt=((Jt=function(){function e(s,n,t,a,r,c){i(this,e),this.assessmentService=s,this.questionService=n,this.formBuilder=t,this.dialogService=a,this.toastrService=c,this.isVald=!1,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.selectOptions=V.a.SELECT_OPTIONS,this.toast=new k.a(c),this.router=r,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"tools",get:function(){return this.form.controls.tools}},{key:"tasks",get:function(){return this.form.controls.tasks}},{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({tools:this.formBuilder.array([]),tasks:this.formBuilder.array([])}),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map((function(s){return e.tools.push(e.formBuilder.group({tool:[s]}))})),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map((function(s){return e.tasks.push(e.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]}))}))}},{key:"addTools",value:function(){""!==this.newTool().getRawValue()&&this.tools.push(this.newTool())}},{key:"removeTool",value:function(e){this.tools.removeAt(e)}},{key:"addTasks",value:function(){""!==this.newTask().getRawValue()&&this.tasks.push(this.newTask())}},{key:"removeTask",value:function(e){this.tasks.removeAt(e)}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"checkIfToolsIsNotEmpty",value:function(){return 0!==this.tools.getRawValue().map((function(e){return e.tools})).length}},{key:"checkIfTasksIsNotEmpty",value:function(){return 0!==this.tasks.getRawValue().map((function(e){return e.tasks})).length}},{key:"getTaskDescription",value:function(e){return this.tasks.getRawValue()[e].description}},{key:"verifyMaterialsCheckState",value:function(e){return"TM-14"===e?this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name:"TM-15"===e?this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name:"TM-16"===e?this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name:this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name}},{key:"checkMaterial",value:function(e,s){"TM-14"===s?this.assessment.answers.planTasksAnswers.usedTools=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-15"===s?this.assessment.answers.planTasksAnswers.tasksToPerform=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-16"===s?this.assessment.answers.planTasksAnswers.tasksTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planTasksAnswers.criteria=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isEqual",value:function(e,s){return e===s}},{key:"verifyParticipantState",value:function(e){return"PA-7"===e?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===e?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===e?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===e?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===e?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===e?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountTools(),console.log(this.assessmentToolsDTO),e.next=4,this.assessmentService.updateAssessmentToolsSection(this.assessmentToolsDTO);case 4:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"mountTools",value:function(){console.log(this.assessment),console.log(this.assessment.assessmentTools),this.assessmentToolsDTO=new Nt(this.assessment.uid,this.tools.getRawValue().map((function(e){return e.tool})),this.assessment.assessmentTools.toolsUsageDescription,this.tasks.getRawValue().map((function(e){return e})),this.assessment.answers.planTasksAnswers),console.log(this.assessmentToolsDTO)}},{key:"newTool",value:function(){return this.formBuilder.group({tool:[""]})}},{key:"newTask",value:function(){return this.formBuilder.group({description:[""],taskExecutionTime:[""],acceptanceCriteria:[""]})}}]),e}()).\u0275fac=function(e){return new(e||Jt)(d.Ob(h.a),d.Ob(E.a),d.Ob(c.d),d.Ob(l.J),d.Ob(b.d),d.Ob(l.ub))},Jt.\u0275cmp=d.Ib({type:Jt,selectors:[["ngx-edit-task-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],[1,"solid"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"bottom-margin-light"],[3,"formGroup"],[1,"row"],[4,"ngIf"],["formArrayName","tools",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","tool","fullWidth","","id","input-edit-tool","name","tool","nbInput","","placeholder","New instruments, materials, technology, or tool","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteToolDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["fullWidth","","nbInput","","placeholder","Describe their usage here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","tasks",1,"container","mt-3"],["class","top-margin","ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click",4,"ngIf"],["class","row col-lg-8",4,"ngIf"],["class","row col-lg-12",4,"ngIf"],["formControlName","description","fullWidth","","id","input-task-description","name","task-description","nbInput","","placeholder","Describe the task","shape","round",1,"display-next"],["deleteTaskDialog",""],[1,"row","col-lg-12"],["formControlName","taskExecutionTime","fullWidth","","id","input-task-execution","name","task-execution","nbInput","","placeholder","Insert the task execution time (in minutes)",1,"display-next"],["formControlName","acceptanceCriteria","fullWidth","","id","input-edit-task-acceptance-criteria","name","task-acceptance-criteria","nbInput","","placeholder","Insert the task acceptance criteria",1,"display-next"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Tasks and Materials Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",0),d.Ub(6,"div",1),d.zc(7,Ht,10,4,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.tasks.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.L,l.vb,c.q,c.h,c.B,c.r,c.c,l.z,c.i,c.b,l.O,c.p,c.g,c.s],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),Jt),Zt=function e(s,n,t,a,r,c,o,l,b,d){i(this,e),this.assessmentUid=s,this.occurDate=n,this.occurLocal=t,this.occurDetail=a,this.occurTime=r,this.assessmentProcedureStepDTOS=c,this.isPilotAssessment=o,this.pilotDescription=l,this.questionsAllowed=b,this.planProcedureAnswers=d};function ei(e,s){if(1&e&&d.Pb(0,"nb-icon",11),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function si(e,s){if(1&e&&d.Pb(0,"nb-icon",11),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function ni(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"input",16),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.occurDate=e})),d.Tb(),d.Pb(2,"nb-datepicker",17,18),d.Ub(4,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.qc(3),i=d.dc().$implicit,a=d.dc(2);d.Cb(1),d.jc("ngModel",a.assessment.assessmentProcedure.occurDate)("nbDatepicker",t),d.Cb(3),d.jc("checked",a.verifyProcedureState(i.key))}}function ti(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",20),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.occurLocal=e})),d.Tb(),d.Ub(2,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurLocal),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function ii(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",21),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.occurDetail=e})),d.Tb(),d.Ub(2,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurDetail),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function ai(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",22),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.occurTime=e})),d.Tb(),d.Ub(2,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkProcedureQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.occurTime),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function ri(e,s){if(1&e&&(d.Ub(0,"div",12),d.Ub(1,"label",13),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.zc(5,si,1,1,"nb-icon",6),d.Tb(),d.zc(6,ni,6,3,"div",14),d.zc(7,ti,4,2,"div",14),d.zc(8,ii,4,2,"div",14),d.zc(9,ai,4,2,"div",14),d.Pb(10,"br"),d.Pb(11,"hr",15),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Dc("",n.subTitle," "),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","PR-18-1"===n.key),d.Cb(1),d.jc("ngIf","PR-18-2"===n.key),d.Cb(1),d.jc("ngIf","PR-18-3"===n.key),d.Cb(1),d.jc("ngIf","PR-18-4"===n.key)}}function ci(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",34),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the step?"),d.Tb(),d.Ub(3,"nb-card-footer",35),d.Ub(4,"button",36),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(3).removeSteps(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",37),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function oi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",28),d.Ub(1,"div",29),d.Ub(2,"label"),d.Bc(3,"Step Title:"),d.Tb(),d.Pb(4,"textarea",30),d.Ub(5,"label"),d.Bc(6,"Step Description:"),d.Tb(),d.Pb(7,"textarea",31),d.Ub(8,"nb-icon",32),d.bc("click",(function(){d.sc(n);var e=d.qc(10);return d.dc(3).open(e)})),d.Tb(),d.zc(9,ci,8,0,"ng-template",null,33,d.Ac),d.Tb(),d.Pb(11,"hr",15),d.Tb()}2&e&&d.jc("formGroupName",s.index)}function li(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",23),d.Ub(1,"form",24),d.zc(2,oi,12,1,"section",25),d.Tb(),d.Ub(3,"button",26),d.bc("click",(function(){return d.sc(n),d.dc(2).addSteps()})),d.Pb(4,"nb-icon",27),d.Bc(5," Add Step "),d.Tb(),d.Ub(6,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkProcedureQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.steps.controls),d.Cb(4),d.jc("checked",i.verifyProcedureState(t.key))}}function bi(e,s){if(1&e&&(d.Ub(0,"nb-option",40),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Cc(n.label)}}function di(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-select",38),d.bc("selectedChange",(function(e){return d.sc(n),d.dc(2).assessment.assessmentProcedure.questionsAllowed=e})),d.zc(2,bi,2,2,"nb-option",39),d.Tb(),d.Ub(3,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkProcedureQuestion(e,s.key)})),d.Bc(4,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("selected",i.assessment.assessmentProcedure.questionsAllowed),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function ui(e,s){if(1&e&&(d.Ub(0,"nb-radio",40),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function pi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",42),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentProcedure.pilotDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(3),d.jc("ngModel",t.assessment.assessmentProcedure.pilotDescription)("hidden",!t.assessment.assessmentProcedure.isPilotAssessment)}}function hi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-radio-group",41),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.assessmentProcedure.isPilotAssessment=e})),d.zc(2,ui,2,2,"nb-radio",39),d.Tb(),d.zc(3,pi,4,2,"div",14),d.Ub(4,"nb-checkbox",19),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkProcedureQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.assessmentProcedure.isPilotAssessment),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentProcedure.isPilotAssessment)),d.Cb(1),d.jc("checked",i.verifyProcedureState(t.key))}}function mi(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"h4",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,ei,1,1,"nb-icon",6),d.Tb(),d.Tb(),d.zc(6,ri,12,7,"div",7),d.Ub(7,"div",8),d.zc(8,li,8,3,"div",9),d.zc(9,di,5,3,"div",10),d.zc(10,hi,6,4,"div",10),d.Tb(),d.Tb()),2&e){var n=s.$implicit,t=d.dc();d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions),d.Cb(2),d.jc("ngIf","PR-19"===n.key),d.Cb(1),d.jc("ngIf","PR-20"===n.key),d.Cb(1),d.jc("ngIf","PR-21"===n.key)}}var fi,gi=((fi=function(){function e(s,n,t,a,r,c){i(this,e),this.assessmentService=s,this.questionService=n,this.formBuilder=t,this.dialogService=a,this.toastrService=c,this.isVald=!1,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.smartCityCategories=V.a.SMART_CITY_CATEGORY,this.selectOptions=V.a.SELECT_OPTIONS,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.toast=new k.a(c),this.router=r,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"steps",get:function(){return this.form.controls.steps}},{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({steps:this.formBuilder.array([])}),0!==this.assessment.assessmentProcedure.assessmentProcedureSteps.length&&this.assessment.assessmentProcedure.assessmentProcedureSteps.map((function(s){return e.steps.push(e.formBuilder.group({name:[s.name],description:[s.description]}))})),this.atualDate=this.assessment.assessmentProcedure.occurDate}},{key:"getApplicationAcronym",value:function(){return this.categories.application.acronym}},{key:"validateDate",value:function(){return this.atualDate===this.assessment.assessmentProcedure.occurDate||(this.atualDate=this.assessment.assessmentProcedure.occurDate,!1)}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNullOrUndefinedOrFalse",value:function(e){return!1===e||null==e}},{key:"isNull",value:function(e){return null===e}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"verifyProcedureState",value:function(e){return"PR-18-1"===e?this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name:"PR-18-2"===e?this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name:"PR-18-3"===e?this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name:"PR-18-4"===e?this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name:"PR-19"===e?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name:"PR-20"===e?this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name}},{key:"checkProcedureQuestion",value:function(e,s){"PR-18-1"===s?this.assessment.answers.planProcedureAnswers.whenOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-2"===s?this.assessment.answers.planProcedureAnswers.whereOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-3"===s?this.assessment.answers.planProcedureAnswers.howOccur=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-4"===s?this.assessment.answers.planProcedureAnswers.howMuchTime=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-19"===s?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-20"===s?this.assessment.answers.planProcedureAnswers.questionsAllowed=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"addSteps",value:function(){""!==this.newStep().getRawValue()&&this.steps.push(this.newStep())}},{key:"removeSteps",value:function(e){this.steps.removeAt(e)}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountProcedure(),e.next=3,this.assessmentService.updateAssessmentProcedureSection(this.assessmentProcedureDTO);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountProcedure",value:function(){this.assessmentProcedureDTO=new Zt(this.assessment.uid,this.validateDate()?this.assessment.assessmentProcedure.occurDate.toString():Object(Q.a)(this.assessment.assessmentProcedure.occurDate,"yyyy-MM-dd"),this.assessment.assessmentProcedure.occurLocal,this.assessment.assessmentProcedure.occurDetail,this.assessment.assessmentProcedure.occurTime,this.steps.getRawValue().map((function(e){return e})),this.assessment.assessmentProcedure.isPilotAssessment,this.assessment.assessmentProcedure.pilotDescription,this.assessment.assessmentProcedure.questionsAllowed,this.assessment.answers.planProcedureAnswers),console.log(this.assessmentProcedureDTO)}},{key:"newStep",value:function(){return this.formBuilder.group({name:[""],description:[""]})}}]),e}()).\u0275fac=function(e){return new(e||fi)(d.Ob(h.a),d.Ob(E.a),d.Ob(c.d),d.Ob(l.J),d.Ob(b.d),d.Ob(l.ub))},fi.\u0275cmp=d.Ib({type:fi,selectors:[["ngx-edit-procedure-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],[4,"ngIf"],[1,"solid"],["nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe where it will take place here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will occur here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how long it will take here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","steps",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-12"],["formControlName","name","fullWidth","","id","input-edit-step-name","name","step-name","nbInput","","placeholder","Step title","shape","round",1,"display-next",2,"margin-bottom","10px"],["formControlName","description","fullWidth","","id","input-edit-step-description","name","step-description","nbInput","","placeholder","Step description","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteStepDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Procedure Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",0),d.Ub(6,"div",1),d.zc(7,mi,11,6,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.procedure.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.L,l.vb,l.O,c.b,l.F,c.p,c.s,l.E,l.z,c.x,c.q,c.h,c.B,c.r,c.c,c.i,c.g,l.jb,l.cb,l.gb,l.fb],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),fi),wi=function e(s,n,t,a,r,c){i(this,e),this.assessmentUid=s,this.dataCollectionProcedure=n,this.analysisDescription=t,this.statisticalMethods=a,this.statisticalMethodsDescription=r,this.planDataAnswers=c};function Ci(e,s){if(1&e&&d.Pb(0,"nb-icon",10),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function vi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",11),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.assessmentData.dataCollectionProcedure=e})),d.Tb(),d.Ub(2,"nb-checkbox",12),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkDataQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.assessmentData.dataCollectionProcedure),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function Ti(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",13),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.assessmentData.analysisDescription=e})),d.Tb(),d.Ub(4,"nb-checkbox",12),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkDataQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(3),d.jc("ngModel",i.assessment.assessmentData.analysisDescription),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function yi(e,s){if(1&e&&(d.Ub(0,"nb-radio",16),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function Ai(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",17),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentData.statisticalMethodsDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(3);d.Cb(3),d.jc("ngModel",t.assessment.assessmentData.statisticalMethodsDescription)("hidden",!t.assessment.assessmentData.statisticalMethods)}}function Ui(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-radio-group",14),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(2).assessment.assessmentData.statisticalMethods=e})),d.zc(2,yi,2,2,"nb-radio",15),d.Tb(),d.zc(3,Ai,4,2,"div",8),d.Ub(4,"nb-checkbox",12),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc().checkDataQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc();d.Cb(1),d.jc("ngModel",i.assessment.assessmentData.statisticalMethods),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentData.statisticalMethods)),d.Cb(1),d.jc("checked",i.verifyDataState(t.key))}}function ki(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"h4",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,Ci,1,1,"nb-icon",6),d.Tb(),d.Tb(),d.Ub(6,"div",7),d.zc(7,vi,4,2,"div",8),d.zc(8,Ti,6,2,"div",8),d.zc(9,Ui,6,4,"div",9),d.Tb(),d.Tb()),2&e){var n=s.$implicit,t=d.dc();d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(2),d.jc("ngIf","DT-22"===n.key),d.Cb(1),d.jc("ngIf","DT-23"===n.key),d.Cb(1),d.jc("ngIf","DT-24"===n.key)}}var Pi,Oi=((Pi=function(){function e(s,n,t,a){i(this,e),this.assessmentService=s,this.questionService=n,this.toastrService=a,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.toast=new k.a(a),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"ngOnInit",value:function(){}},{key:"getApplicationAcronym",value:function(){return this.categories.application.acronym}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNull",value:function(e){return null===e}},{key:"isNullOrUndefinedOrFalse",value:function(e){return!1===e||null==e}},{key:"isNullOrUndefinedOrTrue",value:function(e){return!0===e||null==e}},{key:"verifyDataState",value:function(e){return"DT-22"===e?this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name:"DT-23"===e?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name:this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name}},{key:"checkDataQuestion",value:function(e,s){"DT-22"===s?this.assessment.answers.planDataAnswers.dataCollectionProcedure=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"DT-23"===s?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planDataAnswers.statisticalMethods=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountData(),e.next=3,this.assessmentService.updateAssessmentDataSection(this.assessmentDataDTO);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountData",value:function(){this.assessmentDataDTO=new wi(this.assessment.uid,this.assessment.assessmentData.dataCollectionProcedure,this.assessment.assessmentData.analysisDescription,this.assessment.assessmentData.statisticalMethods,this.assessment.assessmentData.statisticalMethodsDescription,this.assessment.answers.planDataAnswers)}}]),e}()).\u0275fac=function(e){return new(e||Pi)(d.Ob(h.a),d.Ob(E.a),d.Ob(b.d),d.Ob(l.ub))},Pi.\u0275cmp=d.Ib({type:Pi,selectors:[["ngx-edit-data-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],[1,"container","col-lg-12"],[4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["fullWidth","","nbInput","","placeholder","Describe the data collection procedure here","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe how it will be analyzed here","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Data collection and Data analysis Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",0),d.Ub(6,"div",1),d.zc(7,ki,10,5,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.data.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.L,l.vb,l.O,c.b,c.p,c.s,l.z,l.gb,l.fb,c.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),Pi),ji=function e(s,n,t,a,r,c,o,l){i(this,e),this.assessmentUid=s,this.threats=n,this.controlMeasure=t,this.limitations=a,this.ethicalAspectsDefined=r,this.ethicalAspectsDescription=c,this.biasDescription=o,this.planThreatsAnswers=l};function xi(e,s){if(1&e&&d.Pb(0,"nb-icon",9),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function Mi(e,s){if(1&e&&d.Pb(0,"nb-icon",9),2&e){var n=d.dc().$implicit;d.jc("nbTooltip",n.instruction)}}function Bi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",27),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the threat?"),d.Tb(),d.Ub(3,"nb-card-footer",28),d.Ub(4,"button",29),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(4).removeThreat(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",30),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function Si(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",22),d.Ub(1,"div",23),d.Pb(2,"textarea",24),d.Ub(3,"nb-icon",25),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(4).open(e)})),d.Tb(),d.zc(4,Bi,8,0,"ng-template",null,26,d.Ac),d.Tb(),d.Pb(6,"hr",15),d.Tb()}if(2&e){var t=s.index,i=d.dc(2).$implicit;d.jc("formGroupName",t),d.Cb(2),d.jc("placeholder",i.placeholder)}}function Ii(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",16),d.Ub(1,"form",17),d.zc(2,Si,7,2,"section",18),d.Tb(),d.Ub(3,"button",19),d.bc("click",(function(){return d.sc(n),d.dc(3).addThreats()})),d.Pb(4,"nb-icon",20),d.Bc(5," Add Threat "),d.Tb(),d.Ub(6,"nb-checkbox",21),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkThreatQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.threats.controls),d.Cb(4),d.jc("checked",i.verifyThreatState(t.key))}}function Di(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",31),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentThreat.controlMeasure=e})),d.Tb(),d.Ub(2,"nb-checkbox",21),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkThreatQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.controlMeasure)("placeholder",t.placeholder),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function Ni(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",27),d.Ub(1,"nb-card-body"),d.Bc(2,"Do you really want to remove the threat?"),d.Tb(),d.Ub(3,"nb-card-footer",28),d.Ub(4,"button",29),d.bc("click",(function(){d.sc(n);var e=s.dialogRef,t=d.dc().index;return d.dc(4).removeLimitation(t),e.close()})),d.Bc(5,"YES "),d.Tb(),d.Ub(6,"button",30),d.bc("click",(function(){return s.dialogRef.close()})),d.Bc(7,"NO "),d.Tb(),d.Tb(),d.Tb()}}function zi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",22),d.Ub(1,"div",23),d.Pb(2,"textarea",33),d.Ub(3,"nb-icon",25),d.bc("click",(function(){d.sc(n);var e=d.qc(5);return d.dc(4).open(e)})),d.Tb(),d.zc(4,Ni,8,0,"ng-template",null,26,d.Ac),d.Tb(),d.Pb(6,"hr",15),d.Tb()}if(2&e){var t=s.index,i=d.dc(2).$implicit;d.jc("formGroupName",t),d.Cb(2),d.jc("placeholder",i.placeholder)}}function qi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",16),d.Ub(1,"form",32),d.zc(2,zi,7,2,"section",18),d.Tb(),d.Ub(3,"button",19),d.bc("click",(function(){return d.sc(n),d.dc(3).addLimitation()})),d.Pb(4,"nb-icon",20),d.Bc(5," Add Limitation "),d.Tb(),d.Ub(6,"nb-checkbox",21),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkThreatQuestion(e,s.key)})),d.Bc(7,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.jc("formGroup",i.form),d.Cb(2),d.jc("ngForOf",i.limitations.controls),d.Cb(4),d.jc("checked",i.verifyThreatState(t.key))}}function Ei(e,s){if(1&e&&(d.Ub(0,"nb-radio",36),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.jc("value",n.value),d.Cb(1),d.Dc(" ",n.label," ")}}function Vi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"label"),d.Bc(2,"Description:"),d.Tb(),d.Ub(3,"textarea",37),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(4).assessment.assessmentThreat.ethicalAspectsDescription=e})),d.Tb(),d.Tb()}if(2&e){var t=d.dc(2).$implicit,i=d.dc(2);d.Cb(3),d.jc("ngModel",i.assessment.assessmentThreat.ethicalAspectsDescription)("hidden",!i.assessment.assessmentThreat.ethicalAspectsDefined)("placeholder",t.placeholder)}}function Qi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"nb-radio-group",34),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentThreat.ethicalAspectsDefined=e})),d.zc(2,Ei,2,2,"nb-radio",35),d.Tb(),d.zc(3,Vi,4,3,"div",13),d.Ub(4,"nb-checkbox",21),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkThreatQuestion(e,s.key)})),d.Bc(5,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.ethicalAspectsDefined),d.Cb(1),d.jc("ngForOf",i.genericSelectOptions.options),d.Cb(1),d.jc("ngIf",!i.isNullOrUndefinedOrFalse(i.assessment.assessmentThreat.ethicalAspectsDefined)),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function Ri(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div"),d.Ub(1,"textarea",31),d.bc("ngModelChange",(function(e){return d.sc(n),d.dc(3).assessment.assessmentThreat.biasDescription=e})),d.Tb(),d.Ub(2,"nb-checkbox",21),d.bc("checkedChange",(function(e){d.sc(n);var s=d.dc().$implicit;return d.dc(2).checkThreatQuestion(e,s.key)})),d.Bc(3,"Done "),d.Tb(),d.Tb()}if(2&e){var t=d.dc().$implicit,i=d.dc(2);d.Cb(1),d.jc("ngModel",i.assessment.assessmentThreat.biasDescription)("placeholder",t.placeholder),d.Cb(1),d.jc("checked",i.verifyThreatState(t.key))}}function _i(e,s){if(1&e&&(d.Ub(0,"div",10),d.Ub(1,"label",11),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.zc(5,Mi,1,1,"nb-icon",6),d.Tb(),d.zc(6,Ii,8,3,"div",12),d.zc(7,Di,4,3,"div",13),d.zc(8,qi,8,3,"div",12),d.zc(9,Qi,6,4,"div",14),d.zc(10,Ri,4,3,"div",13),d.Pb(11,"br"),d.Pb(12,"hr",15),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2);d.Cb(3),d.Cc(n.title),d.Cb(1),d.Dc("",n.subTitle," "),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngIf","TH-25-1"===n.key),d.Cb(1),d.jc("ngIf","TH-25-2"===n.key),d.Cb(1),d.jc("ngIf","TH-25-3"===n.key),d.Cb(1),d.jc("ngIf","TH-25-4"===n.key),d.Cb(1),d.jc("ngIf","TH-25-5"===n.key)}}function $i(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",4),d.Ub(2,"h4",5),d.Ub(3,"b"),d.Bc(4),d.Tb(),d.zc(5,xi,1,1,"nb-icon",6),d.Tb(),d.Tb(),d.zc(6,_i,13,8,"div",7),d.Pb(7,"div",8),d.Tb()),2&e){var n=s.$implicit,t=d.dc();d.Cb(4),d.Cc(n.title),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.instruction)),d.Cb(1),d.jc("ngForOf",n.questions)}}var Fi,Gi,Li=((Fi=function(){function e(s,n,t,a,r,c){i(this,e),this.assessmentService=s,this.questionService=n,this.formBuilder=t,this.dialogService=a,this.toastrService=c,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.categories=V.a.CATEGORIES,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.toast=new k.a(c),this.router=r,this.assessment=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"threats",get:function(){return this.form.controls.threats}},{key:"limitations",get:function(){return this.form.controls.limitations}},{key:"ngOnInit",value:function(){var e=this;this.form=this.formBuilder.group({threats:this.formBuilder.array([]),limitations:this.formBuilder.array([])}),0!==this.assessment.assessmentThreat.threats.length&&this.assessment.assessmentThreat.threats.map((function(s){return e.threats.push(e.formBuilder.group({threat:[s]}))})),0!==this.assessment.assessmentThreat.limitations.length&&this.assessment.assessmentThreat.limitations.map((function(s){return e.limitations.push(e.formBuilder.group({limitation:[s]}))}))}},{key:"addThreats",value:function(){""!==this.newThreat().getRawValue()&&this.threats.push(this.newThreat())}},{key:"removeThreat",value:function(e){this.threats.removeAt(e)}},{key:"addLimitation",value:function(){""!==this.newLimitation().getRawValue()&&this.limitations.push(this.newLimitation())}},{key:"removeLimitation",value:function(e){this.limitations.removeAt(e)}},{key:"isNullOrUndefinedOrFalse",value:function(e){return!1===e||null==e}},{key:"verifyThreatState",value:function(e){return"TH-25-1"===e?this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name:"TH-25-2"===e?this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name:"TH-25-3"===e?this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name:"TH-25-4"===e?this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name:this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name}},{key:"checkThreatQuestion",value:function(e,s){"TH-25-1"===s?this.assessment.answers.planThreatsAnswers.whatThreats=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-2"===s?this.assessment.answers.planThreatsAnswers.threatsValidityControlled=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-3"===s?this.assessment.answers.planThreatsAnswers.assessmentLimitations=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-4"===s?this.assessment.answers.planThreatsAnswers.ethicalAspects=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planThreatsAnswers.assessmentBiases=!0===e?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}},{key:"open",value:function(e){this.dialogService.open(e,{context:"this is some additional data passed to dialog"})}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isEqual",value:function(e,s){return e===s}},{key:"onSubmit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mountThreats(),e.next=3,this.assessmentService.updateAssessmentThreatsSection(this.assessmentThreatDTO);case 3:e.sent.subscribe((function(e){s.toast.showToast("update","top-right","success","Assessment"),s.assessment=e;var n=new $(s.assessment.uid,s.assessment.projectName);s.router.navigate(["/pages/assessment/my-plans/edit"],{state:n})}),(function(){s.toast.showToast("update","top-right","danger","Assessment")}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"mountThreats",value:function(){this.assessmentThreatDTO=new ji(this.assessment.uid,this.threats.getRawValue().map((function(e){return e.threat})),this.assessment.assessmentThreat.controlMeasure,this.limitations.getRawValue().map((function(e){return e.limitation})),this.assessment.assessmentThreat.ethicalAspectsDefined,this.assessment.assessmentThreat.ethicalAspectsDescription,this.assessment.assessmentThreat.biasDescription,this.assessment.answers.planThreatsAnswers),console.log(this.assessmentThreatDTO)}},{key:"newThreat",value:function(){return this.formBuilder.group({threat:[""]})}},{key:"newLimitation",value:function(){return this.formBuilder.group({limitation:[""]})}}]),e}()).\u0275fac=function(e){return new(e||Fi)(d.Ob(h.a),d.Ob(E.a),d.Ob(c.d),d.Ob(l.J),d.Ob(b.d),d.Ob(l.ub))},Fi.\u0275cmp=d.Ib({type:Fi,selectors:[["ngx-edit-threat-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],[4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],[1,"solid"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","threats",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["icon","plus-circle-outline"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[3,"formGroupName"],[1,"row","col-lg-12"],["formControlName","threat","fullWidth","","id","input-threat","name","threat","nbInput","","shape","round",1,"display-next",2,"margin-bottom","10px",3,"placeholder"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteTreatDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["fullWidth","","nbInput","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","placeholder","ngModelChange"],["formArrayName","limitations",1,"container","mt-3"],["formControlName","limitation","fullWidth","","id","input-limitation","name","limitation","nbInput","","shape","round",1,"display-next",2,"margin-bottom","10px",3,"placeholder"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fullWidth","","nbInput","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","placeholder","ngModelChange"]],template:function(e,s){1&e&&(d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Ub(2,"h4"),d.Bc(3,"Threats to validity Section"),d.Tb(),d.Tb(),d.Ub(4,"nb-card-body"),d.Ub(5,"div",0),d.Ub(6,"div",1),d.zc(7,$i,8,3,"div",2),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"nb-card-footer"),d.Ub(9,"div"),d.Ub(10,"button",3),d.bc("click",(function(){return s.onSubmit()})),d.Ub(11,"b"),d.Bc(12,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(7),d.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.threats.acronym).parentQuestions))},directives:[l.u,l.w,l.t,w.m,l.v,l.r,w.n,l.L,l.vb,c.q,c.h,c.B,c.r,c.c,l.z,c.i,c.b,l.O,c.p,c.g,c.s,l.gb,l.fb,c.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),Fi),Wi=function e(s,n,t){i(this,e),this.assessmentUid=s,this.userUid=n,this.collaboratorsEmail=t},Ki=((Gi=function(){function e(s,n,t,a,r){var c=this;i(this,e),this.formBuilder=s,this.assessmentService=n,this.store=t,this.router=a,this.toastrService=r,this.toast=new k.a(r),this.store.select(m.a).subscribe((function(e){var s=e.uid;return c.userUid=s}))}return t(e,[{key:"isValid",get:function(){return!(null==this.assessmentUid)}},{key:"submit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.collaborator=new Wi(this.assessmentUid,this.userUid,[]),console.log(this.collaborator),e.next=4,this.assessmentService.enterAsCollaborator(this.collaborator);case 4:e.sent.subscribe((function(e){s.toast.showToast("collab","top-right","success","Collaborator"),console.log(e),s.router.navigate(["/pages/home"])}),(function(){s.toast.showToast("collab","top-right","danger","Collaborator")}));case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Gi)(d.Ob(c.d),d.Ob(h.a),d.Ob(g.h),d.Ob(b.d),d.Ob(l.ub))},Gi.\u0275cmp=d.Ib({type:Gi,selectors:[["ngx-new-collaborator"]],decls:16,vars:2,consts:[[1,"container"],[1,"col-lg-12"],[1,"example-items-col"],[1,"row","col-lg-12","bottom-margin"],["fullWidth","","nbInput","","required","true","type","text",3,"ngModel","ngModelChange"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["icon","save-outline"]],template:function(e,s){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"h3"),d.Bc(3," Enter as Collaborator "),d.Tb(),d.Ub(4,"nb-card"),d.Ub(5,"nb-card-header"),d.Bc(6,"Enter the code that was sent to your email in the field below:"),d.Tb(),d.Ub(7,"nb-card-body",2),d.Ub(8,"div",3),d.Ub(9,"input",4),d.bc("ngModelChange",(function(e){return s.assessmentUid=e})),d.Tb(),d.Tb(),d.Tb(),d.Ub(10,"nb-card-footer"),d.Ub(11,"div"),d.Ub(12,"button",5),d.bc("click",(function(){return s.submit()})),d.Pb(13,"nb-icon",6),d.Ub(14,"b"),d.Bc(15,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.Cb(9),d.jc("ngModel",s.assessmentUid),d.Cb(3),d.jc("disabled",!s.isValid))},directives:[l.u,l.w,l.t,l.O,c.b,c.x,c.p,c.s,l.v,l.r,l.L],styles:[".padding-right[_ngcontent-%COMP%]{float:right}"]}),Gi),Yi=function e(s){i(this,e),this.assessmentUid=s};function Hi(e,s){if(1&e){var n=d.Vb();d.Ub(0,"section",11),d.Ub(1,"div",12),d.Pb(2,"input",13),d.Ub(3,"nb-icon",14),d.bc("click",(function(){d.sc(n);var e=s.index;return d.dc().removeEmail(e)})),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=s.$implicit;d.jc("formGroupName",s.index),d.Cb(2),d.jc("required",!0)("status",t.dirty?t.invalid?"danger":"success":""),d.Db("aria-invalid",!(!t.invalid||!t.touched)||null)}}var Ji,Xi=((Ji=function(){function e(s,n,t,a,r){var c=this;i(this,e),this.formBuilder=s,this.assessmentService=n,this.store=t,this.router=a,this.toastrService=r,this.toast=new k.a(r),this.assessment=this.router.getCurrentNavigation().extras.state,this.form=this.formBuilder.group({emails:this.formBuilder.array([])}),this.store.select(m.a).subscribe((function(e){var s=e.uid;return c.userUid=s}))}return t(e,[{key:"isValid",get:function(){return this.form.valid}},{key:"isEmpty",get:function(){return 0===this.emails.getRawValue().map((function(e){return e.email})).length}},{key:"emails",get:function(){return this.form.controls.emails}},{key:"back",value:function(){this.router.navigate(["/pages/assessment/my-plans/edit"],{state:new Yi(this.assessment.uid)})}},{key:"values",get:function(){return this.form.value}},{key:"newEmail",value:function(){return this.formBuilder.group({email:["",[c.z.required,c.z.email]]})}},{key:"ngOnInit",value:function(){this.assessmentService.releaseSection(this.userUid).subscribe()}},{key:"addEmail",value:function(){this.emails.push(this.newEmail())}},{key:"removeEmail",value:function(e){this.emails.removeAt(e)}},{key:"submit",value:function(){return Object(p.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var s=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.collaborator=new Wi(this.assessment.uid,this.userUid,this.emails.getRawValue().map((function(e){return e.email}))),console.log(this.collaborator),e.next=4,this.assessmentService.newCollaborator(this.collaborator);case 4:e.sent.subscribe((function(e){s.toast.showToast("collabAdd","top-right","success","Collaborators"),console.log(e),s.router.navigate(["/pages/assessment/my-plans"])}),(function(){s.toast.showToast("collabAdd","top-right","danger","collaborators")}));case 5:case"end":return e.stop()}}),e,this)})))}}]),e}()).\u0275fac=function(e){return new(e||Ji)(d.Ob(c.d),d.Ob(h.a),d.Ob(g.h),d.Ob(b.d),d.Ob(l.ub))},Ji.\u0275cmp=d.Ib({type:Ji,selectors:[["ngx-add-collaborator"]],decls:26,vars:3,consts:[[1,"container",3,"formGroup"],[1,"col-lg-12"],[1,"example-items-col"],["formArrayName","emails",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click"],["icon","plus-circle-outline"],["nbButton","","status","info",3,"click"],["icon","arrow-back-outline"],["nbButton","","status","success",1,"float-right",3,"disabled","click"],["icon","save-outline"],[3,"formGroupName"],[1,"row","col-lg-8","bottom-margin-light"],["fieldSize","large","formControlName","email","fullWidth","","id","input-colab-email","name","email","nbInput","","placeholder","Collaborator email address",1,"display-next",3,"required","status"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"]],template:function(e,s){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Ub(2,"h3"),d.Bc(3," Enter as Collaborator "),d.Tb(),d.Ub(4,"nb-card"),d.Ub(5,"nb-card-header"),d.Bc(6,"Enter the code that was sent to your email in the field below:"),d.Tb(),d.Ub(7,"nb-card-body",2),d.Ub(8,"label"),d.Ub(9,"b"),d.Bc(10,"Collaborator(s) email(s):"),d.Tb(),d.Tb(),d.Ub(11,"form",3),d.zc(12,Hi,4,4,"section",4),d.Tb(),d.Ub(13,"button",5),d.bc("click",(function(){return s.addEmail()})),d.Pb(14,"nb-icon",6),d.Bc(15," Add Collaborator "),d.Tb(),d.Tb(),d.Ub(16,"nb-card-footer"),d.Ub(17,"div"),d.Ub(18,"button",7),d.bc("click",(function(){return s.back()})),d.Pb(19,"nb-icon",8),d.Ub(20,"b"),d.Bc(21,"BACK"),d.Tb(),d.Tb(),d.Ub(22,"button",9),d.bc("click",(function(){return s.submit()})),d.Pb(23,"nb-icon",10),d.Ub(24,"b"),d.Bc(25,"SUBMIT"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.jc("formGroup",s.form),d.Cb(12),d.jc("ngForOf",s.emails.controls),d.Cb(10),d.jc("disabled",!s.isValid||s.isEmpty))},directives:[c.q,c.h,l.u,l.w,l.t,c.B,c.r,c.c,w.m,l.r,l.L,l.v,c.i,c.b,l.O,c.p,c.g,c.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),Ji);function Zi(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the Application section:"),d.Tb(),d.Tb())}function ea(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the Goals section:"),d.Tb(),d.Tb())}function sa(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the Variables and Measurement section:"),d.Tb(),d.Tb())}function na(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the Participants section:"),d.Tb(),d.Tb())}function ta(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the Tasks and Materials section:"),d.Tb(),d.Tb())}function ia(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the the Procedure section:"),d.Tb(),d.Tb())}function aa(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the the Data collection and Data analysis section:"),d.Tb(),d.Tb())}function ra(e,s){1&e&&(d.Ub(0,"label"),d.Ub(1,"b"),d.Bc(2,"These are comments on the the Threats to validity section:"),d.Tb(),d.Tb())}function ca(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card",3),d.Ub(1,"nb-card-header"),d.zc(2,Zi,3,0,"label",0),d.zc(3,ea,3,0,"label",0),d.zc(4,sa,3,0,"label",0),d.zc(5,na,3,0,"label",0),d.zc(6,ta,3,0,"label",0),d.zc(7,ia,3,0,"label",0),d.zc(8,aa,3,0,"label",0),d.zc(9,ra,3,0,"label",0),d.Tb(),d.Ub(10,"nb-card-body"),d.Ub(11,"textarea",4),d.bc("ngModelChange",(function(e){return d.sc(n),s.$implicit.comment=e})),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=s.$implicit,i=d.dc(2);d.Cb(2),d.jc("ngIf",t.section===i.categories.application.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.goals.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.variables.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.participants.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.tasks.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.procedure.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.data.acronym),d.Cb(1),d.jc("ngIf",t.section===i.categories.threats.acronym),d.Cb(2),d.jc("ngModel",t.comment)}}function oa(e,s){if(1&e){var n=d.Vb();d.Ub(0,"nb-card"),d.Ub(1,"nb-card-header"),d.Bc(2,"Comments made by the reviewer on your assessment planning."),d.Tb(),d.Ub(3,"nb-card-body"),d.zc(4,ca,12,9,"nb-card",1),d.Tb(),d.Ub(5,"nb-card-footer"),d.Ub(6,"button",2),d.bc("click",(function(){return d.sc(n),d.dc().back()})),d.Bc(7,"BACK"),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc();d.Cb(4),d.jc("ngForOf",t.review.comments)}}var la,ba=((la=function(){function e(s,n,t,a){var r=this;i(this,e),this.reviewService=s,this.toastrService=t,this.store=a,this.categories=V.a.CATEGORIES,this.toast=new k.a(t),this.router=n,this.store.select(m.a).subscribe((function(e){return r.user=e})),this.reviewInfo=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.reviewService.findReviewByUid(this.reviewInfo.reviewUid).subscribe((function(s){e.review=s,e.dataloaded=Promise.resolve(!0)}))}},{key:"back",value:function(){this.router.navigate(["/pages/assessment/reviewed-plan"])}}]),e}()).\u0275fac=function(e){return new(e||la)(d.Ob(j.a),d.Ob(b.d),d.Ob(l.ub),d.Ob(g.h))},la.\u0275cmp=d.Ib({type:la,selectors:[["ngx-review-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["status","control",4,"ngFor","ngForOf"],["nbButton","","hero","","status","primary",3,"click"],["status","control"],["fullWidth","","nbInput","","placeholder","N/A","required","true","rows","5","shape","round","status","info","readonly","",2,"padding-left","10px",3,"ngModel","ngModelChange"]],template:function(e,s){1&e&&(d.zc(0,oa,8,1,"nb-card",0),d.ec(1,"async")),2&e&&d.jc("ngIf",d.fc(1,1,s.dataloaded))},directives:[w.n,l.u,l.w,l.t,w.m,l.v,l.r,l.O,c.b,c.x,c.p,c.s],pipes:[w.b],styles:[""]}),la);function da(e,s){if(1&e&&(d.Ub(0,"label",59),d.Ub(1,"b"),d.Bc(2),d.Tb(),d.Tb()),2&e){var n=d.dc(2).$implicit,t=d.dc(3);d.Cb(2),d.Cc(t.removeNumberString(n.title))}}function ua(e,s){if(1&e&&(d.Ub(0,"div",61),d.Ub(1,"label",62),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.Ub(4,"h6",63),d.Bc(5),d.Tb(),d.Tb()),2&e){var n=d.dc(3).$implicit,t=d.dc(3);d.Cb(3),d.Cc(null==n?null:n.title),d.Cb(2),d.Dc("",t.assessment.smartCityPercentage,"%")}}function pa(e,s){if(1&e&&(d.zc(0,ua,6,2,"div",60),d.Pb(1,"hr",34)),2&e){var n=d.dc(5);d.jc("ngIf",!n.isNull(n.assessment.smartCityPercentage))}}function ha(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function ma(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function fa(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function ga(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,ha,2,0,"p",27),d.zc(2,ma,2,0,"p",27),d.zc(3,fa,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasDataManagement),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasDataManagement&&!n.isNull(n.assessment.smartCityQuestionnaire.hasDataManagement)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasDataManagement))}}function wa(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Ca(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function va(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function Ta(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,wa,2,0,"p",27),d.zc(2,Ca,2,0,"p",27),d.zc(3,va,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasAppExecution),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasAppExecution&&!n.isNull(n.assessment.smartCityQuestionnaire.hasAppExecution)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasAppExecution))}}function ya(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Aa(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function Ua(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function ka(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,ya,2,0,"p",27),d.zc(2,Aa,2,0,"p",27),d.zc(3,Ua,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasSensorNetwork),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasSensorNetwork&&!n.isNull(n.assessment.smartCityQuestionnaire.hasSensorNetwork)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasSensorNetwork))}}function Pa(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Oa(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function ja(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function xa(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Pa,2,0,"p",27),d.zc(2,Oa,2,0,"p",27),d.zc(3,ja,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasDataProcessing),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasDataProcessing&&!n.isNull(n.assessment.smartCityQuestionnaire.hasDataProcessing)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasDataProcessing))}}function Ma(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Ba(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function Sa(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function Ia(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Ma,2,0,"p",27),d.zc(2,Ba,2,0,"p",27),d.zc(3,Sa,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasDataAccess),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasDataAccess&&!n.isNull(n.assessment.smartCityQuestionnaire.hasDataAccess)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasDataAccess))}}function Da(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Na(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function za(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function qa(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Da,2,0,"p",27),d.zc(2,Na,2,0,"p",27),d.zc(3,za,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasServiceManagement),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasServiceManagement&&!n.isNull(n.assessment.smartCityQuestionnaire.hasServiceManagement)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasServiceManagement))}}function Ea(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function Va(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function Qa(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function Ra(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Ea,2,0,"p",27),d.zc(2,Va,2,0,"p",27),d.zc(3,Qa,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.hasSoftwareTools),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.hasSoftwareTools&&!n.isNull(n.assessment.smartCityQuestionnaire.hasSoftwareTools)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.hasSoftwareTools))}}function _a(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"YES"),d.Tb())}function $a(e,s){1&e&&(d.Ub(0,"p"),d.Bc(1,"NO"),d.Tb())}function Fa(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"NOT SELECTED"),d.Tb())}function Ga(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,_a,2,0,"p",27),d.zc(2,$a,2,0,"p",27),d.zc(3,Fa,2,0,"p",64),d.Tb()),2&e){var n=d.dc(5);d.Cb(1),d.jc("ngIf",n.assessment.smartCityQuestionnaire.defineCityModel),d.Cb(1),d.jc("ngIf",!n.assessment.smartCityQuestionnaire.defineCityModel&&!n.isNull(n.assessment.smartCityQuestionnaire.defineCityModel)),d.Cb(1),d.jc("ngIf",n.isNull(n.assessment.smartCityQuestionnaire.defineCityModel))}}function La(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,da,3,1,"label",56),d.zc(2,pa,2,1,"ng-template",null,57,d.Ac),d.Ub(4,"div",58),d.zc(5,ga,4,3,"div",27),d.zc(6,Ta,4,3,"div",27),d.zc(7,ka,4,3,"div",27),d.zc(8,xa,4,3,"div",27),d.zc(9,Ia,4,3,"div",27),d.zc(10,qa,4,3,"div",27),d.zc(11,Ra,4,3,"div",27),d.zc(12,Ga,4,3,"div",27),d.Tb(),d.Tb()),2&e){var n=d.qc(3),t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf","PERC"!=t.objKey)("ngIfElse",n),d.Cb(4),d.jc("ngIf",i.isDataManagement(t.objKey)),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.applicationExecutionEnvironment.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.sensorNetworkManagement.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.dataProcessing.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.dataAccess.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.serviceManagement.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.toolsforSoftwareDevelopment.acronym),d.Cb(1),d.jc("ngIf",t.objKey===i.smartCityCategories.definingACityModel.acronym)}}function Wa(e,s){if(1&e&&(d.Ub(0,"div",55),d.zc(1,La,13,10,"div",27),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.jc("ngIf",!1===n.title.includes("1.1")&&!1===n.title.includes("1.2"))}}function Ka(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Wa,2,1,"div",54),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.jc("ngForOf",n.questions)}}function Ya(e,s){if(1&e&&(d.Ub(0,"p"),d.Bc(1),d.Tb()),2&e){var n=d.dc(2).$implicit;d.Cb(1),d.Cc(n.goal)}}function Ha(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"N/A"),d.Tb())}function Ja(e,s){if(1&e&&(d.Ub(0,"div",70),d.zc(1,Ya,2,1,"p",27),d.zc(2,Ha,2,0,"p",64),d.Tb()),2&e){var n=d.dc().$implicit,t=d.dc(4);d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.goal)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(n.goal))}}function Xa(e,s){if(1&e&&(d.Ub(0,"div",46),d.zc(1,Ja,3,2,"div",69),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.attribute))}}function Za(e,s){if(1&e&&(d.Ub(0,"div",55),d.Ub(1,"label",46),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.zc(4,Xa,2,1,"div",68),d.Pb(5,"br"),d.Tb()),2&e){var n=s.$implicit,t=d.dc(3);d.Cb(3),d.Cc(t.removeNumberString(n.title)),d.Cb(1),d.jc("ngForOf",t.assessment.usabilityGoals)}}function er(e,s){if(1&e&&(d.Ub(0,"div"),d.Pb(1,"div",66),d.zc(2,Za,6,2,"div",67),d.Tb()),2&e){var n=s.$implicit;d.Cb(2),d.jc("ngForOf",n.questions)}}function sr(e,s){1&e&&(d.Ub(0,"p",73),d.Ub(1,"b"),d.Bc(2,"Which variables will be measured during the assessment?"),d.Tb(),d.Tb())}function nr(e,s){1&e&&(d.Ub(0,"p",73),d.Ub(1,"b"),d.Bc(2,"How will the listed variables be obtained?"),d.Tb(),d.Tb())}function tr(e,s){if(1&e&&(d.Ub(0,"p"),d.Bc(1),d.Tb()),2&e){var n=d.dc(2).$implicit;d.Cb(1),d.Cc(n.variables)}}function ir(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"N/A"),d.Tb())}function ar(e,s){if(1&e&&(d.Ub(0,"div",70),d.zc(1,tr,2,1,"p",27),d.zc(2,ir,2,0,"p",64),d.Tb()),2&e){var n=d.dc().$implicit,t=d.dc(5);d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.variables)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(n.variables))}}function rr(e,s){if(1&e&&(d.Ub(0,"div",46),d.zc(1,ar,3,2,"div",69),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function cr(e,s){if(1&e&&(d.Ub(0,"div",75),d.zc(1,rr,2,1,"div",68),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function or(e,s){if(1&e&&(d.Ub(0,"p"),d.Bc(1),d.Tb()),2&e){var n=d.dc(2).$implicit;d.Cb(1),d.Cc(n.obtainedBy)}}function lr(e,s){1&e&&(d.Ub(0,"p",65),d.Bc(1,"N/A"),d.Tb())}function br(e,s){if(1&e&&(d.Ub(0,"div",70),d.zc(1,or,2,1,"p",27),d.zc(2,lr,2,0,"p",64),d.Tb()),2&e){var n=d.dc().$implicit,t=d.dc(5);d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(n.obtainedBy)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(n.obtainedBy))}}function dr(e,s){if(1&e&&(d.Ub(0,"div",46),d.zc(1,br,3,2,"div",69),d.Tb()),2&e){var n=s.$implicit,t=d.dc(2).$implicit,i=d.dc(3);d.Cb(1),d.jc("ngIf",i.isEqual(t.objectKey,n.usabilityAttribute))}}function ur(e,s){if(1&e&&(d.Ub(0,"div",75),d.zc(1,dr,2,1,"div",68),d.Tb()),2&e){var n=d.dc(4);d.Cb(1),d.jc("ngForOf",n.assessment.attributes)}}function pr(e,s){if(1&e&&(d.Ub(0,"div",55),d.Ub(1,"label",46),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Tb(),d.zc(4,cr,2,1,"div",74),d.zc(5,ur,2,1,"div",74),d.Pb(6,"br"),d.Tb()),2&e){var n=s.$implicit,t=d.dc().$implicit;d.Cb(3),d.Cc(n.title),d.Cb(1),d.jc("ngIf","VM-4"===t.key),d.Cb(1),d.jc("ngIf","VM-5"===t.key)}}function hr(e,s){1&e&&d.Pb(0,"hr",34)}function mr(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"div",66),d.zc(2,sr,3,0,"p",71),d.zc(3,nr,3,0,"p",71),d.Tb(),d.zc(4,pr,7,3,"div",67),d.zc(5,hr,1,0,"hr",72),d.Tb()),2&e){var n=s.$implicit;d.Cb(2),d.jc("ngIf","VM-4"===n.key),d.Cb(1),d.jc("ngIf","VM-5"===n.key),d.Cb(1),d.jc("ngForOf",n.questions),d.Cb(1),d.jc("ngIf","VM-4"===n.key)}}function fr(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"nb-action",76),d.Bc(2),d.Pb(3,"br"),d.Bc(4),d.Tb(),d.Pb(5,"br"),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.jc("nbTooltip",n.description),d.Cb(1),d.Dc("",n.name," "),d.Cb(2),d.Dc("(",n.acronym,") ")}}function gr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Dc("",n.assessment.participant.participantsQuantity," people")}}function wr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Cr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Dc(" ","R"===n.assessment.participant.participationLocalType?"REMOTE":"IN PERSON","")}}function vr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Tr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Dc(" ",n.assessment.participant.compensationDescription,"")}}function yr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Ar(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"YES"),d.Tb())}function Ur(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"NO"),d.Tb())}function kr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.participant.collectedInformationUse)}}function Pr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Or(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.participant.criteria)}}function jr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function xr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.participant.instructions)}}function Mr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Br(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.Cc(n)}}function Sr(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Br,2,1,"p",79),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.jc("ngForOf",n.assessment.participant.questions)}}function Ir(e,s){1&e&&(d.Ub(0,"div"),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function Dr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentProcedure.occurDate)}}function Nr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function zr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentProcedure.occurTime)}}function qr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Er(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentProcedure.occurLocal)}}function Vr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Qr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentProcedure.occurDetail)}}function Rr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function _r(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"YES"),d.Tb())}function $r(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"NO"),d.Tb())}function Fr(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function Gr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentProcedure.pilotDescription)}}function Lr(e,s){if(1&e&&(d.Ub(0,"nb-card",80),d.Ub(1,"nb-card-header",9),d.Bc(2),d.Tb(),d.Ub(3,"nb-card-body",9),d.Bc(4),d.Tb(),d.Tb()),2&e){var n=s.$implicit,t=s.index;d.lc("nbTooltip","Description: ",n.description,""),d.Cb(2),d.Dc(" Step ",t," "),d.Cb(2),d.Dc(" ",n.name," ")}}function Wr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.Cc(n)}}function Kr(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Wr,2,1,"p",79),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.jc("ngForOf",n.assessment.assessmentTools.tools)}}function Yr(e,s){1&e&&(d.Ub(0,"div"),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function Hr(e,s){if(1&e&&(d.Ub(0,"div"),d.Ub(1,"p",77),d.Ub(2,"b"),d.Bc(3),d.Tb(),d.Bc(4),d.Tb(),d.Ub(5,"p",77),d.Ub(6,"b"),d.Bc(7),d.Tb(),d.Bc(8),d.Tb(),d.Ub(9,"p",77),d.Ub(10,"b"),d.Bc(11),d.Tb(),d.Bc(12),d.Tb(),d.Pb(13,"hr",34),d.Tb()),2&e){var n=s.$implicit,t=s.index;d.Cb(3),d.Dc("",t+1," .Description:"),d.Cb(1),d.Dc(" ",n.description,""),d.Cb(3),d.Dc("",t+1,".Execution Time:"),d.Cb(1),d.Dc(" ",n.taskExecutionTime,""),d.Cb(3),d.Dc("",t+1,".Acceptance Criteria:"),d.Cb(1),d.Dc(" ",n.acceptanceCriteria,"")}}function Jr(e,s){if(1&e&&(d.Ub(0,"div"),d.zc(1,Hr,14,6,"div",13),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.jc("ngForOf",n.assessment.assessmentTools.tasks)}}function Xr(e,s){1&e&&(d.Ub(0,"div"),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function Zr(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentData.dataCollectionProcedure)}}function ec(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function sc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentData.analysisDescription)}}function nc(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function tc(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"YES"),d.Tb())}function ic(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"NO"),d.Tb())}function ac(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function rc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentData.statisticalMethodsDescription)}}function cc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.Cc(n)}}function oc(e,s){if(1&e&&(d.Ub(0,"div",81),d.zc(1,cc,2,1,"p",79),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.jc("ngForOf",n.assessment.assessmentThreat.threats)}}function lc(e,s){1&e&&(d.Ub(0,"div",82),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function bc(e,s){if(1&e&&(d.Ub(0,"div",83),d.Ub(1,"p",77),d.Bc(2),d.Tb(),d.Tb()),2&e){var n=d.dc(2);d.Cb(2),d.Cc(n.assessment.assessmentThreat.controlMeasure)}}function dc(e,s){1&e&&(d.Ub(0,"div",82),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function uc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=s.$implicit;d.Cb(1),d.Cc(n)}}function pc(e,s){if(1&e&&(d.Ub(0,"div",84),d.zc(1,uc,2,1,"p",79),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.jc("ngForOf",n.assessment.assessmentThreat.limitations)}}function hc(e,s){1&e&&(d.Ub(0,"div",82),d.Ub(1,"p",78),d.Bc(2,"N/A"),d.Tb(),d.Tb())}function mc(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"YES"),d.Tb())}function fc(e,s){1&e&&(d.Ub(0,"p",77),d.Bc(1,"NO"),d.Tb())}function gc(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}function wc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentThreat.ethicalAspectsDescription)}}function Cc(e,s){if(1&e&&(d.Ub(0,"p",77),d.Bc(1),d.Tb()),2&e){var n=d.dc(2);d.Cb(1),d.Cc(n.assessment.assessmentThreat.biasDescription)}}function vc(e,s){1&e&&(d.Ub(0,"p",78),d.Bc(1,"N/A"),d.Tb())}var Tc=function(){return{backgroundImage:"url(https://cadeira-spring-react.s3-sa-east-1.amazonaws.com/procedure_arrow.png)"}};function yc(e,s){if(1&e){var n=d.Vb();d.Ub(0,"div",1),d.Ub(1,"button",2),d.bc("click",(function(){return d.sc(n),d.dc().back()})),d.Pb(2,"nb-icon",3),d.Ub(3,"b"),d.Bc(4,"BACK"),d.Tb(),d.Tb(),d.Ub(5,"section",4),d.Ub(6,"div",5),d.Ub(7,"label"),d.Bc(8,"Project Name"),d.Tb(),d.Ub(9,"nb-card",6),d.Ub(10,"nb-card-body"),d.Bc(11),d.Tb(),d.Tb(),d.Tb(),d.Ub(12,"div",7),d.Ub(13,"label"),d.Bc(14,"Project Description"),d.Tb(),d.Ub(15,"nb-card",6),d.Ub(16,"nb-card-body"),d.Bc(17),d.Tb(),d.Tb(),d.Tb(),d.Ub(18,"div",8),d.Ub(19,"label"),d.Bc(20,"Date"),d.Tb(),d.Ub(21,"nb-card",6),d.Ub(22,"nb-card-body",9),d.Bc(23),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(24,"section",10),d.Ub(25,"div",11),d.Ub(26,"nb-card",12),d.Ub(27,"nb-card-header",9),d.Bc(28,"Is it a Smart City application?"),d.Tb(),d.Ub(29,"nb-card-body"),d.zc(30,Ka,2,1,"div",13),d.Tb(),d.Tb(),d.Tb(),d.Ub(31,"div",14),d.Ub(32,"nb-card",12),d.Ub(33,"nb-card-header",9),d.Bc(34,"Assessment goals"),d.Tb(),d.Ub(35,"nb-card-body"),d.zc(36,er,3,1,"div",13),d.Tb(),d.Tb(),d.Tb(),d.Ub(37,"div",15),d.Ub(38,"nb-card",12),d.Ub(39,"nb-card-header",9),d.Bc(40,"Variables and measurement"),d.Tb(),d.Ub(41,"nb-card-body"),d.zc(42,mr,6,4,"div",13),d.Tb(),d.Tb(),d.Tb(),d.Ub(43,"div",16),d.Ub(44,"nb-card",12),d.Ub(45,"nb-card-header",9),d.Bc(46,"Scales"),d.Tb(),d.Ub(47,"nb-card-body"),d.zc(48,fr,6,3,"div",13),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(49,"div",17),d.Ub(50,"nb-card",18),d.Ub(51,"nb-card-header",9),d.Bc(52,"Participants"),d.Tb(),d.Ub(53,"nb-card-body",19),d.Ub(54,"div",20),d.Ub(55,"label"),d.Ub(56,"b"),d.Bc(57,"How many participants?"),d.Tb(),d.Tb(),d.zc(58,gr,2,1,"p",21),d.zc(59,wr,2,0,"p",22),d.Ub(60,"label"),d.Ub(61,"b"),d.Bc(62,"Will it be an in-person or a remote participation?"),d.Tb(),d.Tb(),d.zc(63,Cr,2,1,"p",21),d.zc(64,vr,2,0,"p",22),d.Ub(65,"label"),d.Ub(66,"b"),d.Bc(67,"Form of compensation:"),d.Tb(),d.Tb(),d.zc(68,Tr,2,1,"p",21),d.zc(69,yr,2,0,"p",22),d.Tb(),d.Ub(70,"div",23),d.Ub(71,"label"),d.Ub(72,"b"),d.Bc(73,"Will a demographic questionnaire be used to collect information from the participants?"),d.Tb(),d.Tb(),d.zc(74,Ar,2,0,"p",21),d.zc(75,Ur,2,0,"p",21),d.zc(76,kr,2,1,"p",21),d.zc(77,Pr,2,0,"p",22),d.Ub(78,"label"),d.Ub(79,"b"),d.Bc(80,"List the eligibility criteria for the participants:"),d.Tb(),d.Tb(),d.zc(81,Or,2,1,"p",21),d.zc(82,jr,2,0,"p",22),d.Tb(),d.Ub(83,"div",24),d.Ub(84,"label"),d.Ub(85,"b"),d.Bc(86,"Explain the instructions to be given to the participants:"),d.Tb(),d.Tb(),d.zc(87,xr,2,1,"p",21),d.zc(88,Mr,2,0,"p",22),d.Tb(),d.Ub(89,"div",25),d.Ub(90,"label"),d.Ub(91,"b"),d.Bc(92,"List the questions that will be asked to the participants:"),d.Tb(),d.Tb(),d.Ub(93,"div",26),d.zc(94,Sr,2,1,"div",27),d.zc(95,Ir,3,0,"div",27),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(96,"div",28),d.Ub(97,"nb-card",29),d.Ub(98,"nb-card-header",9),d.Bc(99,"Procedure"),d.Tb(),d.Ub(100,"nb-card-body"),d.Ub(101,"div",30),d.Ub(102,"div",31),d.Ub(103,"label"),d.Ub(104,"b"),d.Bc(105,"When will it occur?"),d.Tb(),d.Tb(),d.zc(106,Dr,2,1,"p",21),d.zc(107,Nr,2,0,"p",22),d.Ub(108,"label"),d.Ub(109,"b"),d.Bc(110,"How much time will it require?"),d.Tb(),d.Tb(),d.zc(111,zr,2,1,"p",21),d.zc(112,qr,2,0,"p",22),d.Tb(),d.Ub(113,"div",32),d.Ub(114,"label"),d.Ub(115,"b"),d.Bc(116,"Where will it occur?"),d.Tb(),d.Tb(),d.zc(117,Er,2,1,"p",21),d.zc(118,Vr,2,0,"p",22),d.Tb(),d.Ub(119,"div",32),d.Ub(120,"label"),d.Ub(121,"b"),d.Bc(122,"How will it occur?"),d.Tb(),d.Tb(),d.zc(123,Qr,2,1,"p",21),d.zc(124,Rr,2,0,"p",22),d.Tb(),d.Ub(125,"div",33),d.Ub(126,"label"),d.Ub(127,"b"),d.Bc(128,"Will there be a pilot assessment?"),d.Tb(),d.Tb(),d.zc(129,_r,2,0,"p",21),d.zc(130,$r,2,0,"p",21),d.zc(131,Fr,2,0,"p",22),d.zc(132,Gr,2,1,"p",21),d.Tb(),d.Tb(),d.Pb(133,"hr",34),d.Ub(134,"div",35),d.zc(135,Lr,5,3,"nb-card",36),d.Tb(),d.Pb(136,"div",37),d.Tb(),d.Tb(),d.Tb(),d.Ub(137,"section",38),d.Ub(138,"div",39),d.Ub(139,"nb-card",40),d.Ub(140,"nb-card-header",9),d.Bc(141,"Tasks and materials"),d.Tb(),d.Ub(142,"nb-card-body"),d.Ub(143,"div",41),d.Ub(144,"div",42),d.Ub(145,"label"),d.Ub(146,"b"),d.Bc(147,"What instruments, materials, technology, and tools will be used and how?"),d.Tb(),d.Tb(),d.Ub(148,"div",43),d.zc(149,Kr,2,1,"div",27),d.zc(150,Yr,3,0,"div",27),d.Tb(),d.Tb(),d.Ub(151,"div",42),d.Ub(152,"label"),d.Ub(153,"b"),d.Bc(154,"What tasks will the participants need to perform?"),d.Tb(),d.Tb(),d.Ub(155,"div",43),d.zc(156,Jr,2,1,"div",27),d.zc(157,Xr,3,0,"div",27),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(158,"div",44),d.Pb(159,"div",45),d.Ub(160,"nb-card",40),d.Ub(161,"nb-card-header",9),d.Bc(162,"Data collection and analysis"),d.Tb(),d.Ub(163,"nb-card-body"),d.Ub(164,"div",46),d.Ub(165,"label"),d.Ub(166,"b"),d.Bc(167,"What will be the data collection procedure?"),d.Tb(),d.Tb(),d.zc(168,Zr,2,1,"p",21),d.zc(169,ec,2,0,"p",22),d.Ub(170,"label"),d.Ub(171,"b"),d.Bc(172,"How will the data collected be analyzed?"),d.Tb(),d.Tb(),d.zc(173,sc,2,1,"p",21),d.zc(174,nc,2,0,"p",22),d.Ub(175,"label"),d.Ub(176,"b"),d.Bc(177,"Describe the statistical methods, if any, that will be be used:"),d.Tb(),d.Tb(),d.zc(178,tc,2,0,"p",21),d.zc(179,ic,2,0,"p",21),d.zc(180,ac,2,0,"p",22),d.zc(181,rc,2,1,"p",21),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Ub(182,"div",47),d.Ub(183,"nb-card",40),d.Ub(184,"nb-card-header",9),d.Bc(185,"Threats to validity"),d.Tb(),d.Ub(186,"nb-card-body"),d.Ub(187,"div",48),d.Ub(188,"label"),d.Ub(189,"b"),d.Bc(190,"What are the threats to the validity of the assessment?"),d.Tb(),d.Tb(),d.zc(191,oc,2,1,"div",49),d.zc(192,lc,3,0,"div",50),d.Pb(193,"hr",34),d.Ub(194,"div",51),d.Ub(195,"label"),d.Ub(196,"b"),d.Bc(197,"How will the threats to validity be controlled?"),d.Tb(),d.Tb(),d.zc(198,bc,3,1,"div",52),d.zc(199,dc,3,0,"div",50),d.Tb(),d.Pb(200,"br"),d.Pb(201,"hr",34),d.Ub(202,"div",51),d.Ub(203,"label"),d.Ub(204,"b"),d.Bc(205,"List the limitations for the assessment:"),d.Tb(),d.Tb(),d.zc(206,pc,2,1,"div",53),d.zc(207,hc,3,0,"div",50),d.Tb(),d.Pb(208,"br"),d.Pb(209,"hr",34),d.Ub(210,"label"),d.Ub(211,"b"),d.Bc(212,"Are the ethical aspects of the assessment well defined for the participants?"),d.Tb(),d.Tb(),d.zc(213,mc,2,0,"p",21),d.zc(214,fc,2,0,"p",21),d.zc(215,gc,2,0,"p",22),d.zc(216,wc,2,1,"p",21),d.Pb(217,"hr",34),d.Ub(218,"label"),d.Ub(219,"b"),d.Bc(220,"List the biases of the assessment:"),d.Tb(),d.Tb(),d.zc(221,Cc,2,1,"p",21),d.zc(222,vc,2,0,"p",22),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb()}if(2&e){var t=d.dc();d.Cb(11),d.Dc(" ",null==t.assessment?null:t.assessment.projectName," "),d.Cb(6),d.Dc(" ",t.assessment.projectDescription," "),d.Cb(6),d.Dc(" ",t.formatedDate()," "),d.Cb(7),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.getApplicationAcronym()).parentQuestions),d.Cb(6),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.goals.acronym).parentQuestions),d.Cb(6),d.jc("ngForOf",t.getCharacterizationQuestionsObject(t.categories.variables.acronym).parentQuestions),d.Cb(6),d.jc("ngForOf",t.assessment.scale),d.Cb(10),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.participantsQuantity)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.participantsQuantity)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.participationLocalType)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.participationLocalType)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.compensationDescription)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.compensationDescription)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.hasCollectedInformation)&&t.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.hasCollectedInformation)&&!t.assessment.participant.hasCollectedInformation),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.collectedInformationUse)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.participantsQuantity)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.criteria)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.criteria)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.participant.instructions)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.participant.instructions)),d.Cb(6),d.jc("ngIf",!t.isNullOrUndefinedOrEmpty(t.assessment.participant.questions)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefinedOrEmpty(t.assessment.participant.questions)),d.Cb(11),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.occurDate)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentProcedure.occurDate)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.occurTime)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentProcedure.occurTime)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.occurLocal)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentProcedure.occurLocal)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.occurDetail)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentProcedure.occurDetail)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.isPilotAssessment)&&t.assessment.assessmentProcedure.isPilotAssessment),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.isPilotAssessment)&&!t.assessment.assessmentProcedure.isPilotAssessment),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentProcedure.isPilotAssessment)),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentProcedure.pilotDescription)),d.Cb(3),d.jc("ngForOf",t.assessment.assessmentProcedure.assessmentProcedureSteps),d.Cb(1),d.jc("ngStyle",d.mc(61,Tc)),d.Cb(13),d.jc("ngIf",!t.isNullOrUndefinedOrEmpty(t.assessment.assessmentTools.tools)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefinedOrEmpty(t.assessment.assessmentTools.tools)),d.Cb(6),d.jc("ngIf",!t.isNullOrUndefinedOrEmpty(t.assessment.assessmentTools.tasks)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefinedOrEmpty(t.assessment.assessmentTools.tasks)),d.Cb(11),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentData.dataCollectionProcedure)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentData.dataCollectionProcedure)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentData.analysisDescription)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentData.analysisDescription)),d.Cb(4),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentData.statisticalMethods)&&t.assessment.assessmentData.statisticalMethods),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentData.statisticalMethods)&&!t.assessment.assessmentData.statisticalMethods),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentData.statisticalMethods)),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentData.statisticalMethodsDescription)),d.Cb(10),d.jc("ngIf",!t.isNullOrUndefinedOrEmpty(t.assessment.assessmentThreat.threats)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefinedOrEmpty(t.assessment.assessmentThreat.threats)),d.Cb(6),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentThreat.controlMeasure)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentThreat.controlMeasure)),d.Cb(7),d.jc("ngIf",!t.isNullOrUndefinedOrEmpty(t.assessment.assessmentThreat.limitations)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefinedOrEmpty(t.assessment.assessmentThreat.limitations)),d.Cb(6),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentThreat.ethicalAspectsDefined)&&t.assessment.assessmentThreat.ethicalAspectsDefined),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentThreat.ethicalAspectsDefined)&&!t.assessment.assessmentThreat.ethicalAspectsDefined),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentThreat.ethicalAspectsDefined)),d.Cb(1),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentThreat.ethicalAspectsDescription)),d.Cb(5),d.jc("ngIf",!t.isNullOrUndefined(t.assessment.assessmentThreat.biasDescription)),d.Cb(1),d.jc("ngIf",t.isNullOrUndefined(t.assessment.assessmentThreat.biasDescription))}}var Ac,Uc,kc,Pc,Oc=[{path:"",component:u,children:[{path:"create",component:A,canActivate:[on.a]},{path:"my-plans",component:z,canActivate:[on.a]},{path:"my-plans/dashboard",component:(Uc=function(){function e(s,n,t,a,r,c,o){var l=this;i(this,e),this.assessmentService=s,this.reviewService=n,this.questionService=t,this.dialogService=r,this.toastrService=c,this.store=o,this.formEditable=!1,this.isVald=!1,this.questionsAnswered=0,this.instrumentQuestions=V.a.PLAN_QUESTIONS,this.planAnswersConstants=V.a.PLAN_ANSWER,this.usabilityAtributes=V.a.USABILITY_ATRIBUTES,this.categories=V.a.CATEGORIES,this.smartCityCategories=V.a.SMART_CITY_CATEGORY,this.genericSelectOptions=V.a.GENERIC_SELECT_OPTIONS,this.selectOptions=V.a.SELECT_OPTIONS,this.sectionControl=V.a.SECTION_CONTROL,this.toast=new k.a(c),this.router=a,this.store.select(m.a).subscribe((function(e){return l.user=e})),this.planInfo=this.router.getCurrentNavigation().extras.state}return t(e,[{key:"ngOnInit",value:function(){var e=this;this.assessment=new q,this.assessmentService.getAssessmentByUid(this.planInfo.assessmentUid).subscribe((function(s){e.assessment=s,e.loadResources(),console.log(e.assessment),e.dataloaded=Promise.resolve(!0)})),this.assessmentService.releaseSection(this.user.uid).subscribe()}},{key:"loadResources",value:function(){this.initQuestionnaire(),this.initGoals(),this.initAssessmentAttribute(),this.initParticipants(),this.initProcedure(),this.initAssessmentTools(),this.initDataCollection(),this.initThreats()}},{key:"isEqual",value:function(e,s){return e===s}},{key:"isNull",value:function(e){return null===e}},{key:"isNullOrUndefined",value:function(e){return null==e}},{key:"isNullOrUndefinedOrEmpty",value:function(e){return null==e||0===e.length}},{key:"isDataManagement",value:function(e){return e===this.smartCityCategories.dataManagement.acronym}},{key:"isNullOrUndefinedOrFalse",value:function(e){return!1===e||null==e}},{key:"isNullOrUndefinedOrTrue",value:function(e){return!0===e||null==e}},{key:"removeNumberString",value:function(e){return e.replace(/[0-9]/g,"").split(".").join("").trim()}},{key:"formatedDate",value:function(){return Object(Q.a)(new Date(this.assessment.creationDate),"yyyy-MM-dd")}},{key:"formatDate",value:function(e){return Object(Q.a)(new Date(e),"yyyy-MM-dd")}},{key:"isFirstQuestion",value:function(e){return"AP-PN"===e||"AP-PD"===e}},{key:"back",value:function(){this.router.navigate(["/pages/assessment/my-plans"])}},{key:"getCharacterizationQuestionsObject",value:function(e){return this.instrumentQuestions.find((function(s){return s.key===e}))}},{key:"getApplicationAcronym",value:function(){return this.categories.application.acronym}},{key:"initQuestionnaire",value:function(){this.isNullOrUndefined(this.assessment.smartCityQuestionnaire)&&(this.assessment.smartCityQuestionnaire=new R.g(null,null,null,null,null,null,null,null))}},{key:"initGoals",value:function(){(this.isNullOrUndefined(this.assessment.usabilityGoals)||0===this.assessment.usabilityGoals.length)&&(this.assessment.usabilityGoals=[new R.h("LRN"),new R.h("EFF"),new R.h("USR"),new R.h("ERR"),new R.h("STF")]),this.fillGoalsArray()}},{key:"fillGoalsArray",value:function(){var e=this;if(5!==this.assessment.usabilityGoals.length){var s=!1;this.usabilityAtributes.forEach((function(n){e.assessment.usabilityGoals.forEach((function(e){n===e.attribute&&(s=!0)})),!1===s&&e.assessment.usabilityGoals.push({attribute:n,goal:null,done:!1}),s=!1}))}}},{key:"initAssessmentTools",value:function(){this.isNullOrUndefined(this.assessment.assessmentTools)&&(this.assessment.assessmentTools=new R.d)}},{key:"initDataCollection",value:function(){this.isNullOrUndefined(this.assessment.assessmentData)&&(this.assessment.assessmentData=new R.a)}},{key:"initThreats",value:function(){this.isNullOrUndefined(this.assessment.assessmentThreat)&&(this.assessment.assessmentThreat=new R.c)}},{key:"initAssessmentAttribute",value:function(){var e=this;(this.isNullOrUndefined(this.assessment.attributes)||0===this.assessment.attributes.length)&&this.usabilityAtributes.forEach((function(s){return e.assessment.attributes.push(new R.e(s))})),(this.isNullOrUndefined(this.assessment.scale)||0===this.assessment.scale.length)&&(this.assessment.scale=[]),this.fillVariableArray()}},{key:"fillVariableArray",value:function(){var e=this;if(5!==this.assessment.attributes.length){var s=!1;this.usabilityAtributes.forEach((function(n){e.assessment.attributes.forEach((function(e){n===e.usabilityAttribute&&(s=!0)})),!1===s&&e.assessment.attributes.push({usabilityAttribute:n,variables:null,obtainedBy:null}),s=!1}))}}},{key:"initProcedure",value:function(){this.isNullOrUndefined(this.assessment.assessmentProcedure)&&(this.assessment.assessmentProcedure=new R.b)}},{key:"initParticipants",value:function(){this.isNullOrUndefined(this.assessment.participant)&&(this.assessment.participant=new R.f)}}]),e}(),Uc.\u0275fac=function(e){return new(e||Uc)(d.Ob(h.a),d.Ob(j.a),d.Ob(E.a),d.Ob(b.d),d.Ob(l.J),d.Ob(l.ub),d.Ob(g.h))},Uc.\u0275cmp=d.Ib({type:Uc,selectors:[["ngx-dashboard"]],decls:2,vars:3,consts:[["class","dashboard",4,"ngIf"],[1,"dashboard"],["nbButton","","status","info",1,"dashboard__button",3,"click"],["icon","arrow-back-outline"],[1,"dashboard__project-info"],[1,"dashboard__project-name"],["size","tiny",2,"height","60px"],[1,"dashboard__project-description"],[1,"dashboard__date"],[1,"text-center"],[1,"dashboard__assessments"],[1,"dashboard__is-smart"],["accent","success","size","giant"],[4,"ngFor","ngForOf"],[1,"dashboard__goals"],[1,"dashboard__variables-and-measurement"],[1,"dashboard__scales"],[1,"dashboard__participants"],["accent","success","size","medium",1,"align-middle"],[1,"row","col-lg-12",2,"overflow","hidden"],[1,"col","col-lg-2"],["style","padding-left: 10px","class","bottom-margin-light",4,"ngIf"],["style","padding-left: 10px","class","bottom-margin-light red-color-text",4,"ngIf"],[1,"col","col-lg-4"],[1,"col","col-lg-3"],[1,"col","col-lg-3",2,"height","100%"],[2,"overflow-y","auto","height","300px"],[4,"ngIf"],[1,"dashboard__procedure"],["accent","success","size","large",1,"align-middle"],[1,"row","col-lg-12",2,"display","flex","height","45%"],[1,"col-lg-2"],[1,"col-lg-3"],[1,"col-lg-4"],[1,"solid"],[1,"row",2,"overflow-x","auto","overflow-y","hidden","flex-direction","column","justify-content","center","height","45%"],["accent","info","class","col-lg-2","style","margin-left: 15px; height: 80%; min-height: 80%","nbTooltipStatus","control",3,"nbTooltip",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"dashboard__analytics"],[1,"dashboard__tasks-and-materials"],["size","giant","accent","success",1,"align-middle"],[1,"row","col-lg-12",2,"display","flex","height","100%"],[1,"col","col-lg-12",2,"height","50%"],[2,"overflow-y","auto","height","90%"],[1,"dashboard__data-collection-and-analysis"],[1,"col","col-lg-12"],[1,"col-lg-12"],[1,"dashboard__threats"],[1,"col","col-lg-12",2,"height","100%"],["style","overflow-y: auto;overflow-x: hidden; height: 20%",4,"ngIf"],["class","col-lg-6",4,"ngIf"],[2,"height","20%","margin-bottom","15px"],["style","overflow-y: auto;overflow-x: hidden; height: 90%",4,"ngIf"],["style","overflow-y: auto;overflow-x: hidden; height: 100%",4,"ngIf"],["class","row","class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],["style","font-size: 90%",4,"ngIf","ngIfElse"],["percentage",""],[1,"container",2,"padding-left","10px"],[2,"font-size","90%"],["class","col-lg-12 bottom-margin",4,"ngIf"],[1,"col-lg-12","bottom-margin"],[1,"vertical-center",2,"font-size","90%"],[2,"padding-left","10px","color","#3c763d"],["class","red-color-text",4,"ngIf"],[1,"red-color-text"],[1,"col-lg-12","row"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngFor","ngForOf"],["style","padding-left: 10px",4,"ngIf"],[2,"padding-left","10px"],["class","col-lg-12 bottom-margin padding-right",4,"ngIf"],["class","solid",4,"ngIf"],[1,"col-lg-12","bottom-margin","padding-right"],["class","container",4,"ngIf"],[1,"container"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space","text-center","bottom-margin",3,"nbTooltip"],[1,"bottom-margin-light",2,"padding-left","10px"],[1,"bottom-margin-light","red-color-text",2,"padding-left","10px"],["style","padding-left: 10px","class","bottom-margin-light",4,"ngFor","ngForOf"],["accent","info","nbTooltipStatus","control",1,"col-lg-2",2,"margin-left","15px","height","80%","min-height","80%",3,"nbTooltip"],[2,"overflow-y","auto","overflow-x","hidden","height","20%"],[1,"col-lg-6"],[2,"overflow-y","auto","overflow-x","hidden","height","90%"],[2,"overflow-y","auto","overflow-x","hidden","height","100%"]],template:function(e,s){1&e&&(d.zc(0,yc,223,62,"div",0),d.ec(1,"async")),2&e&&d.jc("ngIf",d.fc(1,1,s.dataloaded))},directives:[w.n,l.r,l.L,l.u,l.t,l.w,w.m,w.o,l.m,l.vb],pipes:[w.b],styles:['.dashboard[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;max-height:100%;overflow-y:scroll;grid-template-columns:10% 90%;grid-template-rows:2.5% minmax(auto,30%) minmax(auto,30%) minmax(auto,30%) minmax(auto,40%);grid-row-gap:.5%;grid-template-areas:"button ." "project-info project-info" "assessments assessments" "participants participants" "procedure procedure" "analytics analytics";-ms-overflow-style:none;scrollbar-width:none}.dashboard[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dashboard__analytics[_ngcontent-%COMP%], .dashboard__assessments[_ngcontent-%COMP%], .dashboard__project-info[_ngcontent-%COMP%]{display:grid;width:100%}.dashboard__project-info[_ngcontent-%COMP%]{grid-area:project-info;grid-template-columns:25% 55% 15%;grid-column-gap:2.5%;grid-template-areas:"project-name project-description date"}.dashboard__assessments[_ngcontent-%COMP%]{grid-area:assessments;grid-template-columns:25% 25% 34% 10%;grid-column-gap:2%;grid-template-areas:"is-smart goals variables-and-measurement scales"}.dashboard__analytics[_ngcontent-%COMP%]{grid-area:analytics;grid-template-columns:35% 26% 35%;grid-column-gap:2%;justify-content:space-evenly;grid-template-areas:"tasks-and-materials data-collection-and-analysis threats"}.dashboard__button[_ngcontent-%COMP%]{grid-area:button;max-width:100%}.dashboard__project-name[_ngcontent-%COMP%]{grid-area:project-name;max-width:100%}.dashboard__project-description[_ngcontent-%COMP%]{grid-area:project-description;max-width:100%}.dashboard__date[_ngcontent-%COMP%]{grid-area:date}.dashboard__is-smart[_ngcontent-%COMP%]{grid-area:is-smart}.dashboard__goals[_ngcontent-%COMP%]{grid-area:goals}.dashboard__variables-and-measurement[_ngcontent-%COMP%]{grid-area:variables-and-measurement}.dashboard__scales[_ngcontent-%COMP%]{grid-area:scales}.dashboard__participants[_ngcontent-%COMP%]{grid-area:participants}.dashboard__procedure[_ngcontent-%COMP%]{grid-area:procedure}.dashboard__tasks-and-materials[_ngcontent-%COMP%]{grid-area:tasks-and-materials}.dashboard__data-collection-and-analysis[_ngcontent-%COMP%]{grid-area:data-collection-and-analysis}.dashboard__threats[_ngcontent-%COMP%]{grid-area:threats}']}),Uc),canActivate:[on.a]},{path:"my-plans/edit",component:cn,canActivate:[on.a]},{path:"my-plans/edit/add-collaborator",component:Xi,canActivate:[on.a]},{path:"my-plans/edit/application",component:Fn,canActivate:[on.a]},{path:"my-plans/edit/goal",component:Zn,canActivate:[on.a]},{path:"my-plans/edit/variable",component:gt,canActivate:[on.a]},{path:"my-plans/edit/participant",component:Dt,canActivate:[on.a]},{path:"my-plans/edit/tools",component:Xt,canActivate:[on.a]},{path:"my-plans/edit/procedure",component:gi,canActivate:[on.a]},{path:"my-plans/edit/data",component:Oi,canActivate:[on.a]},{path:"my-plans/edit/threats",component:Li,canActivate:[on.a]},{path:"new-collaborator",component:Ki,canActivate:[on.a]},{path:"reviewed-plan",component:B,canActivate:[on.a]},{path:"express",component:(Ac=function(){function e(s,n,t){i(this,e),this.assessmentService=s,this.router=n,this.location=t}return t(e,[{key:"ngOnInit",value:function(){}},{key:"back",value:function(){this.location.back()}},{key:"download",value:function(){this.assessmentService.downloadExpressPlan(),this.router.navigate(["/pages/home"])}}]),e}(),Ac.\u0275fac=function(e){return new(e||Ac)(d.Ob(h.a),d.Ob(b.d),d.Ob(w.j))},Ac.\u0275cmp=d.Ib({type:Ac,selectors:[["ngx-express-planning"]],decls:21,vars:0,consts:[["nbButton","","ghost","","status","info",3,"click"],["icon","arrow-back-outline"],[1,"row",2,"display","flex"],[1,"container","row","col-lg-12",2,"display","flex"],[1,"col-lg-9"],[1,"col-lg-3",2,"display","flex","justify-content","flex-end"],["nbButton","","hero","","status","success",1,"padding-right","bottom-margin",3,"click"],["icon","download-outline"],["src","assets/images/dashboard.jpeg",2,"display","flex","max-width","100%","max-height","100%"]],template:function(e,s){1&e&&(d.Ub(0,"button",0),d.bc("click",(function(){return s.back()})),d.Pb(1,"nb-icon",1),d.Ub(2,"b"),d.Bc(3,"BACK"),d.Tb(),d.Tb(),d.Ub(4,"nb-card"),d.Ub(5,"nb-card-header",2),d.Bc(6," Express Planning "),d.Tb(),d.Ub(7,"nb-card-body"),d.Ub(8,"div",3),d.Ub(9,"div",4),d.Ub(10,"p"),d.Bc(11,"A template in canvas dashboard format for researchers who wish to develop an express plan with the main characteristics of an usability evaluation of applications for smart cities. "),d.Pb(12,"br"),d.Pb(13,"br"),d.Bc(14," The structure of the assessment plan is shown below:"),d.Tb(),d.Tb(),d.Ub(15,"div",5),d.Ub(16,"button",6),d.bc("click",(function(){return s.download()})),d.Pb(17,"nb-icon",7),d.Ub(18,"b"),d.Bc(19,"DOWNLOAD EXPRESS PLAN"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Pb(20,"img",8),d.Tb(),d.Tb())},directives:[l.r,l.L,l.u,l.w,l.t],styles:[".padding-right[_ngcontent-%COMP%]{float:right}.bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}"]}),Ac),canActivate:[on.a]},{path:"reviewed-plan/detail",component:ba,canActivate:[on.a]}]}],jc=((kc=function e(){i(this,e)}).\u0275mod=d.Mb({type:kc}),kc.\u0275inj=d.Lb({factory:function(e){return new(e||kc)},imports:[[b.h.forChild(Oc)],b.h]}),kc),xc=a("oG2T"),Mc=((Pc=function e(){i(this,e)}).\u0275mod=d.Mb({type:Pc}),Pc.\u0275inj=d.Lb({factory:function(e){return new(e||Pc)},providers:[h.a,E.a,j.a],imports:[[o.a,c.j,c.w,l.N,l.x,jc,l.P,l.s,l.pb,l.hb,l.ob,U.c,l.l,l.eb,l.o,l.kb,l.wb,l.A,xc.a,l.G,l.W]]}),Pc)}}])}();