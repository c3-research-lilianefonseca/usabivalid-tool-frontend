(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{rRNF:function(s,e,t){"use strict";t.r(e),t.d(e,"AssessmentModule",(function(){return co}));var n=t("3Pt+"),i=t("vTDv"),a=t("aceb"),c=t("tyNb"),o=t("fXoL");let r=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-assessment-elements"]],decls:1,vars:0,template:function(s,e){1&s&&o.Pb(0,"router-outlet")},directives:[c.h],encapsulation:2}),s})();var l=t("mrSG"),b=t("pIFF"),d=t("mex4");class h{constructor(s,e,t,n,i){this.assessmentUid=s,this.projectName=e,this.authorName=t,this.profile=n,this.state=i}}var p=t("l7P3"),u=t("ofXK");function m(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"Collaborator(s) email(s):"),o.Tb(),o.Tb())}function g(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",14),o.Ub(1,"div",15),o.Pb(2,"input",16),o.Ub(3,"nb-icon",17),o.bc("click",(function(){o.sc(s);const t=e.index;return o.dc(2).removeEmail(t)})),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=e.$implicit;o.jc("formGroupName",e.index),o.Cb(2),o.jc("required",!0)("status",s.dirty?s.invalid?"danger":"success":""),o.Db("aria-invalid",!(!s.invalid||!s.touched)||null)}}function f(s,e){if(1&s&&(o.Ub(0,"form",12),o.zc(1,g,4,4,"section",13),o.Tb()),2&s){const s=o.dc();o.Cb(1),o.jc("ngForOf",s.emails.controls)}}let w=(()=>{class s{constructor(s,e,t,i){this.formBuilder=s,this.assessmentService=e,this.store=t,this.router=i,this.store.select(d.a).subscribe(({uid:s})=>this.uid=s),this.form=this.formBuilder.group({userUid:[this.uid,n.z.required],projectName:[null,[n.z.required]],projectDescription:[null,n.z.required],emails:this.formBuilder.array([])})}get isValid(){return this.form.valid}get emails(){return this.form.controls.emails}get hasCollaborator(){var s;return 0!==(null===(s=this.form.controls.emails.value)||void 0===s?void 0:s.length)}get values(){return this.form.value}get serializedValues(){const s=Object.assign(Object.assign({},this.values),{collaboratorsEmail:this.values.emails.map(s=>s.email)});return delete s.emails,s}ngOnInit(){this.assessmentService.releaseSection(this.uid).subscribe()}addEmail(){this.emails.push(this.newEmail())}removeEmail(s){this.emails.removeAt(s)}addCollaboratorFlag(){}create(){return Object(l.a)(this,void 0,void 0,(function*(){(yield this.assessmentService.createNewAssessment(this.serializedValues)).subscribe(s=>{this.assessment=s,this.editDTO=new h(this.assessment.uid,this.assessment.projectName,this.assessment.systemUser.name,this.assessment.userProfile,this.assessment.state),console.log(this.editDTO),this.router.navigate(["/pages/assessment/my-plans/edit"],{state:this.editDTO})})}))}newEmail(){return this.formBuilder.group({email:["",[n.z.required,n.z.email]]})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(n.d),o.Ob(b.a),o.Ob(p.h),o.Ob(c.c))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-create-assessment"]],decls:29,vars:4,consts:[[1,"container",3,"formGroup"],[1,"col-lg-12"],[1,"example-items-col"],[1,"row","col-lg-12","bottom-margin"],["formControlName","projectName","fullWidth","","nbInput","","required","true","type","text"],["formControlName","projectDescription","fullWidth","","nbInput","","placeholder","Describe your project","required","true","rows","5","shape","round"],[4,"ngIf"],["class","container mt-3","formArrayName","emails",4,"ngIf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["icon","save-outline"],["formArrayName","emails",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"row","col-lg-8","bottom-margin-light"],["fieldSize","large","formControlName","email","fullWidth","","id","input-email","name","email","nbInput","","placeholder","Collaborator email address",1,"display-next",3,"required","status"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"]],template:function(s,e){1&s&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"h3"),o.Bc(3," Create new assessment plan "),o.Tb(),o.Ub(4,"nb-card"),o.Ub(5,"nb-card-header"),o.Bc(6,"What will be assessed?"),o.Tb(),o.Ub(7,"nb-card-body",2),o.Ub(8,"div",3),o.Ub(9,"label"),o.Ub(10,"b"),o.Bc(11,"Project name"),o.Tb(),o.Tb(),o.Pb(12,"input",4),o.Tb(),o.Ub(13,"div",3),o.Ub(14,"label"),o.Ub(15,"b"),o.Bc(16,"Project description"),o.Tb(),o.Tb(),o.Pb(17,"textarea",5),o.Tb(),o.zc(18,m,3,0,"label",6),o.zc(19,f,2,1,"form",7),o.Ub(20,"button",8),o.bc("click",(function(){return e.addEmail()})),o.Pb(21,"nb-icon",9),o.Bc(22," Add Collaborator "),o.Tb(),o.Tb(),o.Ub(23,"nb-card-footer"),o.Ub(24,"div"),o.Ub(25,"button",10),o.bc("click",(function(){return e.create()})),o.Pb(26,"nb-icon",11),o.Ub(27,"b"),o.Bc(28,"CREATE"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.jc("formGroup",e.form),o.Cb(18),o.jc("ngIf",e.hasCollaborator),o.Cb(1),o.jc("ngIf",1==e.hasCollaborator),o.Cb(6),o.jc("disabled",!e.isValid))},directives:[n.q,n.h,a.u,a.w,a.t,n.b,a.O,n.p,n.g,n.x,u.n,a.r,a.L,a.v,n.B,n.r,n.c,u.m,n.i],styles:["nb-card-body.example-items-col[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-around;flex-direction:column}.flex[_ngcontent-%COMP%]{display:flex;align-items:center}.bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.display-next[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]     nb-stepper .step-content{text-align:center}[_nghost-%COMP%]     nb-stepper .step-content button{cursor:pointer;margin:.5rem}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:5px}"]}),s})();var C=t("RS3s"),T=t("t0AZ"),A=t("eIep"),y=t("lJxs"),U=t("fg39");function v(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",8),o.Ub(1,"nb-card-header",9),o.Bc(2,"Warning"),o.Tb(),o.Ub(3,"nb-card-body",9),o.Ub(4,"span",10),o.Bc(5," You will no longer have access to this assessment plan review."),o.Pb(6,"br"),o.Bc(7," Do you really want to delete it? "),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer",9),o.Ub(9,"button",11),o.bc("click",(function(){o.sc(s);const t=e.dialogRef;return o.dc().onDelete(),t.close()})),o.Bc(10,"YES "),o.Tb(),o.Ub(11,"button",12),o.bc("click",(function(){o.sc(s);const t=e.dialogRef;return o.dc().cancelDelete(),t.close()})),o.Bc(12,"NO"),o.Tb(),o.Tb(),o.Tb()}}let k=(()=>{class s{constructor(s,e,t,n,i,a){this.assessmentService=s,this.reviewService=e,this.router=t,this.store=n,this.dialogService=i,this.toastrService=a,this.source=new C.a,this.settings={mode:"external",actions:{add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"export",title:'<i class="nb-arrow-thin-down"></i>'},{name:"delete",title:'<i class="nb-trash"></i>'}]},columns:{projectName:{title:"Project Name",type:"string"},limitReviewDate:{title:"Deadline for review",type:"Date"},reviewedDate:{title:"Reviewed Date",type:"Date"},reviewer:{title:"Reviewed by",type:"string"}}},this.toast=new T.a(a),this.store.select(d.a).subscribe(s=>this.user=s)}ngOnInit(){this.getDataTable()}getDataTable(){this.store.select(d.a).pipe(Object(A.a)(s=>this.reviewService.getReviewedPlanList(s.uid)),Object(y.a)(s=>{null!==s&&this.source.load(s)})).subscribe(),this.assessmentService.releaseSection(this.user.uid).subscribe()}onEdit(s){this.router.navigate(["/pages/assessment/reviewed-plan/detail"],{state:s})}onDelete(){return Object(l.a)(this,void 0,void 0,(function*(){(yield this.reviewService.deleteReview(this.reviewDelete.reviewUid)).subscribe(s=>{this.toast.showToastr("top-right","success","Review successfully deleted"),this.getDataTable(),this.source.refresh()},()=>{this.toast.showToastr("top-right","danger","Error deleting the review")})}))}open(s,e){this.reviewDelete=e.data,this.dialogService.open(s)}cancelDelete(){this.reviewDelete=null}onCustom(s,e){"export"===s.action?this.openDownload(s.data):this.open(e,s)}onUserRowSelect(s){this.onEdit(s.data)}openDownload(s){this.reviewService.downloadPlanReview(s.reviewUid,s.projectName)}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(U.a),o.Ob(c.c),o.Ob(p.h),o.Ob(a.J),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-review-assessment"]],decls:18,vars:2,consts:[[1,"col-12"],["accent","sucess"],[1,"row","float-right"],[1,"nb-arrow-thin-down"],[1,"nb-trash"],[2,"cursor","pointer",3,"settings","source","userRowSelect","custom"],["table",""],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],[1,"col-lg-6"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"div",0),o.Ub(2,"h3"),o.Bc(3," Reviewed Plans "),o.Tb(),o.Ub(4,"nb-card",1),o.Pb(5,"nb-card-body",0),o.Ub(6,"nb-card-body"),o.Ub(7,"div",2),o.Ub(8,"p"),o.Pb(9,"i",3),o.Bc(10," Export Review | "),o.Tb(),o.Ub(11,"p"),o.Pb(12,"i",4),o.Bc(13," Delete Review"),o.Tb(),o.Tb(),o.Ub(14,"ng2-smart-table",5,6),o.bc("userRowSelect",(function(s){return e.onUserRowSelect(s)}))("custom",(function(t){o.sc(s);const n=o.qc(17);return e.onCustom(t,n)})),o.zc(16,v,13,0,"ng-template",null,7,o.Ac),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}2&s&&(o.Cb(14),o.jc("settings",e.settings)("source",e.source))},directives:[a.u,a.t,C.b,a.w,a.v,a.r],styles:["nb-card-body[_ngcontent-%COMP%]{overflow:visible;padding-top:0}nb-card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1rem}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}.checkbox-radio[_ngcontent-%COMP%]{display:flex}.demo-items[_ngcontent-%COMP%]{flex:1 0 33%}.button-space[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:50px;text-align:center;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#5dcfe3}"]}),s})();var P=t("9oZc");function O(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",9),o.Ub(1,"nb-card-header",10),o.Bc(2,"Warning"),o.Tb(),o.Ub(3,"nb-card-body",10),o.Ub(4,"span",11),o.Bc(5," You will no longer have access to this assessment."),o.Pb(6,"br"),o.Bc(7," Do you really want to delete it? "),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer",10),o.Ub(9,"button",12),o.bc("click",(function(){o.sc(s);const t=e.dialogRef;return o.dc().onDelete(),t.close()})),o.Bc(10,"YES "),o.Tb(),o.Ub(11,"button",13),o.bc("click",(function(){o.sc(s);const t=e.dialogRef;return o.dc().cancelDelete(),t.close()})),o.Bc(12,"NO"),o.Tb(),o.Tb(),o.Tb()}}let j=(()=>{class s{constructor(s,e,t,n,i){this.assessmentService=s,this.router=e,this.store=t,this.dialogService=n,this.toastrService=i,this.source=new C.a,this.settings={mode:"external",actions:{add:!1,edit:!1,delete:!1,position:"right",custom:[{name:"dashboard",title:'<i style="display: flex" class="nb-tables"></i>'},{name:"export",title:'<i style="display: flex" class="nb-arrow-thin-down"></i>'},{name:"delete",title:'<i style="display: flex" class="nb-trash"></i>'}]},columns:{projectName:{title:"Name",type:"string"},authorName:{title:"Author",type:"string"},profile:{title:"Profile",type:"string"},state:{title:"State",type:"string"}}},this.toast=new T.a(i),this.store.select(d.a).subscribe(s=>this.user=s)}ngOnInit(){this.getDataTable()}getDataTable(){this.store.select(d.a).pipe(Object(A.a)(s=>this.assessmentService.getUserAssessments(s.uid)),Object(y.a)(s=>{null!==s&&this.source.load(s)})).subscribe(),this.assessmentService.releaseSection(this.user.uid).subscribe()}onEdit(s){this.router.navigate(["/pages/assessment/my-plans/edit"],{state:s})}onDelete(){return Object(l.a)(this,void 0,void 0,(function*(){(yield this.assessmentService.deleteAssessment(this.assessmentDelete.assessmentUid)).subscribe(s=>{this.toast.showToast("delete","top-right","success","Assessment"),this.getDataTable(),this.source.refresh()},()=>{this.toast.showToast("delete","top-right","danger","Assessment")})}))}open(s,e){this.assessmentDelete=e.data,this.dialogService.open(s)}cancelDelete(){this.assessmentDelete=null}onCustom(s,e){"export"===s.action?this.openDownload(s.data):"dashboard"===s.action?this.router.navigate(["/pages/assessment/my-plans/dashboard"],{state:s.data}):this.open(e,s)}onUserRowSelect(s){this.onEdit(s.data)}openDownload(s){this.dialogService.open(P.a,{context:{title:"Choose the method you want to export",assessmentUid:s.assessmentUid,projectName:s.projectName}})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(c.c),o.Ob(p.h),o.Ob(a.J),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-list-assessment"]],decls:21,vars:2,consts:[[1,"col-12"],["accent","sucess"],[1,"row","float-right"],["size","large",1,"nb-tables"],[1,"nb-arrow-thin-down"],[1,"nb-trash"],[2,"cursor","pointer","display","flex",3,"settings","source","userRowSelect","custom"],["table",""],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],[1,"col-lg-6"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"div",0),o.Ub(2,"h3"),o.Bc(3," My Assessment Plans "),o.Tb(),o.Ub(4,"nb-card",1),o.Ub(5,"nb-card-body",0),o.Ub(6,"div",2),o.Ub(7,"p"),o.Pb(8,"i",3),o.Bc(9," Open Dashboard | "),o.Tb(),o.Ub(10,"p"),o.Pb(11,"i",4),o.Bc(12," Export Plan | "),o.Tb(),o.Ub(13,"p"),o.Pb(14,"i",5),o.Bc(15," Delete Plan"),o.Tb(),o.Tb(),o.Tb(),o.Ub(16,"nb-card-body"),o.Ub(17,"ng2-smart-table",6,7),o.bc("userRowSelect",(function(s){return e.onUserRowSelect(s)}))("custom",(function(t){o.sc(s);const n=o.qc(20);return e.onCustom(t,n)})),o.zc(19,O,13,0,"ng-template",null,8,o.Ac),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}2&s&&(o.Cb(17),o.jc("settings",e.settings)("source",e.source))},directives:[a.u,a.t,C.b,a.w,a.v,a.r],styles:["nb-card-body[_ngcontent-%COMP%]{overflow:visible;padding-top:0}nb-card-body[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-top:1rem}.full-name-inputs[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%]{display:flex;margin:0 -.5rem}.full-name-inputs[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .validation-checkboxes[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 .5rem}.checkbox-radio[_ngcontent-%COMP%]{display:flex}.demo-items[_ngcontent-%COMP%]{flex:1 0 33%}.button-space[_ngcontent-%COMP%]{margin-left:15px}[_nghost-%COMP%]     ng2-st-tbody-edit-delete{display:flex!important;height:0!important}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom{display:inline-block;width:50px;text-align:center;font-size:1.1em}[_nghost-%COMP%]     ng2-st-tbody-custom a.ng2-smart-action.ng2-smart-action-custom-custom:hover{color:#5dcfe3}"]}),s})();class M{constructor(){}}var x=t("NfVM"),B=t("jbVW"),S=t("sWYD"),I=t("70O8"),D=t("VNq0");class N{constructor(s,e){this.assessmentUid=s,this.projectName=e}}class z{constructor(s,e){this.assessmentUid=s,this.sectionEnum=e}}class q{constructor(s,e,t){this.assessmentUid=s,this.userUid=e,this.sectionEnum=t}}let E=(()=>{class s{constructor(s){this.ref=s}cancel(){this.ref.close()}submit(){this.ref.close(this.reviewDate)}get isValid(){return!(null==this.reviewDate)}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(a.I))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-dialog-data-review"]],decls:12,vars:3,consts:[["nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["nbButton","","status","danger",1,"cancel",3,"click"],["nbButton","","status","success",3,"disabled","click"]],template:function(s,e){if(1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Bc(2,"Enter the limit date for the review"),o.Tb(),o.Ub(3,"nb-card-body"),o.Ub(4,"input",0),o.bc("ngModelChange",(function(s){return e.reviewDate=s})),o.Tb(),o.Pb(5,"nb-datepicker",1,2),o.Tb(),o.Ub(7,"nb-card-footer"),o.Ub(8,"button",3),o.bc("click",(function(){return e.cancel()})),o.Bc(9,"Cancel"),o.Tb(),o.Ub(10,"button",4),o.bc("click",(function(){return e.submit()})),o.Bc(11,"Submit"),o.Tb(),o.Tb(),o.Tb()),2&s){const s=o.qc(6);o.Cb(4),o.jc("ngModel",e.reviewDate)("nbDatepicker",s),o.Cb(6),o.jc("disabled",!e.isValid)}},directives:[a.u,a.w,a.t,a.O,n.b,a.F,n.p,n.s,a.E,a.v,a.r],styles:[".nb-theme-default   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-default   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-dark   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-dark   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-cosmic   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-cosmic   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}.nb-theme-corporate   [_nghost-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.nb-theme-corporate   [_nghost-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:1rem}"]}),s})();class V{constructor(s,e){this.assessmentUid=s,this.dateLimit=e}}function Q(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"0%"),o.Tb())}function _(s,e){if(1&s&&(o.Ub(0,"label",32),o.Ub(1,"b"),o.Bc(2),o.Tb(),o.Bc(3),o.Tb()),2&s){const s=o.dc().$implicit;o.Cb(2),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle)}}function R(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"input",34),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(5).assessment.projectName=e})),o.Tb(),o.Ub(2,"nb-checkbox",35),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.projectName)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc(5);o.Cb(1),o.jc("ngModel",s.assessment.projectName),o.Cb(1),o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.projectName))}}function $(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"textarea",36),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(5).assessment.projectDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",37),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.projectDescription)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc(5);o.Cb(1),o.jc("ngModel",s.assessment.projectDescription),o.Cb(1),o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.projectDescription))}}function F(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,R,4,2,"div",33),o.zc(2,$,4,2,"div",33),o.Tb()),2&s){const s=o.dc().$implicit;o.Cb(1),o.jc("ngIf","AP-PN"==s.objKey),o.Cb(1),o.jc("ngIf","AP-PD"===s.objKey)}}function G(s,e){if(1&s&&(o.Ub(0,"div",22),o.Ub(1,"label",38),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.Ub(4,"h6",39),o.Bc(5),o.Tb(),o.Tb()),2&s){const s=o.dc(2).$implicit,e=o.dc(3);o.Cb(3),o.Cc(s.title),o.Cb(2),o.Dc("",e.assessment.smartCityPercentage,"%")}}function L(s,e){if(1&s&&o.zc(0,G,6,2,"div",33),2&s){const s=o.dc(4);o.jc("ngIf",!s.isNull(s.assessment.smartCityPercentage))}}function W(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function K(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasDataManagement=e})),o.zc(1,W,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataManagement),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataManagement)}}function Y(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataManagement)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataManagement))}}function H(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function J(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasAppExecution=e})),o.zc(1,H,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasAppExecution),o.Cb(1),o.jc("ngForOf",s.selectOptions.applicationExecutionEnvironment)}}function X(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.applicationExecution)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.applicationExecution))}}function Z(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function ss(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasSensorNetwork=e})),o.zc(1,Z,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasSensorNetwork),o.Cb(1),o.jc("ngForOf",s.selectOptions.sensorNetworkManagement)}}function es(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.sensorNetwork)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.sensorNetwork))}}function ts(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function ns(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasDataProcessing=e})),o.zc(1,ts,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataProcessing),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataProcessing)}}function is(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataProcessing)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataProcessing))}}function as(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function cs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasDataAccess=e})),o.zc(1,as,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataAccess),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataAccess)}}function os(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataAccess)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataAccess))}}function rs(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function ls(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasServiceManagement=e})),o.zc(1,rs,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasServiceManagement),o.Cb(1),o.jc("ngForOf",s.selectOptions.serviceManagement)}}function bs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.serviceManagement)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.serviceManagement))}}function ds(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function hs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.hasSoftwareTools=e})),o.zc(1,ds,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.hasSoftwareTools),o.Cb(1),o.jc("ngForOf",s.selectOptions.toolsforSoftwareDevelopment)}}function ps(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.tools)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.tools))}}function us(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function ms(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(5).assessment.smartCityQuestionnaire.defineCityModel=e})),o.Ub(1,"nb-option",45),o.Bc(2,"Not Selected"),o.Tb(),o.zc(3,us,2,2,"nb-option",44),o.Tb()}if(2&s){const s=o.dc(5);o.jc("selected",s.assessment.smartCityQuestionnaire.defineCityModel),o.Cb(1),o.jc("value",null),o.Cb(2),o.jc("ngForOf",s.selectOptions.definingACityModel)}}function gs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",46),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(3);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.definingCityModel)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(5);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.definingCityModel))}}function fs(s,e){if(1&s&&(o.Ub(0,"div",40),o.zc(1,K,2,2,"nb-select",41),o.zc(2,Y,2,1,"nb-checkbox",42),o.zc(3,J,2,2,"nb-select",41),o.zc(4,X,2,1,"nb-checkbox",42),o.zc(5,ss,2,2,"nb-select",41),o.zc(6,es,2,1,"nb-checkbox",42),o.zc(7,ns,2,2,"nb-select",41),o.zc(8,is,2,1,"nb-checkbox",42),o.zc(9,cs,2,2,"nb-select",41),o.zc(10,os,2,1,"nb-checkbox",42),o.zc(11,ls,2,2,"nb-select",41),o.zc(12,bs,2,1,"nb-checkbox",42),o.zc(13,hs,2,2,"nb-select",41),o.zc(14,ps,2,1,"nb-checkbox",42),o.zc(15,ms,4,3,"nb-select",41),o.zc(16,gs,2,1,"nb-checkbox",42),o.Pb(17,"hr",6),o.Tb()),2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngIf",e.isDataManagement(s.objKey)),o.Cb(1),o.jc("ngIf",e.isDataManagement(s.objKey)),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.applicationExecutionEnvironment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.applicationExecutionEnvironment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.sensorNetworkManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.sensorNetworkManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataProcessing.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataProcessing.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataAccess.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataAccess.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.serviceManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.serviceManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.toolsforSoftwareDevelopment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.toolsforSoftwareDevelopment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.definingACityModel.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.definingACityModel.acronym)}}function ws(s,e){if(1&s&&(o.Ub(0,"div",27),o.zc(1,_,4,2,"label",28),o.zc(2,F,3,2,"div",29),o.zc(3,L,1,1,"ng-template",null,30,o.Ac),o.zc(5,fs,18,16,"ng-template",null,31,o.Ac),o.Tb()),2&s){const s=e.$implicit,t=o.qc(4),n=o.qc(6),i=o.dc(3);o.Cb(1),o.jc("ngIf","PERC"!=s.objKey)("ngIfElse",t),o.Cb(1),o.jc("ngIf",i.isFirstQuestion(s.objKey))("ngIfElse",n)}}function Cs(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"h4",22),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.zc(4,ws,7,4,"div",26),o.Tb()),2&s){const s=e.$implicit;o.Cb(3),o.Cc(s.title),o.Cb(1),o.jc("ngForOf",s.questions)}}function Ts(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",55),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.goal=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.goal)}}function As(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(4).checkUsabilityGoal(e,t)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(4);o.jc("checked",e.verifyGoalsCheckState(s))}}function ys(s,e){if(1&s&&(o.Ub(0,"div",22),o.zc(1,Ts,1,1,"textarea",53),o.zc(2,As,2,1,"nb-checkbox",54),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.attribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.attribute))}}function Us(s,e){if(1&s&&(o.Ub(0,"div",51),o.Ub(1,"label",2),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.Tb(),o.zc(5,ys,3,2,"div",52),o.Pb(6,"br"),o.Pb(7,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc(3);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle),o.Cb(1),o.jc("ngForOf",t.assessment.usabilityGoals)}}function vs(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"h4",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.Pb(5,"nb-icon",49),o.Tb(),o.Tb(),o.zc(6,Us,8,3,"div",50),o.Tb()),2&s){const s=e.$implicit;o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("nbTooltip",s.instruction),o.Cb(1),o.jc("ngForOf",s.questions)}}function ks(s,e){if(1&s&&o.Pb(0,"nb-icon",59),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Ps(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",61),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.variables=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.variables)}}function Os(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit,n=o.dc(3).$implicit;return o.dc(2).checkUsabilityVariable(e,t.usabilityAttribute,n.key)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3).$implicit,t=o.dc(2);o.jc("checked",t.verifyUsabilityVariableCheck(s.usabilityAttribute,e.key))}}function js(s,e){if(1&s&&(o.Ub(0,"div",22),o.zc(1,Ps,1,1,"textarea",60),o.zc(2,Os,2,1,"nb-checkbox",54),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function Ms(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,js,3,2,"div",52),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function xs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",63),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.obtainedBy=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.obtainedBy)}}function Bs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit,n=o.dc(3).$implicit;return o.dc(2).checkUsabilityVariable(e,t.usabilityAttribute,n.key)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3).$implicit,t=o.dc(2);o.jc("checked",t.verifyUsabilityVariableCheck(s.usabilityAttribute,e.key))}}function Ss(s,e){if(1&s&&(o.Ub(0,"div",22),o.zc(1,xs,1,1,"textarea",62),o.zc(2,Bs,2,1,"nb-checkbox",54),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function Is(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,Ss,3,2,"div",52),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function Ds(s,e){if(1&s&&(o.Ub(0,"div",27),o.Ub(1,"label",2),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.Tb(),o.zc(5,Ms,2,1,"div",0),o.zc(6,Is,2,1,"div",0),o.Pb(7,"br"),o.Pb(8,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit;o.Cb(3),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle),o.Cb(1),o.jc("ngIf","VM-4"===t.key),o.Cb(1),o.jc("ngIf","VM-5"===t.key)}}function Ns(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",67),o.Ub(1,"nb-checkbox",68),o.bc("checkedChange",(function(t){o.sc(s);const n=e.$implicit,i=e.index;return o.dc(4).scaleSelectionCheckbox(t,n,i)})),o.Ub(2,"nb-action",69),o.Bc(3),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=e.$implicit,t=o.dc(4);o.Cb(1),o.jc("checked",t.verifyScaleStatus(s)),o.Cb(1),o.jc("nbTooltip",s.description),o.Cb(1),o.Ec("",s.name," (",s.acronym," ) ")}}function zs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-card"),o.Ub(2,"nb-card-body",64),o.zc(3,Ns,4,4,"div",65),o.Ub(4,"nb-checkbox",66),o.bc("checkedChange",(function(e){return o.sc(s),o.dc(3).checkScalesCheckbox(e)})),o.Bc(5," Done "),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(3),o.jc("ngForOf",s.usabilityScales),o.Cb(1),o.jc("checked",s.verifyScalesCheckbox())("disabled",s.checkClickable())("nbTooltipTrigger",s.tooltipTrigger)}}function qs(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"h4",57),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,ks,1,1,"nb-icon",58),o.Tb(),o.Tb(),o.zc(6,Ds,9,4,"div",26),o.zc(7,zs,6,4,"div",0),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions),o.Cb(1),o.jc("ngIf","VM-6"===s.key)}}function Es(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Vs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Pb(1,"input",74),o.Ub(2,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.participant.participantsQuantity),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function Qs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.participationLocalType=e})),o.Ub(2,"nb-option",76),o.Bc(3,"IN PERSON"),o.Tb(),o.Ub(4,"nb-option",77),o.Bc(5,"REMOTE"),o.Tb(),o.Tb(),o.Ub(6,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("selected",e.assessment.participant.participationLocalType),o.Cb(5),o.jc("checked",e.verifyParticipantState(s.key))}}function _s(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"textarea",78),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.compensationDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.participant.compensationDescription),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function Rs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"textarea",79),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.criteria=e})),o.Tb(),o.Ub(2,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.participant.criteria),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function $s(s,e){if(1&s&&(o.Ub(0,"nb-option",83),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function Fs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"nb-select",80),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.hasCollectedInformation=e})),o.zc(2,$s,2,2,"nb-option",81),o.Tb(),o.Ub(3,"textarea",82),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.collectedInformationUse=e})),o.Tb(),o.Ub(4,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("selected",e.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngModel",e.assessment.participant.collectedInformationUse)("disabled",!e.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function Gs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"textarea",84),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.participant.instructions=e})),o.Tb(),o.Ub(2,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.participant.instructions),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function Ls(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function Ws(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the question?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(4).removeQuestion(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Ks(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",90),o.Ub(1,"div",91),o.Pb(2,"textarea",92),o.Ub(3,"nb-icon",93),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(4).open(e)})),o.Tb(),o.zc(4,Ws,8,0,"ng-template",null,94,o.Ac),o.Tb(),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function Ys(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",85),o.zc(1,Ls,2,0,"label",17),o.Ub(2,"form",86),o.zc(3,Ks,6,1,"section",87),o.Tb(),o.Ub(4,"button",88),o.bc("click",(function(){return o.sc(s),o.dc(3).addQuestion()})),o.Pb(5,"nb-icon",89),o.Bc(6," Add Question "),o.Tb(),o.Ub(7,"nb-checkbox",75),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkParticipantQuestion(e,t.key)})),o.Bc(8,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.jc("formGroup",e.form),o.Cb(1),o.jc("ngIf",0===e.assessment.participant.questions.length),o.Cb(2),o.jc("ngForOf",e.questions.controls),o.Cb(4),o.jc("checked",e.verifyParticipantState(s.key))}}function Hs(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"label",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Es,1,1,"nb-icon",70),o.Tb(),o.Tb(),o.zc(6,Vs,4,2,"div",71),o.zc(7,Qs,8,2,"div",17),o.zc(8,_s,4,2,"div",71),o.zc(9,Rs,4,2,"div",71),o.zc(10,Fs,6,5,"div",71),o.zc(11,Gs,4,2,"div",71),o.zc(12,Ys,9,4,"div",72),o.Pb(13,"br"),o.Pb(14,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","PA-7"===s.key),o.Cb(1),o.jc("ngIf","PA-8"===s.key),o.Cb(1),o.jc("ngIf","PA-9"===s.key),o.Cb(1),o.jc("ngIf","PA-10"===s.key),o.Cb(1),o.jc("ngIf","PA-11"===s.key),o.Cb(1),o.jc("ngIf","PA-12"===s.key),o.Cb(1),o.jc("ngIf","PA-13"===s.key)}}function Js(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Xs(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function Zs(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the tool?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(4).removeTool(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function se(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",90),o.Ub(1,"div",91),o.Pb(2,"textarea",102),o.Ub(3,"nb-icon",103),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(4).open(e)})),o.Tb(),o.zc(4,Zs,8,0,"ng-template",null,104,o.Ac),o.Tb(),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function ee(s,e){if(1&s){const s=o.Vb();o.Ub(0,"span"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",105),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentTools.toolsUsageDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(4);o.Cb(3),o.jc("ngModel",s.assessment.assessmentTools.toolsUsageDescription)}}function te(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"nb-card",98),o.Ub(2,"nb-card-body",67),o.zc(3,Xs,2,0,"label",17),o.Ub(4,"form",99),o.zc(5,se,6,1,"section",87),o.Tb(),o.Ub(6,"button",100),o.bc("click",(function(){return o.sc(s),o.dc(3).addTools()})),o.Pb(7,"nb-icon",89),o.Bc(8," Add Tool "),o.Tb(),o.Tb(),o.Tb(),o.zc(9,ee,4,1,"span",17),o.Ub(10,"nb-checkbox",101),o.Bc(11,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(1),o.jc("formGroup",s.form),o.Cb(2),o.jc("ngIf",!s.checkIfToolsIsNotEmpty()),o.Cb(2),o.jc("ngForOf",s.tools.controls),o.Cb(4),o.jc("ngIf",s.checkIfToolsIsNotEmpty())}}function ne(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function ie(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the task?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc(2).index;return o.dc(4).removeTask(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function ae(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",91),o.Pb(1,"textarea",110),o.Ub(2,"nb-icon",103),o.bc("click",(function(){o.sc(s);const e=o.qc(4);return o.dc(5).open(e)})),o.Tb(),o.zc(3,ie,8,0,"ng-template",null,111,o.Ac),o.Tb()}}function ce(s,e){if(1&s&&(o.Ub(0,"div",112),o.Ub(1,"label"),o.Bc(2),o.Tb(),o.Pb(3,"input",113),o.Tb()),2&s){const s=o.dc().index,e=o.dc(4);o.Cb(2),o.Ec("",s+1,". ",e.getTaskDescription(s),"")}}function oe(s,e){if(1&s&&(o.Ub(0,"div",112),o.Ub(1,"label"),o.Bc(2),o.Tb(),o.Pb(3,"input",114),o.Tb()),2&s){const s=o.dc().index,e=o.dc(4);o.Cb(2),o.Ec("",s+1,". ",e.getTaskDescription(s),"")}}function re(s,e){if(1&s&&(o.Ub(0,"section",90),o.zc(1,ae,5,0,"div",108),o.zc(2,ce,4,2,"div",109),o.zc(3,oe,4,2,"div",109),o.Tb()),2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(1),o.jc("ngIf","TM-15"===t.key),o.Cb(1),o.jc("ngIf","TM-16"===t.key),o.Cb(1),o.jc("ngIf","TM-17"===t.key)}}function le(s,e){if(1&s){const s=o.Vb();o.Ub(0,"button",100),o.bc("click",(function(){return o.sc(s),o.dc(4).addTasks()})),o.Pb(1,"nb-icon",89),o.Bc(2," Add Task "),o.Tb()}}function be(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",73),o.Ub(1,"nb-card",98),o.Ub(2,"nb-card-body",67),o.zc(3,ne,2,0,"label",17),o.Ub(4,"form",106),o.zc(5,re,4,4,"section",87),o.Tb(),o.zc(6,le,3,0,"button",107),o.Tb(),o.Tb(),o.Ub(7,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkMaterial(e,t.key)})),o.Bc(8,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("formGroup",e.form),o.Cb(2),o.jc("ngIf",!e.checkIfTasksIsNotEmpty()),o.Cb(2),o.jc("ngForOf",e.tasks.controls),o.Cb(1),o.jc("ngIf","TM-15"===s.key),o.Cb(1),o.jc("checked",e.verifyMaterialsCheckState(s.key))}}function de(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"label",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Js,1,1,"nb-icon",70),o.Tb(),o.Tb(),o.zc(6,te,12,4,"div",71),o.zc(7,be,9,5,"div",71),o.Pb(8,"br"),o.Pb(9,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","TM-14"===s.key),o.Cb(1),o.jc("ngIf","TM-15"===s.key||"TM-16"===s.key||"TM-17"===s.key)}}function he(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function pe(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function ue(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"input",117),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentProcedure.occurDate=e})),o.Tb(),o.Pb(2,"nb-datepicker",118,119),o.Ub(4,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkProcedureQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.qc(3),e=o.dc().$implicit,t=o.dc(3);o.Cb(1),o.jc("ngModel",t.assessment.assessmentProcedure.occurDate)("nbDatepicker",s),o.Cb(3),o.jc("checked",t.verifyProcedureState(e.key))}}function me(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",120),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentProcedure.occurLocal=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurLocal),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function ge(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",121),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentProcedure.occurDetail=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurDetail),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function fe(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",122),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentProcedure.occurTime=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurTime),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function we(s,e){if(1&s&&(o.Ub(0,"div",51),o.Ub(1,"label",2),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.zc(5,pe,1,1,"nb-icon",70),o.Tb(),o.zc(6,ue,6,3,"div",17),o.zc(7,me,4,2,"div",17),o.zc(8,ge,4,2,"div",17),o.zc(9,fe,4,2,"div",17),o.Pb(10,"br"),o.Pb(11,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc(3);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Dc("",s.subTitle," "),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","PR-18-1"===s.key),o.Cb(1),o.jc("ngIf","PR-18-2"===s.key),o.Cb(1),o.jc("ngIf","PR-18-3"===s.key),o.Cb(1),o.jc("ngIf","PR-18-4"===s.key)}}function Ce(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the step?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(4).removeSteps(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Te(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",90),o.Ub(1,"div",112),o.Ub(2,"label"),o.Bc(3,"Step Title:"),o.Tb(),o.Pb(4,"textarea",126),o.Ub(5,"label"),o.Bc(6,"Step Description:"),o.Tb(),o.Pb(7,"textarea",127),o.Ub(8,"nb-icon",103),o.bc("click",(function(){o.sc(s);const e=o.qc(10);return o.dc(4).open(e)})),o.Tb(),o.zc(9,Ce,8,0,"ng-template",null,128,o.Ac),o.Tb(),o.Pb(11,"hr",6),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function Ae(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",123),o.Ub(1,"form",124),o.zc(2,Te,12,1,"section",87),o.Tb(),o.Ub(3,"button",125),o.bc("click",(function(){return o.sc(s),o.dc(3).addSteps()})),o.Pb(4,"nb-icon",89),o.Bc(5," Add Step "),o.Tb(),o.Ub(6,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.steps.controls),o.Cb(4),o.jc("checked",e.verifyProcedureState(s.key))}}function ye(s,e){if(1&s&&(o.Ub(0,"nb-option",45),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function Ue(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"nb-select",43),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.questionsAllowed=e})),o.zc(2,ye,2,2,"nb-option",44),o.Tb(),o.Ub(3,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(4,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("selected",e.assessment.assessmentProcedure.questionsAllowed),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function ve(s,e){if(1&s&&(o.Ub(0,"nb-radio",83),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function ke(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",130),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentProcedure.pilotDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(4);o.Cb(3),o.jc("ngModel",s.assessment.assessmentProcedure.pilotDescription)("hidden",!s.assessment.assessmentProcedure.isPilotAssessment)}}function Pe(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"nb-radio-group",129),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.isPilotAssessment=e})),o.zc(2,ve,2,2,"nb-radio",81),o.Tb(),o.zc(3,ke,4,2,"div",17),o.Ub(4,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.isPilotAssessment),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentProcedure.isPilotAssessment)),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function Oe(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"h4",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,he,1,1,"nb-icon",70),o.Tb(),o.Tb(),o.zc(6,we,12,7,"div",50),o.Ub(7,"div",115),o.zc(8,Ae,8,3,"div",116),o.zc(9,Ue,5,3,"div",33),o.zc(10,Pe,6,4,"div",33),o.Tb(),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions),o.Cb(2),o.jc("ngIf","PR-19"===s.key),o.Cb(1),o.jc("ngIf","PR-20"===s.key),o.Cb(1),o.jc("ngIf","PR-21"===s.key)}}function je(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Me(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",131),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentData.dataCollectionProcedure=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkDataQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentData.dataCollectionProcedure),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function xe(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",132),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentData.analysisDescription=e})),o.Tb(),o.Ub(4,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkDataQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(3),o.jc("ngModel",e.assessment.assessmentData.analysisDescription),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function Be(s,e){if(1&s&&(o.Ub(0,"nb-radio",83),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function Se(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",130),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentData.statisticalMethodsDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(4);o.Cb(3),o.jc("ngModel",s.assessment.assessmentData.statisticalMethodsDescription)("hidden",!s.assessment.assessmentData.statisticalMethods)}}function Ie(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"nb-radio-group",129),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentData.statisticalMethods=e})),o.zc(2,Be,2,2,"nb-radio",81),o.Tb(),o.zc(3,Se,4,2,"div",17),o.Ub(4,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkDataQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentData.statisticalMethods),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentData.statisticalMethods)),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function De(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"h4",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,je,1,1,"nb-icon",70),o.Tb(),o.Tb(),o.Ub(6,"div",115),o.zc(7,Me,4,2,"div",17),o.zc(8,xe,6,2,"div",17),o.zc(9,Ie,6,4,"div",33),o.Tb(),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(2),o.jc("ngIf","DT-22"===s.key),o.Cb(1),o.jc("ngIf","DT-23"===s.key),o.Cb(1),o.jc("ngIf","DT-24"===s.key)}}function Ne(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function ze(s,e){if(1&s&&o.Pb(0,"nb-icon",49),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function qe(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the threat?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(5).removeThreat(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Ee(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",90),o.Ub(1,"div",112),o.Pb(2,"textarea",134),o.Ub(3,"nb-icon",103),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(5).open(e)})),o.Tb(),o.zc(4,qe,8,0,"ng-template",null,135,o.Ac),o.Tb(),o.Pb(6,"hr",6),o.Tb()}if(2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(2),o.jc("placeholder",t.placeholder)}}function Ve(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",123),o.Ub(1,"form",133),o.zc(2,Ee,7,2,"section",87),o.Tb(),o.Ub(3,"button",125),o.bc("click",(function(){return o.sc(s),o.dc(4).addThreats()})),o.Pb(4,"nb-icon",89),o.Bc(5," Add Threat "),o.Tb(),o.Ub(6,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkThreatQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.threats.controls),o.Cb(4),o.jc("checked",e.verifyThreatState(s.key))}}function Qe(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",136),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentThreat.controlMeasure=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkThreatQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.controlMeasure)("placeholder",s.placeholder),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function _e(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the threat?"),o.Tb(),o.Ub(3,"nb-card-footer",95),o.Ub(4,"button",96),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(5).removeLimitation(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",97),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Re(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",90),o.Ub(1,"div",112),o.Pb(2,"textarea",138),o.Ub(3,"nb-icon",103),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(5).open(e)})),o.Tb(),o.zc(4,_e,8,0,"ng-template",null,135,o.Ac),o.Tb(),o.Pb(6,"hr",6),o.Tb()}if(2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(2),o.jc("placeholder",t.placeholder)}}function $e(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",123),o.Ub(1,"form",137),o.zc(2,Re,7,2,"section",87),o.Tb(),o.Ub(3,"button",125),o.bc("click",(function(){return o.sc(s),o.dc(4).addLimitation()})),o.Pb(4,"nb-icon",89),o.Bc(5," Add Limitation "),o.Tb(),o.Ub(6,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkThreatQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.limitations.controls),o.Cb(4),o.jc("checked",e.verifyThreatState(s.key))}}function Fe(s,e){if(1&s&&(o.Ub(0,"nb-radio",83),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function Ge(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",139),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(5).assessment.assessmentThreat.ethicalAspectsDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(2).$implicit,e=o.dc(3);o.Cb(3),o.jc("ngModel",e.assessment.assessmentThreat.ethicalAspectsDescription)("hidden",!e.assessment.assessmentThreat.ethicalAspectsDefined)("placeholder",s.placeholder)}}function Le(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",22),o.Ub(1,"nb-radio-group",129),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentThreat.ethicalAspectsDefined=e})),o.zc(2,Fe,2,2,"nb-radio",81),o.Tb(),o.zc(3,Ge,4,3,"div",17),o.Ub(4,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkThreatQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.ethicalAspectsDefined),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentThreat.ethicalAspectsDefined)),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function We(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",136),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentThreat.biasDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",56),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkThreatQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.biasDescription)("placeholder",s.placeholder),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function Ke(s,e){if(1&s&&(o.Ub(0,"div",51),o.Ub(1,"label",2),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.zc(5,ze,1,1,"nb-icon",70),o.Tb(),o.zc(6,Ve,8,3,"div",116),o.zc(7,Qe,4,3,"div",17),o.zc(8,$e,8,3,"div",116),o.zc(9,Le,6,4,"div",33),o.zc(10,We,4,3,"div",17),o.Pb(11,"br"),o.Pb(12,"hr",6),o.Tb()),2&s){const s=e.$implicit,t=o.dc(3);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Dc("",s.subTitle," "),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","TH-25-1"===s.key),o.Cb(1),o.jc("ngIf","TH-25-2"===s.key),o.Cb(1),o.jc("ngIf","TH-25-3"===s.key),o.Cb(1),o.jc("ngIf","TH-25-4"===s.key),o.Cb(1),o.jc("ngIf","TH-25-5"===s.key)}}function Ye(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",47),o.Ub(2,"h4",48),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Ne,1,1,"nb-icon",70),o.Tb(),o.Tb(),o.zc(6,Ke,13,8,"div",50),o.Pb(7,"div",115),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions)}}function He(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"div",2),o.Ub(2,"h3"),o.Bc(3," Edit Assessment Plan "),o.Tb(),o.Ub(4,"nb-card",3),o.Ub(5,"nb-card-header"),o.Ub(6,"b"),o.Bc(7,"READ BEFORE FILLING OUT THE PLAN"),o.Tb(),o.Tb(),o.Ub(8,"nb-card-body"),o.Bc(9," For reasons of integrity control and progress of the planning result, after filling each question with the final answer, it is necessary to check the "),o.Ub(10,"b"),o.Bc(11,'"Done" checkbox'),o.Tb(),o.Bc(12,"."),o.Pb(13,"br"),o.Pb(14,"br"),o.Bc(15," Each question has its own corresponding "),o.Ub(16,"b"),o.Bc(17,'"Done" checkbox'),o.Tb(),o.Bc(18,". Usually located below or to the right of the answer."),o.Pb(19,"br"),o.Pb(20,"br"),o.Ub(21,"label",4),o.Bc(22,"What it looks like: "),o.Pb(23,"br"),o.Ub(24,"nb-checkbox",5),o.Bc(25,"Done"),o.Tb(),o.Tb(),o.Pb(26,"br"),o.Pb(27,"hr",6),o.Bc(28," To start filling out the assessment plan, it is necessary to click on the "),o.Ub(29,"b"),o.Bc(30,'"Edit Section"'),o.Tb(),o.Bc(31," button located at the top right of each section."),o.Pb(32,"br"),o.Pb(33,"br"),o.Ub(34,"label",4),o.Bc(35,"What it looks like: "),o.Pb(36,"br"),o.Pb(37,"br"),o.Ub(38,"button",7),o.Pb(39,"nb-icon",8),o.Bc(40," EDIT SECTION "),o.Tb(),o.Tb(),o.Pb(41,"br"),o.Tb(),o.Tb(),o.Ub(42,"nb-card"),o.Ub(43,"nb-card-header"),o.Ub(44,"b"),o.Bc(45,"PLAN SECTIONS"),o.Tb(),o.Ub(46,"button",9),o.bc("click",(function(){return o.sc(s),o.dc().openReviewDialog()})),o.Pb(47,"nb-icon",10),o.Bc(48," SUBMIT REVIEW "),o.Tb(),o.Tb(),o.Ub(49,"nb-card-body",11),o.Ub(50,"nb-card"),o.Ub(51,"nb-card-header",12),o.Ub(52,"label"),o.Ub(53,"b"),o.Bc(54,"Assessment Plan Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(55,"nb-card-body",11),o.Ub(56,"div",13),o.Ub(57,"button",14),o.bc("click",(function(){return o.sc(s),o.dc().addCollaborator()})),o.Pb(58,"nb-icon",15),o.Bc(59," ADD COLLABORATOR "),o.Tb(),o.Pb(60,"nb-progress-bar",16),o.zc(61,Q,2,0,"label",17),o.Tb(),o.Tb(),o.Tb(),o.Ub(62,"nb-accordion",18),o.Ub(63,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.application.acronym)})),o.Ub(64,"nb-accordion-item-header",20),o.Bc(65),o.Tb(),o.Ub(66,"nb-accordion-item-body"),o.Ub(67,"div",1),o.Ub(68,"nb-card"),o.Ub(69,"nb-card-header",12),o.Ub(70,"label"),o.Ub(71,"b"),o.Bc(72,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(73,"nb-card-body",11),o.Ub(74,"div",13),o.Pb(75,"nb-progress-bar",16),o.Ub(76,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.application.acronym)})),o.Pb(77,"nb-icon",8),o.Bc(78," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(79,"div",22),o.zc(80,Cs,5,2,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(81,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.goals.acronym)})),o.Ub(82,"nb-accordion-item-header",20),o.Bc(83),o.Tb(),o.Ub(84,"nb-accordion-item-body"),o.Ub(85,"div",1),o.Ub(86,"nb-card"),o.Ub(87,"nb-card-header",12),o.Ub(88,"label"),o.Ub(89,"b"),o.Bc(90,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(91,"nb-card-body",11),o.Ub(92,"div",13),o.Pb(93,"nb-progress-bar",16),o.Ub(94,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.goals.acronym)})),o.Pb(95,"nb-icon",8),o.Bc(96," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(97,"div",22),o.zc(98,vs,7,3,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(99,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.variables.acronym)})),o.Ub(100,"nb-accordion-item-header",20),o.Bc(101),o.Tb(),o.Ub(102,"nb-accordion-item-body"),o.Ub(103,"div",1),o.Ub(104,"nb-card"),o.Ub(105,"nb-card-header",12),o.Ub(106,"label"),o.Ub(107,"b"),o.Bc(108,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(109,"nb-card-body",11),o.Ub(110,"div",13),o.Pb(111,"nb-progress-bar",16),o.Ub(112,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.variables.acronym)})),o.Pb(113,"nb-icon",8),o.Bc(114," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(115,"div",22),o.zc(116,qs,8,4,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(117,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.participants.acronym)})),o.Ub(118,"nb-accordion-item-header",20),o.Bc(119),o.Tb(),o.Ub(120,"nb-accordion-item-body"),o.Ub(121,"div",1),o.Ub(122,"nb-card"),o.Ub(123,"nb-card-header",12),o.Ub(124,"label"),o.Ub(125,"b"),o.Bc(126,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(127,"nb-card-body",11),o.Ub(128,"div",13),o.Pb(129,"nb-progress-bar",16),o.Ub(130,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.participants.acronym)})),o.Pb(131,"nb-icon",8),o.Bc(132," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(133,"div",22),o.zc(134,Hs,15,9,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(135,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.tasks.acronym)})),o.Ub(136,"nb-accordion-item-header",20),o.Bc(137),o.Tb(),o.Ub(138,"nb-accordion-item-body"),o.Ub(139,"div",1),o.Ub(140,"nb-card"),o.Ub(141,"nb-card-header",12),o.Ub(142,"label"),o.Ub(143,"b"),o.Bc(144,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(145,"nb-card-body",11),o.Ub(146,"div",13),o.Pb(147,"nb-progress-bar",16),o.Ub(148,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.tasks.acronym)})),o.Pb(149,"nb-icon",8),o.Bc(150," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(151,"div",22),o.zc(152,de,10,4,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(153,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.procedure.acronym)})),o.Ub(154,"nb-accordion-item-header",20),o.Bc(155),o.Tb(),o.Ub(156,"nb-accordion-item-body"),o.Ub(157,"div",1),o.Ub(158,"nb-card"),o.Ub(159,"nb-card-header",12),o.Ub(160,"label"),o.Ub(161,"b"),o.Bc(162,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(163,"nb-card-body",11),o.Ub(164,"div",13),o.Pb(165,"nb-progress-bar",16),o.Ub(166,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.procedure.acronym)})),o.Pb(167,"nb-icon",8),o.Bc(168," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(169,"div",22),o.zc(170,Oe,11,6,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(171,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.data.acronym)})),o.Ub(172,"nb-accordion-item-header",20),o.Bc(173),o.Tb(),o.Ub(174,"nb-accordion-item-body"),o.Ub(175,"div",1),o.Ub(176,"nb-card"),o.Ub(177,"nb-card-header",12),o.Ub(178,"label"),o.Ub(179,"b"),o.Bc(180,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(181,"nb-card-body",11),o.Ub(182,"div",13),o.Pb(183,"nb-progress-bar",16),o.Ub(184,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.data.acronym)})),o.Pb(185,"nb-icon",8),o.Bc(186," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(187,"div",22),o.zc(188,De,10,5,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(189,"nb-accordion-item",19),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onClickApplication(e.categories.threats.acronym)})),o.Ub(190,"nb-accordion-item-header",20),o.Bc(191),o.Tb(),o.Ub(192,"nb-accordion-item-body"),o.Ub(193,"div",1),o.Ub(194,"nb-card"),o.Ub(195,"nb-card-header",12),o.Ub(196,"label"),o.Ub(197,"b"),o.Bc(198,"Section Progress"),o.Tb(),o.Tb(),o.Tb(),o.Ub(199,"nb-card-body",11),o.Ub(200,"div",13),o.Pb(201,"nb-progress-bar",16),o.Ub(202,"button",21),o.bc("click",(function(){o.sc(s);const e=o.dc();return e.onEdit(e.categories.threats.acronym)})),o.Pb(203,"nb-icon",8),o.Bc(204," EDIT SECTION "),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(205,"div",22),o.zc(206,Ye,8,3,"div",23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(207,"nb-card-footer"),o.Ub(208,"div"),o.Ub(209,"button",24),o.bc("click",(function(){return o.sc(s),o.dc().onFinish()})),o.Ub(210,"b"),o.Bc(211,"FINISH"),o.Tb(),o.Pb(212,"nb-icon",25),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc();o.Cb(46),o.jc("disabled",!s.isPlanDone()||s.isInReviewPhase()||!s.isCompletedPlan()),o.Cb(1),o.jc("nbTooltipTrigger",s.isPlanDone()?"noop":"hover"),o.Cb(10),o.jc("disabled",!s.isAuthor),o.Cb(1),o.jc("nbTooltipTrigger",s.isAuthor?"noop":"hover"),o.Cb(2),o.jc("displayValue",!0)("status",s.getPlanPercentageColor())("value",s.planPercentage),o.Cb(1),o.jc("ngIf",0===s.planPercentage),o.Cb(4),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.application.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.getApplicationAcronym()).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.goals.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.goals.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.variables.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.variables.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.participants.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.participants.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.tasks.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.tasks.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.procedure.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.procedure.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.data.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.data.acronym).parentQuestions),o.Cb(3),o.Dc(" ",s.getCharacterizationQuestionsObject(s.categories.threats.acronym).section," "),o.Cb(10),o.jc("displayValue",!0)("status",s.getPercentageColor())("value",s.questionsPercentage),o.Cb(5),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.threats.acronym).parentQuestions),o.Cb(3),o.jc("disabled",!s.isPlanDone()&&!s.isAuthor||s.isInReviewPhase()||s.isCompletedPlan()),o.Cb(3),o.jc("nbTooltipTrigger",s.isAuthor?"noop":"hover")}}let Je=(()=>{class s{constructor(s,e,t,n,i,a,c,o){this.assessmentService=s,this.reviewService=e,this.questionService=t,this.formBuilder=i,this.dialogService=a,this.toastrService=c,this.store=o,this.formEditable=!1,this.isVald=!1,this.questionsAnswered=0,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.usabilityAtributes=B.a.USABILITY_ATRIBUTES,this.categories=B.a.CATEGORIES,this.smartCityCategories=B.a.SMART_CITY_CATEGORY,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.selectOptions=B.a.SELECT_OPTIONS,this.sectionControl=B.a.SECTION_CONTROL,this.toast=new T.a(c),this.router=n,this.store.select(d.a).subscribe(s=>this.user=s),this.planInfo=this.router.getCurrentNavigation().extras.state,this.form=this.formBuilder.group({questions:this.formBuilder.array([]),tools:this.formBuilder.array([]),tasks:this.formBuilder.array([]),steps:this.formBuilder.array([]),threats:this.formBuilder.array([]),limitations:this.formBuilder.array([])})}addCollaborator(){this.router.navigate(["/pages/assessment/my-plans/edit/add-collaborator"],{state:this.assessment})}get isAuthor(){return"AUTHOR"===this.assessment.userProfile}get questions(){return this.form.controls.questions}get values(){return this.form.value}get serializedValues(){const s=Object.assign(Object.assign({},this.values),{planQuestions:this.values.questions.map(s=>s.question)});return delete s.questions,s}get tools(){return this.form.controls.tools}get tasks(){return this.form.controls.tasks}get steps(){return this.form.controls.steps}get threats(){return this.form.controls.threats}get limitations(){return this.form.controls.limitations}ngOnInit(){this.assessment=new M,this.assessmentService.getAssessmentByUid(this.planInfo.assessmentUid).subscribe(s=>{this.assessment=s,this.loadResources(),this.dataloaded=Promise.resolve(!0)}),this.assessmentService.releaseSection(this.user.uid).subscribe()}loadResources(){this.calculatePlanPercentage(),this.initQuestionnaire(),this.initGoals(),this.initAnswers(),this.initAssessmentAttribute(),this.initParticipants(),this.initAssessmentTools(),this.initProcedure(),this.initDataCollection(),this.initThreats()}getApplicationAcronym(){return this.categories.application.acronym}initQuestionnaire(){this.isNullOrUndefined(this.assessment.smartCityQuestionnaire)&&(this.assessment.smartCityQuestionnaire=new I.g(null,null,null,null,null,null,null,null))}initGoals(){(this.isNullOrUndefined(this.assessment.usabilityGoals)||0===this.assessment.usabilityGoals.length)&&(this.assessment.usabilityGoals=[new I.h("LRN"),new I.h("EFF"),new I.h("USR"),new I.h("ERR"),new I.h("STF")]),this.fillGoalsArray()}initParticipants(){this.isNullOrUndefined(this.assessment.participant)&&(this.assessment.participant=new I.f),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map(s=>this.formBuilder.group({question:[s]})),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map(s=>this.questions.push(this.formBuilder.group({question:[s]})))}initAssessmentAttribute(){(this.isNullOrUndefined(this.assessment.attributes)||0===this.assessment.attributes.length)&&this.usabilityAtributes.forEach(s=>this.assessment.attributes.push(new I.e(s))),(this.isNullOrUndefined(this.assessment.scale)||0===this.assessment.scale.length)&&(this.assessment.scale=[]),this.fillVariableArray()}fillVariableArray(){if(5!==this.assessment.attributes.length){let s=!1;this.usabilityAtributes.forEach(e=>{this.assessment.attributes.forEach(t=>{e===t.usabilityAttribute&&(s=!0)}),!1===s&&this.assessment.attributes.push({usabilityAttribute:e,variables:null,obtainedBy:null}),s=!1})}}initAssessmentTools(){this.isNullOrUndefined(this.assessment.assessmentTools)&&(this.assessment.assessmentTools=new I.d),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map(s=>this.formBuilder.group({tool:[s]})),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map(s=>this.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]})),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map(s=>this.tools.push(this.formBuilder.group({tool:[s]}))),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map(s=>this.tasks.push(this.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]})))}initAnswers(){this.isNullOrUndefined(this.assessment.answers)&&(this.assessment.answers=new D.a)}initProcedure(){this.isNullOrUndefined(this.assessment.assessmentProcedure)&&(this.assessment.assessmentProcedure=new I.b),0!==this.assessment.assessmentProcedure.assessmentProcedureSteps.length&&this.assessment.assessmentProcedure.assessmentProcedureSteps.map(s=>this.steps.push(this.formBuilder.group({name:[s.name],description:[s.description]})))}initDataCollection(){this.isNullOrUndefined(this.assessment.assessmentData)&&(this.assessment.assessmentData=new I.a)}initThreats(){this.isNullOrUndefined(this.assessment.assessmentThreat)&&(this.assessment.assessmentThreat=new I.c),0!==this.assessment.assessmentThreat.threats.length&&this.assessment.assessmentThreat.threats.map(s=>this.threats.push(this.formBuilder.group({threat:[s]}))),0!==this.assessment.assessmentThreat.limitations.length&&this.assessment.assessmentThreat.limitations.map(s=>this.limitations.push(this.formBuilder.group({limitation:[s]})))}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}onClickApplication(s){null==this.assessment.smartCityQuestionnaire&&(this.assessment.smartCityQuestionnaire=new I.g(null,null,null,null,null,null,null,null)),this.calculateProgressPercentage(s),s===this.categories.variables.acronym&&this.getUsabilityScales()}getUsabilityScales(){void 0!==this.usabilityScales&&0!==this.usabilityScales.length||this.assessmentService.getScaleList().subscribe(s=>{this.usabilityScales=s})}isNullOrUndefined(s){return null==s}isNullOrUndefinedOrFalse(s){return!1===s||null==s}isNullOrUndefinedOrTrue(s){return!0===s||null==s}isNull(s){return null===s}isEqual(s,e){return s===e}booleanToString(s){return!0===s?"YES":"NO"}isDataManagement(s){return s===this.smartCityCategories.dataManagement.acronym}setSmartCityAnswerField(s,e){this.smartCityCategories.dataManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasDataManagement=s:this.smartCityCategories.applicationExecutionEnvironment.acronym===e?this.assessment.smartCityQuestionnaire.hasAppExecution=s:this.smartCityCategories.sensorNetworkManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasSensorNetwork=s:this.smartCityCategories.dataProcessing.acronym===e?this.assessment.smartCityQuestionnaire.hasDataProcessing=s:this.smartCityCategories.dataAccess.acronym===e?this.assessment.smartCityQuestionnaire.hasDataAccess=s:this.smartCityCategories.serviceManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasServiceManagement=s:this.smartCityCategories.toolsforSoftwareDevelopment.acronym===e?this.assessment.smartCityQuestionnaire.hasSoftwareTools=s:this.assessment.smartCityQuestionnaire.defineCityModel=s}isFirstQuestion(s){return"AP-PN"===s||"AP-PD"===s}checkUsabilityGoal(s,e){"LRN"===e.attribute?this.assessment.answers.planGoalsAnswers.learnability=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e.attribute?this.assessment.answers.planGoalsAnswers.efficiency=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e.attribute?this.assessment.answers.planGoalsAnswers.errorRate=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planGoalsAnswers.satisfaction=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}checkApplicationSection(s,e,t){"AP-PN"===e?this.assessment.answers.planApplicationAnswers.projectName=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"AP-PD"===e?this.assessment.answers.planApplicationAnswers.projectDescription=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.isDataManagement(e)?this.assessment.answers.planApplicationAnswers.dataManagement=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.applicationExecutionEnvironment.acronym?this.assessment.answers.planApplicationAnswers.applicationExecution=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.sensorNetworkManagement.acronym?this.assessment.answers.planApplicationAnswers.sensorNetwork=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.dataProcessing.acronym?this.assessment.answers.planApplicationAnswers.dataProcessing=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.toolsforSoftwareDevelopment.acronym?this.assessment.answers.planApplicationAnswers.tools=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.definingACityModel.acronym?this.assessment.answers.planApplicationAnswers.definingCityModel=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.dataAccess.acronym?this.assessment.answers.planApplicationAnswers.dataAccess=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planApplicationAnswers.serviceManagement=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}verifyUsabilityVariableCheck(s,e){return"VM-4"===e?"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name:"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name}checkUsabilityVariable(s,e,t){"VM-4"===t?"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}ApplicationSectionCheckboxStatus(s){return s===this.planAnswersConstants.answered.name}verifyGoalsCheckState(s){return"LRN"===s.attribute?this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name:"EFF"===s.attribute?this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name:"USR"===s.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name:"ERR"===s.attribute?this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name:this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name}verifyScaleStatus(s){for(const e of this.assessment.scale)if(e.acronym===s.acronym)return!0;return!1}scaleSelectionCheckbox(s,e,t){if(!0===s)this.assessment.scale.push(e);else{const s=this.assessment.scale.map((function(s){return s.uid})).indexOf(e.uid);this.assessment.scale.splice(s,1)}}verifyScalesCheckbox(){return this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name}checkScalesCheckbox(s){this.assessment.answers.planVariableAnswers.suggestedScales=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}checkClickable(){return 0===this.assessment.scale.length?(this.tooltipTrigger="hint",!0):(this.tooltipTrigger="noop",!0!==this.formEditable)}showValue(s){return this.isNullOrUndefined(s)?"":s}printValue(s){console.log(s),console.log(s.type),console.log(new Date(s)),console.log(Object(S.a)(new Date(s),"yyyy-MM-dd"))}verifyParticipantState(s){return"PA-7"===s?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===s?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===s?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===s?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===s?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===s?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}checkParticipantQuestion(s,e){"PA-7"===e?this.assessment.answers.planParticipantsAnswers.howManyParticipants=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-8"===e?this.assessment.answers.planParticipantsAnswers.participationType=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-9"===e?this.assessment.answers.planParticipantsAnswers.formCompensation=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-10"===e?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-11"===e?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-12"===e?this.assessment.answers.planParticipantsAnswers.participantsInstruction=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planParticipantsAnswers.askedQuestions=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}addQuestion(){""!==this.newQuestion().getRawValue()&&this.questions.push(this.newQuestion()),console.log(this.serializedValues)}removeQuestion(s){this.questions.removeAt(s)}addTools(){""!==this.newTool().getRawValue()&&this.tools.push(this.newTool()),console.log(this.serializedValues)}removeTool(s){this.tools.removeAt(s)}addTasks(){""!==this.newTask().getRawValue()&&this.tasks.push(this.newTask()),console.log(this.serializedValues)}removeTask(s){this.tasks.removeAt(s)}open(s){this.dialogService.open(s,{context:"this is some additional data passed to dialog"})}checkIfToolsIsNotEmpty(){return 0!==this.tools.getRawValue().map(s=>s.tools).length}checkIfTasksIsNotEmpty(){return 0!==this.tasks.getRawValue().map(s=>s.tasks).length}getTaskDescription(s){return this.tasks.getRawValue()[s].description}verifyMaterialsCheckState(s){return"TM-14"===s?this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name:"TM-15"===s?this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name:"TM-16"===s?this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name:this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name}checkMaterial(s,e){"TM-14"===e?this.assessment.answers.planTasksAnswers.usedTools=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-15"===e?this.assessment.answers.planTasksAnswers.tasksToPerform=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-16"===e?this.assessment.answers.planTasksAnswers.tasksTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planTasksAnswers.criteria=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}verifyProcedureState(s){return"PR-18-1"===s?this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name:"PR-18-2"===s?this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name:"PR-18-3"===s?this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name:"PR-18-4"===s?this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name:"PR-19"===s?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name:"PR-20"===s?this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name}checkProcedureQuestion(s,e){"PR-18-1"===e?this.assessment.answers.planProcedureAnswers.whenOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-2"===e?this.assessment.answers.planProcedureAnswers.whereOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-3"===e?this.assessment.answers.planProcedureAnswers.howOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-4"===e?this.assessment.answers.planProcedureAnswers.howMuchTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-19"===e?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-20"===e?this.assessment.answers.planProcedureAnswers.questionsAllowed=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}addSteps(){""!==this.newStep().getRawValue()&&this.steps.push(this.newStep()),console.log(this.serializedValues)}removeSteps(s){this.steps.removeAt(s)}verifyDataState(s){return"DT-22"===s?this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name:"DT-23"===s?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name:this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name}checkDataQuestion(s,e){"DT-22"===e?this.assessment.answers.planDataAnswers.dataCollectionProcedure=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"DT-23"===e?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planDataAnswers.statisticalMethods=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}addThreats(){""!==this.newThreat().getRawValue()&&this.threats.push(this.newThreat())}removeThreat(s){this.threats.removeAt(s)}addLimitation(){""!==this.newLimitation().getRawValue()&&this.limitations.push(this.newLimitation())}removeLimitation(s){this.limitations.removeAt(s)}verifyThreatState(s){return"TH-25-1"===s?this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name:"TH-25-2"===s?this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name:"TH-25-3"===s?this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name:"TH-25-4"===s?this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name:this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name}checkThreatQuestion(s,e){"TH-25-1"===e?this.assessment.answers.planThreatsAnswers.whatThreats=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-2"===e?this.assessment.answers.planThreatsAnswers.threatsValidityControlled=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-3"===e?this.assessment.answers.planThreatsAnswers.assessmentLimitations=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-4"===e?this.assessment.answers.planThreatsAnswers.ethicalAspects=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planThreatsAnswers.assessmentBiases=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}getPercentageColor(){return this.questionsPercentage<=25?"danger":this.questionsPercentage>40&&this.questionsPercentage<=70?"warning":this.questionsPercentage>70&&this.questionsPercentage<=99?"primary":"success"}getPlanPercentageColor(){return this.planPercentage<=25?"danger":this.planPercentage>40&&this.planPercentage<=70?"warning":this.planPercentage>70&&this.planPercentage<=99?"primary":"success"}calculateProgressPercentage(s){let e;this.questionsPercentage=0,this.questionsAnswered=0,this.categories.application.acronym===s?(e=10,this.assessment.answers.planApplicationAnswers.projectName===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.projectDescription===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.applicationExecution===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataAccess===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataProcessing===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.definingCityModel===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.sensorNetwork===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.serviceManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.tools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.goals.acronym===s?(e=5,this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.variables.acronym===s?(e=11,this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.participants.acronym===s?(e=7,this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.tasks.acronym===s?(e=4,this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.procedure.acronym===s?(e=7,this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):this.categories.data.acronym===s?(e=3,this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1)):(e=5,this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1));const t=+(100*this.questionsAnswered/e).toFixed(1);this.questionsPercentage=t>100?100:t}calculatePlanPercentage(){this.planPercentage=0,this.questionsAnswered=0,this.assessment.answers.planApplicationAnswers.projectName===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.projectDescription===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.applicationExecution===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataAccess===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.dataProcessing===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.definingCityModel===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.sensorNetwork===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.serviceManagement===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planApplicationAnswers.tools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1),this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name&&(this.questionsAnswered=this.questionsAnswered+1);const s=+(100*this.questionsAnswered/52).toFixed(1);this.planPercentage=s>100?100:s}setSubmitTooltipTrigger(){100!==this.planPercentage&&(this.submitTooltip="hint"),this.submitTooltip="noop"}isPlanDone(){return 100===this.planPercentage}isInReviewPhase(){return"IN_REVIEW"===this.assessment.state||"WAITING_REVIEW"===this.assessment.state}isCompletedPlan(){return"COMPLETED"===this.assessment.state||"REVIEWED"===this.assessment.state}onEdit(s){this.sectionRequest=new z(this.assessment.uid,s),this.sectionUpdate=new q(this.assessment.uid,this.user.uid,s),this.assessmentService.verifySection(this.sectionUpdate).subscribe(e=>{this.sectionResponse=e,this.sectionResponse.sectionControlEnum===this.sectionControl.busy.name?this.toast.showToast("section","top-right","warning",e.userName):this.router.navigate(this.categories.application.acronym===s?["/pages/assessment/my-plans/edit/application"]:this.categories.goals.acronym===s?["/pages/assessment/my-plans/edit/goal"]:this.categories.variables.acronym===s?["/pages/assessment/my-plans/edit/variable"]:this.categories.participants.acronym===s?["/pages/assessment/my-plans/edit/participant"]:this.categories.tasks.acronym===s?["/pages/assessment/my-plans/edit/tools"]:this.categories.procedure.acronym===s?["/pages/assessment/my-plans/edit/procedure"]:this.categories.data.acronym===s?["/pages/assessment/my-plans/edit/data"]:["/pages/assessment/my-plans/edit/threats"],{state:this.assessment})})}onFinish(){return Object(l.a)(this,void 0,void 0,(function*(){(yield this.assessmentService.updatePlanState(this.assessment.uid)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}fillGoalsArray(){if(5!==this.assessment.usabilityGoals.length){let s=!1;this.usabilityAtributes.forEach(e=>{this.assessment.usabilityGoals.forEach(t=>{e===t.attribute&&(s=!0)}),!1===s&&this.assessment.usabilityGoals.push({attribute:e,goal:null,done:!1}),s=!1})}}openReviewDialog(){this.dialogService.open(E).onClose.subscribe(s=>{this.reviewDate=s,null==this.reviewDate||(this.reviewRequest=new V(this.assessment.uid,this.reviewDate),this.reviewService.submitReview(this.reviewRequest).subscribe(s=>{this.toast.showToast("review","top-right","success","Assessment Plan"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans"],{state:e})},()=>{this.toast.showToast("review","top-right","danger","Assessment Plan")}))})}newQuestion(){return this.formBuilder.group({question:[""]})}newTool(){return this.formBuilder.group({tool:[""]})}newTask(){return this.formBuilder.group({description:[""],taskExecutionTime:[""],acceptanceCriteria:[""]})}newStep(){return this.formBuilder.group({name:[""],description:[""]})}newThreat(){return this.formBuilder.group({threat:[""]})}newLimitation(){return this.formBuilder.group({limitation:[""]})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(U.a),o.Ob(x.a),o.Ob(c.c),o.Ob(n.d),o.Ob(a.J),o.Ob(a.ub),o.Ob(p.h))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-plan"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"col-lg-12"],["accent","warning"],[2,"padding-left","10px"],["status","primary"],[1,"solid"],["ghost","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right"],["icon","edit-2-outline"],["hero","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right",2,"margin-left","5px",3,"disabled","click"],["nbTooltip","The plan must be 100% completed to be submitted for review.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","eye-outline",3,"nbTooltipTrigger"],[1,"example-items-col"],[2,"background-color","#206ea1"],[1,"row","col-lg-12","bottom-margin"],["ghost","","nbButton","","size","medium","shape","round","status","success",2,"margin-left","5px",3,"disabled","click"],["nbTooltip","You must be the author of the plan to add collaborators.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","person-add-outline",3,"nbTooltipTrigger"],["fullWidth","",1,"col-lg-8","vertical-center",3,"displayValue","status","value"],[4,"ngIf"],["multi",""],[3,"click"],[2,"background-color","#d9d9d9","color","#1a1f33"],["ghost","","nbButton","","size","medium","status","success",1,"fa-pull-right","padding-right",2,"margin-left","5px",3,"click"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["nbTooltip","You must be the author of the plan to finish it.","nbTooltipPlacement","top","nbTooltipStatus","warning","icon","done-all-outline",3,"nbTooltipTrigger"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],["class","col-lg-10",4,"ngIf","ngIfElse"],["class","container",4,"ngIf","ngIfElse"],["percentage",""],["applicationSectionRadioButtons",""],[1,"col-lg-10"],["class","col-lg-12 bottom-margin",4,"ngIf"],["fullWidth","","nbInput","","readonly","","required","true","type","text",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","","status","primary",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe your project","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","true","status","primary",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-4","vertical-center"],[2,"color","#3c763d"],[1,"container",2,"padding-left","10px"],["placeholder","Not Selected","style","padding-left: 10px",3,"selected","selectedChange",4,"ngIf"],["class","padding-right","disabled","true","status","primary",3,"checked","checkedChange",4,"ngIf"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],["disabled","true",3,"value",4,"ngFor","ngForOf"],["disabled","true",3,"value"],["disabled","true","status","primary",1,"padding-right",3,"checked","checkedChange"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","readonly","","required","true","rows","5","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","disabled","true","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["disabled","true","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-12","bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning","style","padding-left: 5px",3,"nbTooltip",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",2,"padding-left","5px",3,"nbTooltip"],["fullWidth","","nbInput","","placeholder","Describe the attribule variables here","readonly","","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the attribule variables here","readonly","","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","readonly","","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","readonly","","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"form-group"],["class","row",4,"ngFor","ngForOf"],["nbButton","","nbTooltip","It is necessary to choose at least one option.","nbTooltipPlacement","top","nbTooltipStatus","danger","status","primary","status","danger",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","nbTooltipTrigger","checkedChange"],[1,"row"],["disabled","true","status","primary",2,"padding-left","20px",3,"checked","checkedChange"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space",3,"nbTooltip"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],["class","bottom-margin-light",3,"formGroup",4,"ngIf"],[1,"bottom-margin-light"],["fullWidth","","nbInput","","placeholder","Enter the quantity","readonly","","required","true","type","number",1,"col-lg-3",2,"padding-left","10px",3,"ngModel"],["disabled","","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["disabled","true","value","P"],["disabled","true","value","R"],["fullWidth","","nbInput","","placeholder","Describe the compesations here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the eligibility criteria here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["placeholder","Not Selected",1,"bottom-margin-light",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describes data usage here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","disabled","ngModelChange"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describes instructions here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"bottom-margin-light",3,"formGroup"],["formArrayName","questions",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","hidden","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","question","fullWidth","","id","input-question","name","question","nbInput","","placeholder","New question","shape","round","readonly","",1,"display-next","bottom-margin"],["icon","minus-circle-outline","nbButton","","hidden","","status","danger",1,"display-next",3,"click"],["deleteQuestionDialog",""],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],[3,"formGroup"],["formArrayName","tools",1,"container","mt-3"],["disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["checked","false","disabled","true","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px"],["formControlName","tool","fullWidth","","id","input-tool","name","tool","nbInput","","placeholder","New instruments, materials, technology, or tool","shape","round","readonly","",1,"display-next","bottom-margin"],["icon","minus-circle-outline","nbButton","","status","danger","hidden","",1,"display-next",3,"click"],["deleteToolDialog",""],["fullWidth","","nbInput","","placeholder","Describe their usage here","readonly","","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","tasks",1,"container","mt-3"],["class","top-margin","disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click",4,"ngIf"],["class","row col-lg-8",4,"ngIf"],["class","row col-lg-12",4,"ngIf"],["formControlName","description","fullWidth","","id","input-task-description","name","task-description","nbInput","","placeholder","Describe the task","shape","round","readonly","",1,"display-next","bottom-margin"],["deleteTaskDialog",""],[1,"row","col-lg-12"],["formControlName","taskExecutionTime","fullWidth","","id","input-edit-task-execution","name","task-execution","nbInput","","placeholder","Insert the task execution time (in minutes)","readonly","",1,"display-next"],["formControlName","acceptanceCriteria","fullWidth","","id","input-task-acceptance-criteria","name","task-acceptance-criteria","nbInput","","placeholder","Insert the task acceptance criteria","readonly","",1,"display-next"],[1,"container","col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],["disabled","","nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["fullWidth","","nbInput","","placeholder","Describe where it will take place here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will occur here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how long it will take here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","steps",1,"container","mt-3"],["disabled","","ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["formControlName","name","fullWidth","","id","input-step-name","name","step-name","nbInput","","placeholder","Step title","shape","round","readonly","",1,"display-next",2,"margin-bottom","10px"],["formControlName","description","fullWidth","","id","input-step-description","name","step-description","nbInput","","placeholder","Step description","shape","round","readonly","",1,"display-next","bottom-margin"],["deleteStepDialog",""],["disabled","",1,"row","bottom-margin",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the data collection procedure here","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will be analyzed here","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","threats",1,"container","mt-3"],["formControlName","threat","fullWidth","","id","input-threat","name","threat","nbInput","","shape","round","readonly","",1,"display-next","bottom-margin",2,"margin-bottom","10px",3,"placeholder"],["deleteTreatDialog",""],["fullWidth","","nbInput","","readonly","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","placeholder","ngModelChange"],["formArrayName","limitations",1,"container","mt-3"],["formControlName","limitation","fullWidth","","id","input-limitation","name","limitation","nbInput","","shape","round","readonly","",1,"display-next","bottom-margin",2,"margin-bottom","10px",3,"placeholder"],["fullWidth","","nbInput","","readonly","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","placeholder","ngModelChange"]],template:function(s,e){1&s&&(o.zc(0,He,213,50,"div",0),o.ec(1,"async")),2&s&&o.jc("ngIf",o.fc(1,1,e.dataloaded))},directives:[u.n,a.u,a.w,a.t,a.z,a.r,a.L,a.vb,a.db,a.h,a.j,a.k,a.i,u.m,a.v,a.O,n.b,n.x,n.p,n.s,a.jb,a.cb,a.m,n.u,n.q,n.h,n.B,n.r,n.c,n.i,n.g,a.F,a.E,a.gb,a.fb],pipes:[u.b],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();var Xe=t("Tk1w");class Ze{constructor(s){this.assessmentUid=s,this.hasDataManagement=null,this.hasAppExecution=null,this.hasSensorNetwork=null,this.hasDataProcessing=null,this.hasDataAccess=null,this.hasServiceManagement=null,this.hasSoftwareTools=null,this.defineCityModel=null,this.planApplicationAnswers=new D.b,this.projectName=null,this.projectDescription=null}}function st(s,e){if(1&s&&(o.Ub(0,"label",10),o.Ub(1,"b"),o.Bc(2),o.Tb(),o.Bc(3),o.Tb()),2&s){const s=o.dc().$implicit;o.Cb(2),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle)}}function et(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"input",12),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.projectName=e})),o.Tb(),o.Ub(2,"nb-checkbox",13),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.projectName)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc(4);o.Cb(1),o.jc("ngModel",s.assessment.projectName),o.Cb(1),o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.projectName))}}function tt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"textarea",14),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.projectDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",15),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.projectDescription)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc(4);o.Cb(1),o.jc("ngModel",s.assessment.projectDescription),o.Cb(1),o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.projectDescription))}}function nt(s,e){if(1&s&&(o.Ub(0,"div",0),o.zc(1,et,4,2,"div",11),o.zc(2,tt,4,2,"div",11),o.Tb()),2&s){const s=o.dc().$implicit;o.Cb(1),o.jc("ngIf","AP-PN"==s.objKey),o.Cb(1),o.jc("ngIf","AP-PD"===s.objKey)}}function it(s,e){if(1&s&&(o.Ub(0,"div",1),o.Ub(1,"label",16),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.Ub(4,"h6",17),o.Bc(5),o.Tb(),o.Tb()),2&s){const s=o.dc(2).$implicit,e=o.dc(2);o.Cb(3),o.Cc(s.title),o.Cb(2),o.Dc("",e.assessment.smartCityPercentage,"%")}}function at(s,e){if(1&s&&o.zc(0,it,6,2,"div",11),2&s){const s=o.dc(3);o.jc("ngIf",!s.isNull(s.assessment.smartCityPercentage))}}function ct(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function ot(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasDataManagement=e})),o.zc(1,ct,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataManagement),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataManagement)}}function rt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataManagement)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataManagement))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasDataManagement))}}function lt(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function bt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasAppExecution=e})),o.zc(1,lt,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasAppExecution),o.Cb(1),o.jc("ngForOf",s.selectOptions.applicationExecutionEnvironment)}}function dt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.applicationExecution)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.applicationExecution))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasAppExecution))}}function ht(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function pt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasSensorNetwork=e})),o.zc(1,ht,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasSensorNetwork),o.Cb(1),o.jc("ngForOf",s.selectOptions.sensorNetworkManagement)}}function ut(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.sensorNetwork)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.sensorNetwork))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasSensorNetwork))}}function mt(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function gt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasDataProcessing=e})),o.zc(1,mt,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataProcessing),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataProcessing)}}function ft(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataProcessing)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataProcessing))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasDataProcessing))}}function wt(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function Ct(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasDataAccess=e})),o.zc(1,wt,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasDataAccess),o.Cb(1),o.jc("ngForOf",s.selectOptions.dataAccess)}}function Tt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.dataAccess)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.dataAccess))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasDataAccess))}}function At(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function yt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasServiceManagement=e})),o.zc(1,At,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasServiceManagement),o.Cb(1),o.jc("ngForOf",s.selectOptions.serviceManagement)}}function Ut(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.serviceManagement)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.serviceManagement))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasServiceManagement))}}function vt(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function kt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.hasSoftwareTools=e})),o.zc(1,vt,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.hasSoftwareTools),o.Cb(1),o.jc("ngForOf",s.selectOptions.toolsforSoftwareDevelopment)}}function Pt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.tools)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.tools))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.hasSoftwareTools))}}function Ot(s,e){if(1&s&&(o.Ub(0,"nb-option",24),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function jt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-select",22),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(4).assessment.smartCityQuestionnaire.defineCityModel=e})),o.zc(1,Ot,2,2,"nb-option",23),o.Tb()}if(2&s){const s=o.dc(4);o.jc("selected",s.assessment.smartCityQuestionnaire.defineCityModel),o.Cb(1),o.jc("ngForOf",s.selectOptions.definingACityModel)}}function Mt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",25),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc(2).$implicit,n=o.dc(2);return n.checkApplicationSection(e,t.objKey,n.assessment.answers.planApplicationAnswers.definingCityModel)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc(4);o.jc("checked",s.ApplicationSectionCheckboxStatus(s.assessment.answers.planApplicationAnswers.definingCityModel))("disabled",s.isNullOrUndefined(s.assessment.smartCityQuestionnaire.defineCityModel))}}function xt(s,e){if(1&s&&(o.Ub(0,"div",18),o.zc(1,ot,2,2,"nb-select",19),o.zc(2,rt,2,2,"nb-checkbox",20),o.zc(3,bt,2,2,"nb-select",19),o.zc(4,dt,2,2,"nb-checkbox",20),o.zc(5,pt,2,2,"nb-select",19),o.zc(6,ut,2,2,"nb-checkbox",20),o.zc(7,gt,2,2,"nb-select",19),o.zc(8,ft,2,2,"nb-checkbox",20),o.zc(9,Ct,2,2,"nb-select",19),o.zc(10,Tt,2,2,"nb-checkbox",20),o.zc(11,yt,2,2,"nb-select",19),o.zc(12,Ut,2,2,"nb-checkbox",20),o.zc(13,kt,2,2,"nb-select",19),o.zc(14,Pt,2,2,"nb-checkbox",20),o.zc(15,jt,2,2,"nb-select",19),o.zc(16,Mt,2,2,"nb-checkbox",20),o.Pb(17,"hr",21),o.Tb()),2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngIf",e.isDataManagement(s.objKey)),o.Cb(1),o.jc("ngIf",e.isDataManagement(s.objKey)),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.applicationExecutionEnvironment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.applicationExecutionEnvironment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.sensorNetworkManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.sensorNetworkManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataProcessing.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataProcessing.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataAccess.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.dataAccess.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.serviceManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.serviceManagement.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.toolsforSoftwareDevelopment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.toolsforSoftwareDevelopment.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.definingACityModel.acronym),o.Cb(1),o.jc("ngIf",s.objKey===e.smartCityCategories.definingACityModel.acronym)}}function Bt(s,e){if(1&s&&(o.Ub(0,"div",5),o.zc(1,st,4,2,"label",6),o.zc(2,nt,3,2,"div",7),o.zc(3,at,1,1,"ng-template",null,8,o.Ac),o.zc(5,xt,18,16,"ng-template",null,9,o.Ac),o.Tb()),2&s){const s=e.$implicit,t=o.qc(4),n=o.qc(6),i=o.dc(2);o.Cb(1),o.jc("ngIf","PERC"!=s.objKey)("ngIfElse",t),o.Cb(1),o.jc("ngIf",i.isFirstQuestion(s.objKey))("ngIfElse",n)}}function St(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"h5",1),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.zc(4,Bt,7,4,"div",4),o.Tb()),2&s){const s=e.$implicit;o.Cb(3),o.Cc(s.title),o.Cb(1),o.jc("ngForOf",s.questions)}}let It=(()=>{class s{constructor(s,e,t,n){this.assessmentService=s,this.questionService=e,this.toastrService=n,this.isVald=!1,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.smartCityCategories=B.a.SMART_CITY_CATEGORY,this.selectOptions=B.a.SELECT_OPTIONS,this.toast=new T.a(n),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state}ngOnInit(){this.smartCityQuestionnaire=new Ze(this.assessment.uid)}getApplicationAcronym(){return this.categories.application.acronym}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isNull(s){return null===s}setSmartCityAnswerField(s,e){this.smartCityCategories.dataManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasDataManagement=s:this.smartCityCategories.applicationExecutionEnvironment.acronym===e?this.assessment.smartCityQuestionnaire.hasAppExecution=s:this.smartCityCategories.sensorNetworkManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasSensorNetwork=s:this.smartCityCategories.dataProcessing.acronym===e?this.assessment.smartCityQuestionnaire.hasDataProcessing=s:this.smartCityCategories.dataAccess.acronym===e?this.assessment.smartCityQuestionnaire.hasDataAccess=s:this.smartCityCategories.serviceManagement.acronym===e?this.assessment.smartCityQuestionnaire.hasServiceManagement=s:this.smartCityCategories.toolsforSoftwareDevelopment.acronym===e?this.assessment.smartCityQuestionnaire.hasSoftwareTools=s:this.assessment.smartCityQuestionnaire.defineCityModel=s}isFirstQuestion(s){return"AP-PN"===s||"AP-PD"===s}isDataManagement(s){return s===this.smartCityCategories.dataManagement.acronym}ApplicationSectionCheckboxStatus(s){return s===this.planAnswersConstants.answered.name}checkApplicationSection(s,e,t){console.log(this.assessment.smartCityQuestionnaire),"AP-PN"===e?this.assessment.answers.planApplicationAnswers.projectName=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"AP-PD"===e?this.assessment.answers.planApplicationAnswers.projectDescription=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.isDataManagement(e)?this.assessment.answers.planApplicationAnswers.dataManagement=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.applicationExecutionEnvironment.acronym?this.assessment.answers.planApplicationAnswers.applicationExecution=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.sensorNetworkManagement.acronym?this.assessment.answers.planApplicationAnswers.sensorNetwork=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.dataProcessing.acronym?this.assessment.answers.planApplicationAnswers.dataProcessing=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.toolsforSoftwareDevelopment.acronym?this.assessment.answers.planApplicationAnswers.tools=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.definingACityModel.acronym?this.assessment.answers.planApplicationAnswers.definingCityModel=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:e===this.smartCityCategories.dataAccess.acronym?this.assessment.answers.planApplicationAnswers.dataAccess=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planApplicationAnswers.serviceManagement=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountQuestionnaire(),(yield this.assessmentService.updateAssessmentApplicationSection(this.smartCityQuestionnaire)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountQuestionnaire(){this.smartCityQuestionnaire.projectName=this.assessment.projectName,this.smartCityQuestionnaire.projectDescription=this.assessment.projectDescription,this.smartCityQuestionnaire.hasDataManagement=this.assessment.smartCityQuestionnaire.hasDataManagement,this.smartCityQuestionnaire.hasAppExecution=this.assessment.smartCityQuestionnaire.hasAppExecution,this.smartCityQuestionnaire.hasSensorNetwork=this.assessment.smartCityQuestionnaire.hasSensorNetwork,this.smartCityQuestionnaire.hasDataProcessing=this.assessment.smartCityQuestionnaire.hasDataProcessing,this.smartCityQuestionnaire.hasDataAccess=this.assessment.smartCityQuestionnaire.hasDataAccess,this.smartCityQuestionnaire.hasServiceManagement=this.assessment.smartCityQuestionnaire.hasServiceManagement,this.smartCityQuestionnaire.hasSoftwareTools=this.assessment.smartCityQuestionnaire.hasSoftwareTools,this.smartCityQuestionnaire.defineCityModel=this.assessment.smartCityQuestionnaire.defineCityModel,this.smartCityQuestionnaire.planApplicationAnswers=this.assessment.answers.planApplicationAnswers}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-application-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],["class","col-lg-10",4,"ngIf","ngIfElse"],["class","container",4,"ngIf","ngIfElse"],["percentage",""],["applicationSectionRadioButtons",""],[1,"col-lg-10"],["class","col-lg-12 bottom-margin",4,"ngIf"],["fullWidth","","nbInput","","required","true","type","text",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe your project","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[1,"col-lg-4","vertical-center"],[2,"color","#3c763d"],[1,"container",2,"padding-left","10px"],["placeholder","Not Selected","style","padding-left: 10px",3,"selected","selectedChange",4,"ngIf"],["class","padding-right","status","primary",3,"checked","disabled","checkedChange",4,"ngIf"],[1,"solid"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["status","primary",1,"padding-right",3,"checked","disabled","checkedChange"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card",0),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Application Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div"),o.Ub(6,"div",1),o.zc(7,St,5,2,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.getApplicationAcronym()).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.O,n.b,n.x,n.p,n.s,a.z,a.jb,a.cb],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class Dt{constructor(s){this.assessmentUid=s,this.goals=[],this.planGoalsAnswers=null}}class Nt{constructor(s,e){this.attribute=s,this.goal=e}}function zt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",14),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.goal=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.goal)}}function qt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",15),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(3).checkUsabilityGoal(e,t)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3);o.jc("checked",e.verifyGoalsCheckState(s))}}function Et(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,zt,1,1,"textarea",12),o.zc(2,qt,2,1,"nb-checkbox",13),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit,n=o.dc(2);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.attribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.attribute))}}function Vt(s,e){if(1&s&&(o.Ub(0,"div",8),o.Ub(1,"label",9),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.Tb(),o.zc(5,Et,3,2,"div",10),o.Pb(6,"br"),o.Pb(7,"hr",11),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle),o.Cb(1),o.jc("ngForOf",t.assessment.usabilityGoals)}}function Qt(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"h5",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.Pb(5,"nb-icon",6),o.Tb(),o.Tb(),o.zc(6,Vt,8,3,"div",7),o.Tb()),2&s){const s=e.$implicit;o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("nbTooltip",s.instruction),o.Cb(1),o.jc("ngForOf",s.questions)}}let _t=(()=>{class s{constructor(s,e,t,n){this.assessmentService=s,this.questionService=e,this.toastrService=n,this.isVald=!1,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.usabilityAttributes=B.a.USABILITY_ATRIBUTES,this.toast=new T.a(n),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state,this.fillGoalsArray()}ngOnInit(){this.usabilityGoals=new Dt(this.assessment.uid)}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isEqual(s,e){return s===e}verifyGoalsCheckState(s){return"LRN"===s.attribute?this.assessment.answers.planGoalsAnswers.learnability===this.planAnswersConstants.answered.name:"EFF"===s.attribute?this.assessment.answers.planGoalsAnswers.efficiency===this.planAnswersConstants.answered.name:"USR"===s.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime===this.planAnswersConstants.answered.name:"ERR"===s.attribute?this.assessment.answers.planGoalsAnswers.errorRate===this.planAnswersConstants.answered.name:this.assessment.answers.planGoalsAnswers.satisfaction===this.planAnswersConstants.answered.name}checkUsabilityGoal(s,e){console.log(this.assessment.answers.planGoalsAnswers.learnability,this.assessment.answers.planGoalsAnswers.satisfaction),"LRN"===e.attribute?this.assessment.answers.planGoalsAnswers.learnability=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e.attribute?this.assessment.answers.planGoalsAnswers.efficiency=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e.attribute?this.assessment.answers.planGoalsAnswers.userRetentionOverTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e.attribute?this.assessment.answers.planGoalsAnswers.errorRate=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planGoalsAnswers.satisfaction=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name,console.log(s,e)}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountUsabilityGoals(),(yield this.assessmentService.updateAssessmentGoalsSection(this.usabilityGoals)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountUsabilityGoals(){this.usabilityGoals.goals=this.assessment.usabilityGoals.map(s=>new Nt(s.attribute,s.goal)),this.usabilityGoals.planGoalsAnswers=this.assessment.answers.planGoalsAnswers}fillGoalsArray(){if(5!==this.assessment.usabilityGoals.length){let s=!1;this.usabilityAttributes.forEach(e=>{this.assessment.usabilityGoals.forEach(t=>{e===t.attribute&&(s=!0)}),!1===s&&this.assessment.usabilityGoals.push({attribute:e.attribute,goal:null,done:!1}),s=!1})}}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-goal-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],[1,"solid"],["fullWidth","","nbInput","","placeholder","Describe the goals here","required","true","rows","5","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the goals here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card",0),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3," Goals Section "),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div"),o.Ub(6,"div",1),o.zc(7,Qt,7,3,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.goals.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,a.L,a.vb,u.n,a.O,n.b,n.x,n.p,n.s,a.z],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class Rt{constructor(s){this.assessmentUid=s,this.variables=[],this.scale=null,this.planVariableAnswers=new D.c}}class $t{constructor(s,e,t){this.usabilityAttribute=s,this.variables=e,this.obtainedBy=t}}function Ft(s,e){if(1&s&&o.Pb(0,"nb-icon",10),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Gt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",17),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.variables=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.variables)}}function Lt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",18),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit,n=o.dc(3).$implicit;return o.dc(2).checkUsabilityVariable(e,t.usabilityAttribute,n.key)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3).$implicit,t=o.dc(2);o.jc("checked",t.verifyUsabilityVariableCheck(s.usabilityAttribute,e.key))}}function Wt(s,e){if(1&s&&(o.Ub(0,"div",2),o.zc(1,Gt,1,1,"textarea",15),o.zc(2,Lt,2,1,"nb-checkbox",16),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function Kt(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,Wt,3,2,"div",14),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function Yt(s,e){if(1&s){const s=o.Vb();o.Ub(0,"textarea",20),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc().$implicit.obtainedBy=e})),o.Tb()}if(2&s){const s=o.dc().$implicit;o.jc("ngModel",s.obtainedBy)}}function Ht(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-checkbox",18),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit,n=o.dc(3).$implicit;return o.dc(2).checkUsabilityVariable(e,t.usabilityAttribute,n.key)})),o.Bc(1,"Done "),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(3).$implicit,t=o.dc(2);o.jc("checked",t.verifyUsabilityVariableCheck(s.usabilityAttribute,e.key))}}function Jt(s,e){if(1&s&&(o.Ub(0,"div",2),o.zc(1,Yt,1,1,"textarea",19),o.zc(2,Ht,2,1,"nb-checkbox",16),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute)),o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function Xt(s,e){if(1&s&&(o.Ub(0,"div",1),o.zc(1,Jt,3,2,"div",14),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function Zt(s,e){if(1&s&&(o.Ub(0,"div",11),o.Ub(1,"label",12),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.Tb(),o.zc(5,Kt,2,1,"div",9),o.zc(6,Xt,2,1,"div",9),o.Pb(7,"br"),o.Pb(8,"hr",13),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit;o.Cb(3),o.Cc(s.title),o.Cb(1),o.Cc(s.subTitle),o.Cb(1),o.jc("ngIf","VM-4"===t.key),o.Cb(1),o.jc("ngIf","VM-5"===t.key)}}function sn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",24),o.Ub(1,"nb-checkbox",25),o.bc("checkedChange",(function(t){o.sc(s);const n=e.$implicit,i=e.index;return o.dc(4).scaleSelectionCheckbox(t,n,i)})),o.Ub(2,"nb-action",26),o.Bc(3),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=e.$implicit,t=o.dc(4);o.Cb(1),o.jc("checked",t.verifyScaleStatus(s)),o.Cb(1),o.jc("nbTooltip",s.description),o.Cb(1),o.Ec("",s.name," (",s.acronym," ) ")}}function en(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-card"),o.Ub(2,"nb-card-body",21),o.zc(3,sn,4,4,"div",22),o.Ub(4,"nb-checkbox",23),o.bc("checkedChange",(function(e){return o.sc(s),o.dc(3).checkScalesCheckbox(e)})),o.Bc(5,"Done "),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(3),o.jc("ngForOf",s.usabilityScales),o.Cb(1),o.jc("checked",s.verifyScalesCheckbox())("disabled",s.checkClickable())("nbTooltipTrigger",s.tooltipTrigger)}}function tn(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",5),o.Ub(2,"h4",6),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Ft,1,1,"nb-icon",7),o.Tb(),o.Tb(),o.zc(6,Zt,9,4,"div",8),o.zc(7,en,6,4,"div",9),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions),o.Cb(1),o.jc("ngIf","VM-6"===s.key)}}function nn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"attributes and Measurements Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",1),o.Ub(6,"div",2),o.zc(7,tn,8,4,"div",3),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",4),o.bc("click",(function(){return o.sc(s),o.dc().onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc();o.Cb(7),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.variables.acronym).parentQuestions)}}let an=(()=>{class s{constructor(s,e,t,n){this.assessmentService=s,this.questionService=e,this.toastrService=n,this.isVald=!1,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.usabilityAttributes=B.a.USABILITY_ATRIBUTES,this.categories=B.a.CATEGORIES,this.toast=new T.a(n),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state,this.fillVariableArray()}ngOnInit(){console.log(this.assessment),this.assessmentVariablesDTO=new Rt(this.assessment.uid),this.getUsabilityScales()}getUsabilityScales(){void 0===this.usabilityScales&&this.assessmentService.getScaleList().subscribe(s=>{this.usabilityScales=s,this.dataloaded=Promise.resolve(!0)})}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isEqual(s,e){return s===e}verifyUsabilityVariableCheck(s,e){return"VM-4"===e?"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityAtt===this.planAnswersConstants.answered.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyAtt===this.planAnswersConstants.answered.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt===this.planAnswersConstants.answered.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateAtt===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionAtt===this.planAnswersConstants.answered.name:"LRN"===s?this.assessment.answers.planVariableAnswers.learnabilityMeth===this.planAnswersConstants.answered.name:"EFF"===s?this.assessment.answers.planVariableAnswers.efficiencyMeth===this.planAnswersConstants.answered.name:"USR"===s?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth===this.planAnswersConstants.answered.name:"ERR"===s?this.assessment.answers.planVariableAnswers.errorRateMeth===this.planAnswersConstants.answered.name:this.assessment.answers.planVariableAnswers.satisfactionMeth===this.planAnswersConstants.answered.name}checkUsabilityVariable(s,e,t){"VM-4"===t?"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionAtt=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"LRN"===e?this.assessment.answers.planVariableAnswers.learnabilityMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"EFF"===e?this.assessment.answers.planVariableAnswers.efficiencyMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"USR"===e?this.assessment.answers.planVariableAnswers.userRetentionOverTimeMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"ERR"===e?this.assessment.answers.planVariableAnswers.errorRateMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planVariableAnswers.satisfactionMeth=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name,console.log(this.assessment)}verifyScaleStatus(s){for(const e of this.assessment.scale)if(e.acronym===s.acronym)return!0;return!1}scaleSelectionCheckbox(s,e,t){if(!0===s)this.assessment.scale.push(e);else{const s=this.assessment.scale.map((function(s){return s.uid})).indexOf(e.uid);this.assessment.scale.splice(s,1)}}verifyScalesCheckbox(){return this.assessment.answers.planVariableAnswers.suggestedScales===this.planAnswersConstants.answered.name}checkScalesCheckbox(s){this.assessment.answers.planVariableAnswers.suggestedScales=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}checkClickable(){return 0===this.assessment.scale.length?(this.tooltipTrigger="hint",!0):(this.tooltipTrigger="noop",!1)}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountVariables(),(yield this.assessmentService.updateAssessmentVariableSection(this.assessmentVariablesDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountVariables(){this.assessmentVariablesDTO.scale=this.assessment.scale.map(s=>s.acronym),this.assessmentVariablesDTO.planVariableAnswers=this.assessment.answers.planVariableAnswers,this.assessmentVariablesDTO.variables=this.assessment.attributes.map(s=>new $t(s.usabilityAttribute,s.variables,s.obtainedBy))}fillVariableArray(){if(5!==this.assessment.attributes.length){let s=!1;this.usabilityAttributes.forEach(e=>{this.assessment.attributes.forEach(t=>{e===t.usabilityAttribute&&(s=!0)}),!1===s&&this.assessment.attributes.push({usabilityAttribute:e,variables:null,obtainedBy:null}),s=!1})}}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-variable-section"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"col-lg-12","bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning","style","padding-left: 5px",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12 bottom-margin","style","padding-left: 10px",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",2,"padding-left","5px",3,"nbTooltip"],[1,"container","col-lg-12","bottom-margin",2,"padding-left","10px"],[1,"col-lg-12"],[1,"solid"],["class","col-lg-12 bottom-margin",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describe the attribule attributes here","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["class","padding-right","status","primary","style","padding-left: 20px; padding-top: 10px",3,"checked","checkedChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the attribule attributes here","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","rows","2","shape","round","style","padding-left: 10px",3,"ngModel","ngModelChange",4,"ngIf"],["fullWidth","","nbInput","","placeholder","Describe the methods and criteria here","rows","2","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"form-group"],["class","row",4,"ngFor","ngForOf"],["nbButton","","nbTooltip","It is necessary to choose at least one option.","nbTooltipPlacement","top","nbTooltipStatus","danger","status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","nbTooltipTrigger","checkedChange"],[1,"row"],["status","primary",2,"padding-left","20px",3,"checked","checkedChange"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space",3,"nbTooltip"]],template:function(s,e){1&s&&(o.zc(0,nn,13,1,"nb-card",0),o.ec(1,"async")),2&s&&o.jc("ngIf",o.fc(1,1,e.dataloaded))},directives:[u.n,a.u,a.w,a.t,u.m,a.v,a.r,a.L,a.vb,a.O,n.b,n.p,n.s,a.z,a.m],pipes:[u.b],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class cn{constructor(s,e,t,n,i,a,c,o,r,l){this.assessmentUid=s,this.participantsQuantity=e,this.participationLocalType=t,this.compensationDescription=n,this.criteria=i,this.hasCollectedInformation=a,this.collectedInformationUse=c,this.instructions=o,this.questions=r,this.planParticipantsAnswers=l}}function on(s,e){if(1&s&&o.Pb(0,"nb-icon",10),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function rn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"input",12),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.participantsQuantity=e})),o.Tb(),o.Ub(2,"nb-checkbox",13),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.participant.participantsQuantity),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function ln(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"nb-select",14),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.participationLocalType=e})),o.Ub(2,"nb-option",15),o.Bc(3,"IN PERSON"),o.Tb(),o.Ub(4,"nb-option",16),o.Bc(5,"REMOTE"),o.Tb(),o.Tb(),o.Ub(6,"nb-checkbox",17),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("selected",e.assessment.participant.participationLocalType),o.Cb(5),o.jc("checked",e.verifyParticipantState(s.key))("disabled",e.isNullOrUndefined(e.assessment.participant.participationLocalType))}}function bn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"textarea",18),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.compensationDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",13),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.participant.compensationDescription),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function dn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"textarea",19),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.criteria=e})),o.Tb(),o.Ub(2,"nb-checkbox",13),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.participant.criteria),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function hn(s,e){if(1&s&&(o.Ub(0,"nb-option",23),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function pn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"nb-select",20),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.hasCollectedInformation=e})),o.zc(2,hn,2,2,"nb-option",21),o.Tb(),o.Ub(3,"textarea",22),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.collectedInformationUse=e})),o.Tb(),o.Ub(4,"nb-checkbox",17),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("selected",e.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngModel",e.assessment.participant.collectedInformationUse)("disabled",!e.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))("disabled",e.isNullOrUndefined(e.assessment.participant.hasCollectedInformation))}}function un(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"textarea",24),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.participant.instructions=e})),o.Tb(),o.Ub(2,"nb-checkbox",13),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.participant.instructions),o.Cb(1),o.jc("checked",e.verifyParticipantState(s.key))}}function mn(s,e){if(1&s&&(o.Ub(0,"nb-option",23),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.title),o.Cb(1),o.Cc(s.title)}}function gn(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function fn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",37),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the question?"),o.Tb(),o.Ub(3,"nb-card-footer",38),o.Ub(4,"button",39),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(3).removeQuestion(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",40),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function wn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",32),o.Ub(1,"div",33),o.Pb(2,"textarea",34),o.Ub(3,"nb-icon",35),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(3).open(e)})),o.Tb(),o.zc(4,fn,8,0,"ng-template",null,36,o.Ac),o.Tb(),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function Cn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",11),o.Ub(1,"label"),o.Bc(2,"Select Questions:"),o.Tb(),o.Ub(3,"div",25),o.Ub(4,"nb-select",26),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).newQuestions=e}))("click",(function(){return o.sc(s),o.dc(2).print()})),o.zc(5,mn,2,2,"nb-option",21),o.Tb(),o.Tb(),o.Pb(6,"br"),o.Ub(7,"label"),o.Bc(8,"Selected Questions:"),o.Tb(),o.zc(9,gn,2,0,"label",8),o.Ub(10,"div",27),o.Ub(11,"form",28),o.zc(12,wn,6,1,"section",29),o.Tb(),o.Ub(13,"button",30),o.bc("click",(function(){return o.sc(s),o.dc(2).addQuestion()})),o.Pb(14,"nb-icon",31),o.Bc(15," Add Custom Question "),o.Tb(),o.Ub(16,"nb-checkbox",17),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkParticipantQuestion(e,t.key)})),o.Bc(17,"Done "),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(4),o.jc("ngModel",e.newQuestions),o.Cb(1),o.jc("ngForOf",e.avaliableQuestions),o.Cb(4),o.jc("ngIf",e.hasNoQuestion()),o.Cb(1),o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.questions.controls),o.Cb(4),o.jc("checked",e.verifyParticipantState(s.key))("disabled",e.hasNoQuestion())}}function Tn(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"label",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,on,1,1,"nb-icon",6),o.Tb(),o.Tb(),o.zc(6,rn,4,2,"div",7),o.zc(7,ln,8,3,"div",8),o.zc(8,bn,4,2,"div",7),o.zc(9,dn,4,2,"div",7),o.zc(10,pn,6,6,"div",7),o.zc(11,un,4,2,"div",7),o.zc(12,Cn,18,7,"div",7),o.Pb(13,"br"),o.Pb(14,"hr",9),o.Tb()),2&s){const s=e.$implicit,t=o.dc();o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","PA-7"===s.key),o.Cb(1),o.jc("ngIf","PA-8"===s.key),o.Cb(1),o.jc("ngIf","PA-9"===s.key),o.Cb(1),o.jc("ngIf","PA-10"===s.key),o.Cb(1),o.jc("ngIf","PA-11"===s.key),o.Cb(1),o.jc("ngIf","PA-12"===s.key),o.Cb(1),o.jc("ngIf","PA-13"===s.key)}}let An=(()=>{class s{constructor(s,e,t,n,i,a){this.assessmentService=s,this.questionService=e,this.formBuilder=t,this.dialogService=n,this.toastrService=a,this.isVald=!1,this.newQuestions=[],this.avaliableQuestions=[],this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.selectOptions=B.a.SELECT_OPTIONS,this.participantQuestions=B.a.ATTRIBUTES_QUESTIONS,this.toast=new T.a(a),this.router=i,this.assessment=this.router.getCurrentNavigation().extras.state}get questions(){return this.form.controls.questions}get values(){return this.form.value}ngOnInit(){console.log(this.participantQuestions),this.form=this.formBuilder.group({questions:this.formBuilder.array([])}),0!==this.assessment.participant.questions.length&&this.assessment.participant.questions.map(s=>this.questions.push(this.formBuilder.group({question:[s]}))),this.loadAvaliableQuestions()}open(s){this.dialogService.open(s,{context:"this is some additional data passed to dialog"})}addQuestion(){""!==this.newQuestion().getRawValue()&&this.questions.push(this.newQuestion())}removeQuestion(s){const e=this.form.controls.questions.at(s).value;console.log(e),this.questions.removeAt(s),this.assessment.participant.questions.splice(this.assessment.participant.questions.indexOf(e.question),1)}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isEqual(s,e){return s===e}verifyParticipantState(s){return"PA-7"===s?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===s?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===s?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===s?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===s?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===s?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}checkParticipantQuestion(s,e){"PA-7"===e?this.assessment.answers.planParticipantsAnswers.howManyParticipants=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-8"===e?this.assessment.answers.planParticipantsAnswers.participationType=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-9"===e?this.assessment.answers.planParticipantsAnswers.formCompensation=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-10"===e?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-11"===e?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PA-12"===e?this.assessment.answers.planParticipantsAnswers.participantsInstruction=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planParticipantsAnswers.askedQuestions=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountParticipant(),console.log(this.participantDTO),(yield this.assessmentService.updateAssessmentParticipantSection(this.participantDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountParticipant(){void 0===this.assessment.participant.questions&&(this.assessment.participant.questions=[]),this.questions.getRawValue().forEach(s=>{-1===this.assessment.participant.questions.indexOf(s.question)&&this.assessment.participant.questions.push(s.question)}),void 0===this.newQuestions&&0===this.newQuestions.length||this.newQuestions.forEach(s=>{-1===this.assessment.participant.questions.indexOf(s)&&this.assessment.participant.questions.push(s)}),this.assessment.participant.questions=this.assessment.participant.questions.filter((function(s,e,t){return e===t.indexOf(s)})),console.log(this.assessment.participant.questions),this.participantDTO=new cn(this.assessment.uid,this.assessment.participant.participantsQuantity,this.assessment.participant.participationLocalType,this.assessment.participant.compensationDescription,this.assessment.participant.criteria,this.assessment.participant.hasCollectedInformation,this.assessment.participant.collectedInformationUse,this.assessment.participant.instructions,this.assessment.participant.questions,this.assessment.answers.planParticipantsAnswers)}hasNoQuestion(){return 0===this.questions.getRawValue().map(s=>s.question).length||0===this.assessment.participant.questions.length||1===this.questions.getRawValue().map(s=>s.question).length&&""===this.questions.getRawValue().map(s=>s.question)[0]}newQuestion(){return this.formBuilder.group({question:[""]})}print(){console.log(this.assessment.participant.questions)}loadAvaliableQuestions(){console.log(this.assessment.usabilityGoals),this.participantQuestions.forEach(s=>{this.assessment.usabilityGoals.forEach(e=>{e.attribute===s.objectKey&&null!==e.goal&&""!==e.goal&&this.avaliableQuestions.push(s)})})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(n.d),o.Ob(a.J),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-participant-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],[4,"ngIf"],[1,"solid"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"bottom-margin-light"],["fullWidth","","nbInput","","placeholder","Enter the quantity","required","true","type","number",1,"col-lg-3",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],["value","P"],["value","R"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","disabled","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe the compesations here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe the eligibility criteria here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["placeholder","Not Selected",1,"bottom-margin-light",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],["fullWidth","","nbInput","","placeholder","Describes data usage here","shape","round",2,"padding-left","10px",3,"ngModel","disabled","ngModelChange"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describes instructions here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12"],["multiple","","placeholder","Multiple Select","size","giant",1,"col-lg-12",3,"ngModel","ngModelChange","click"],[3,"formGroup"],["formArrayName","questions",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","question","fullWidth","","id","input-edit-question","name","question","nbInput","","placeholder","New question","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteQuestionDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Participant Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",0),o.Ub(6,"div",1),o.zc(7,Tn,15,9,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.participants.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.L,a.vb,a.O,n.u,n.b,n.x,n.p,n.s,a.z,a.jb,a.cb,n.q,n.h,n.B,n.r,n.c,n.i,n.g],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class yn{constructor(s,e,t,n,i){this.assessmentUid=s,this.tools=e,this.toolsUsageDescription=t,this.taskDTOS=n,this.planTasksAnswers=i}}function Un(s,e){if(1&s&&o.Pb(0,"nb-icon",9),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function vn(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function kn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",24),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the tool?"),o.Tb(),o.Ub(3,"nb-card-footer",25),o.Ub(4,"button",26),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(3).removeTool(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",27),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Pn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",19),o.Ub(1,"div",20),o.Pb(2,"textarea",21),o.Ub(3,"nb-icon",22),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(3).open(e)})),o.Tb(),o.zc(4,kn,8,0,"ng-template",null,23,o.Ac),o.Tb(),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function On(s,e){if(1&s){const s=o.Vb();o.Ub(0,"span"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",28),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentTools.toolsUsageDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(3),o.jc("ngModel",s.assessment.assessmentTools.toolsUsageDescription)}}function jn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",10),o.Ub(1,"nb-card",11),o.Ub(2,"nb-card-body",12),o.zc(3,vn,2,0,"label",13),o.Ub(4,"form",14),o.zc(5,Pn,6,1,"section",15),o.Tb(),o.Ub(6,"button",16),o.bc("click",(function(){return o.sc(s),o.dc(2).addTools()})),o.Pb(7,"nb-icon",17),o.Bc(8," Add Tool "),o.Tb(),o.Tb(),o.Tb(),o.zc(9,On,4,1,"span",13),o.Ub(10,"nb-checkbox",18),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkMaterial(e,t.key)})),o.Bc(11,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("formGroup",e.form),o.Cb(2),o.jc("ngIf",!e.checkIfToolsIsNotEmpty()),o.Cb(2),o.jc("ngForOf",e.tools.controls),o.Cb(4),o.jc("ngIf",e.checkIfToolsIsNotEmpty()),o.Cb(1),o.jc("checked",e.verifyMaterialsCheckState(s.key))}}function Mn(s,e){1&s&&(o.Ub(0,"label"),o.Bc(1,"N/A"),o.Tb())}function xn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",24),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the task?"),o.Tb(),o.Ub(3,"nb-card-footer",25),o.Ub(4,"button",26),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc(2).index;return o.dc(3).removeTask(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",27),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Bn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",20),o.Pb(1,"textarea",33),o.Ub(2,"nb-icon",22),o.bc("click",(function(){o.sc(s);const e=o.qc(4);return o.dc(4).open(e)})),o.Tb(),o.zc(3,xn,8,0,"ng-template",null,34,o.Ac),o.Tb()}}function Sn(s,e){if(1&s&&(o.Ub(0,"div",35),o.Ub(1,"label"),o.Bc(2),o.Tb(),o.Pb(3,"input",36),o.Tb()),2&s){const s=o.dc().index,e=o.dc(3);o.Cb(2),o.Ec("",s+1,". ",e.getTaskDescription(s),"")}}function In(s,e){if(1&s&&(o.Ub(0,"div",35),o.Ub(1,"label"),o.Bc(2),o.Tb(),o.Pb(3,"input",37),o.Tb()),2&s){const s=o.dc().index,e=o.dc(3);o.Cb(2),o.Ec("",s+1,". ",e.getTaskDescription(s),"")}}function Dn(s,e){if(1&s&&(o.Ub(0,"section",19),o.zc(1,Bn,5,0,"div",31),o.zc(2,Sn,4,2,"div",32),o.zc(3,In,4,2,"div",32),o.Tb()),2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(1),o.jc("ngIf","TM-15"===t.key),o.Cb(1),o.jc("ngIf","TM-16"===t.key),o.Cb(1),o.jc("ngIf","TM-17"===t.key)}}function Nn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"button",16),o.bc("click",(function(){return o.sc(s),o.dc(3).addTasks()})),o.Pb(1,"nb-icon",17),o.Bc(2," Add Task "),o.Tb()}}function zn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",10),o.Ub(1,"nb-card",11),o.Ub(2,"nb-card-body",12),o.zc(3,Mn,2,0,"label",13),o.Ub(4,"form",29),o.zc(5,Dn,4,4,"section",15),o.Tb(),o.zc(6,Nn,3,0,"button",30),o.Tb(),o.Tb(),o.Ub(7,"nb-checkbox",18),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkMaterial(e,t.key)})),o.Bc(8,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("formGroup",e.form),o.Cb(2),o.jc("ngIf",!e.checkIfTasksIsNotEmpty()),o.Cb(2),o.jc("ngForOf",e.tasks.controls),o.Cb(1),o.jc("ngIf","TM-15"===s.key),o.Cb(1),o.jc("checked",e.verifyMaterialsCheckState(s.key))}}function qn(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"label",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Un,1,1,"nb-icon",6),o.Tb(),o.Tb(),o.zc(6,jn,12,5,"div",7),o.zc(7,zn,9,5,"div",7),o.Pb(8,"br"),o.Pb(9,"hr",8),o.Tb()),2&s){const s=e.$implicit,t=o.dc();o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","TM-14"===s.key),o.Cb(1),o.jc("ngIf","TM-15"===s.key||"TM-16"===s.key||"TM-17"===s.key)}}let En=(()=>{class s{constructor(s,e,t,n,i,a){this.assessmentService=s,this.questionService=e,this.formBuilder=t,this.dialogService=n,this.toastrService=a,this.isVald=!1,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.selectOptions=B.a.SELECT_OPTIONS,this.toast=new T.a(a),this.router=i,this.assessment=this.router.getCurrentNavigation().extras.state}get tools(){return this.form.controls.tools}get tasks(){return this.form.controls.tasks}ngOnInit(){this.form=this.formBuilder.group({tools:this.formBuilder.array([]),tasks:this.formBuilder.array([])}),0!==this.assessment.assessmentTools.tools.length&&this.assessment.assessmentTools.tools.map(s=>this.tools.push(this.formBuilder.group({tool:[s]}))),0!==this.assessment.assessmentTools.tasks.length&&this.assessment.assessmentTools.tasks.map(s=>this.tasks.push(this.formBuilder.group({description:[s.description],taskExecutionTime:[s.taskExecutionTime],acceptanceCriteria:[s.acceptanceCriteria]})))}addTools(){""!==this.newTool().getRawValue()&&this.tools.push(this.newTool())}removeTool(s){this.tools.removeAt(s)}addTasks(){""!==this.newTask().getRawValue()&&this.tasks.push(this.newTask())}removeTask(s){this.tasks.removeAt(s)}open(s){this.dialogService.open(s,{context:"this is some additional data passed to dialog"})}checkIfToolsIsNotEmpty(){return 0!==this.tools.getRawValue().map(s=>s.tools).length}checkIfTasksIsNotEmpty(){return 0!==this.tasks.getRawValue().map(s=>s.tasks).length}getTaskDescription(s){return this.tasks.getRawValue()[s].description}verifyMaterialsCheckState(s){return"TM-14"===s?this.assessment.answers.planTasksAnswers.usedTools===this.planAnswersConstants.answered.name:"TM-15"===s?this.assessment.answers.planTasksAnswers.tasksToPerform===this.planAnswersConstants.answered.name:"TM-16"===s?this.assessment.answers.planTasksAnswers.tasksTime===this.planAnswersConstants.answered.name:this.assessment.answers.planTasksAnswers.criteria===this.planAnswersConstants.answered.name}checkMaterial(s,e){"TM-14"===e?this.assessment.answers.planTasksAnswers.usedTools=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-15"===e?this.assessment.answers.planTasksAnswers.tasksToPerform=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TM-16"===e?this.assessment.answers.planTasksAnswers.tasksTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planTasksAnswers.criteria=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isEqual(s,e){return s===e}verifyParticipantState(s){return"PA-7"===s?this.assessment.answers.planParticipantsAnswers.howManyParticipants===this.planAnswersConstants.answered.name:"PA-8"===s?this.assessment.answers.planParticipantsAnswers.participationType===this.planAnswersConstants.answered.name:"PA-9"===s?this.assessment.answers.planParticipantsAnswers.formCompensation===this.planAnswersConstants.answered.name:"PA-10"===s?this.assessment.answers.planParticipantsAnswers.eligibilityCriteria===this.planAnswersConstants.answered.name:"PA-11"===s?this.assessment.answers.planParticipantsAnswers.demographicQuestionnaire===this.planAnswersConstants.answered.name:"PA-12"===s?this.assessment.answers.planParticipantsAnswers.participantsInstruction===this.planAnswersConstants.answered.name:this.assessment.answers.planParticipantsAnswers.askedQuestions===this.planAnswersConstants.answered.name}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountTools(),console.log(this.assessmentToolsDTO),(yield this.assessmentService.updateAssessmentToolsSection(this.assessmentToolsDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountTools(){console.log(this.assessment),console.log(this.assessment.assessmentTools),this.assessmentToolsDTO=new yn(this.assessment.uid,this.tools.getRawValue().map(s=>s.tool),this.assessment.assessmentTools.toolsUsageDescription,this.tasks.getRawValue().map(s=>s),this.assessment.answers.planTasksAnswers),console.log(this.assessmentToolsDTO)}newTool(){return this.formBuilder.group({tool:[""]})}newTask(){return this.formBuilder.group({description:[""],taskExecutionTime:[""],acceptanceCriteria:[""]})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(n.d),o.Ob(a.J),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-task-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","bottom-margin-light",4,"ngIf"],[1,"solid"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"bottom-margin-light"],[3,"formGroup"],[1,"row"],[4,"ngIf"],["formArrayName","tools",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",1,"top-margin",3,"click"],["icon","plus-circle-outline"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[3,"formGroupName"],[1,"row","col-lg-8"],["formControlName","tool","fullWidth","","id","input-edit-tool","name","tool","nbInput","","placeholder","New instruments, materials, technology, or tool","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteToolDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["fullWidth","","nbInput","","placeholder","Describe their usage here","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["formArrayName","tasks",1,"container","mt-3"],["class","top-margin","ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click",4,"ngIf"],["class","row col-lg-8",4,"ngIf"],["class","row col-lg-12",4,"ngIf"],["formControlName","description","fullWidth","","id","input-task-description","name","task-description","nbInput","","placeholder","Describe the task","shape","round",1,"display-next"],["deleteTaskDialog",""],[1,"row","col-lg-12"],["formControlName","taskExecutionTime","fullWidth","","id","input-task-execution","name","task-execution","nbInput","","placeholder","Insert the task execution time (in minutes)",1,"display-next"],["formControlName","acceptanceCriteria","fullWidth","","id","input-edit-task-acceptance-criteria","name","task-acceptance-criteria","nbInput","","placeholder","Insert the task acceptance criteria",1,"display-next"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Tasks and Materials Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",0),o.Ub(6,"div",1),o.zc(7,qn,10,4,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.tasks.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.L,a.vb,n.q,n.h,n.B,n.r,n.c,a.z,n.i,n.b,a.O,n.p,n.g,n.s],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class Vn{constructor(s,e,t,n,i,a,c,o,r,l){this.assessmentUid=s,this.occurDate=e,this.occurLocal=t,this.occurDetail=n,this.occurTime=i,this.assessmentProcedureStepDTOS=a,this.isPilotAssessment=c,this.pilotDescription=o,this.questionsAllowed=r,this.planProcedureAnswers=l}}function Qn(s,e){if(1&s&&o.Pb(0,"nb-icon",11),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function _n(s,e){if(1&s&&o.Pb(0,"nb-icon",11),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function Rn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"input",16),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.occurDate=e})),o.Tb(),o.Pb(2,"nb-datepicker",17,18),o.Ub(4,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.qc(3),e=o.dc().$implicit,t=o.dc(2);o.Cb(1),o.jc("ngModel",t.assessment.assessmentProcedure.occurDate)("nbDatepicker",s),o.Cb(3),o.jc("checked",t.verifyProcedureState(e.key))}}function $n(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",20),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.occurLocal=e})),o.Tb(),o.Ub(2,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurLocal),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function Fn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",21),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.occurDetail=e})),o.Tb(),o.Ub(2,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurDetail),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function Gn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",22),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.occurTime=e})),o.Tb(),o.Ub(2,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkProcedureQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.occurTime),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function Ln(s,e){if(1&s&&(o.Ub(0,"div",12),o.Ub(1,"label",13),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.zc(5,_n,1,1,"nb-icon",6),o.Tb(),o.zc(6,Rn,6,3,"div",14),o.zc(7,$n,4,2,"div",14),o.zc(8,Fn,4,2,"div",14),o.zc(9,Gn,4,2,"div",14),o.Pb(10,"br"),o.Pb(11,"hr",15),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Dc("",s.subTitle," "),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","PR-18-1"===s.key),o.Cb(1),o.jc("ngIf","PR-18-2"===s.key),o.Cb(1),o.jc("ngIf","PR-18-3"===s.key),o.Cb(1),o.jc("ngIf","PR-18-4"===s.key)}}function Wn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",34),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the step?"),o.Tb(),o.Ub(3,"nb-card-footer",35),o.Ub(4,"button",36),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(3).removeSteps(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",37),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Kn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",28),o.Ub(1,"div",29),o.Ub(2,"label"),o.Bc(3,"Step Title:"),o.Tb(),o.Pb(4,"textarea",30),o.Ub(5,"label"),o.Bc(6,"Step Description:"),o.Tb(),o.Pb(7,"textarea",31),o.Ub(8,"nb-icon",32),o.bc("click",(function(){o.sc(s);const e=o.qc(10);return o.dc(3).open(e)})),o.Tb(),o.zc(9,Wn,8,0,"ng-template",null,33,o.Ac),o.Tb(),o.Pb(11,"hr",15),o.Tb()}2&s&&o.jc("formGroupName",e.index)}function Yn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",23),o.Ub(1,"form",24),o.zc(2,Kn,12,1,"section",25),o.Tb(),o.Ub(3,"button",26),o.bc("click",(function(){return o.sc(s),o.dc(2).addSteps()})),o.Pb(4,"nb-icon",27),o.Bc(5," Add Step "),o.Tb(),o.Ub(6,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkProcedureQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.steps.controls),o.Cb(4),o.jc("checked",e.verifyProcedureState(s.key))}}function Hn(s,e){if(1&s&&(o.Ub(0,"nb-option",40),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Cc(s.label)}}function Jn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-select",38),o.bc("selectedChange",(function(e){return o.sc(s),o.dc(2).assessment.assessmentProcedure.questionsAllowed=e})),o.zc(2,Hn,2,2,"nb-option",39),o.Tb(),o.Ub(3,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkProcedureQuestion(e,t.key)})),o.Bc(4,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("selected",e.assessment.assessmentProcedure.questionsAllowed),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function Xn(s,e){if(1&s&&(o.Ub(0,"nb-radio",40),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function Zn(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",42),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentProcedure.pilotDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(3),o.jc("ngModel",s.assessment.assessmentProcedure.pilotDescription)("hidden",!s.assessment.assessmentProcedure.isPilotAssessment)}}function si(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-radio-group",41),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.assessmentProcedure.isPilotAssessment=e})),o.zc(2,Xn,2,2,"nb-radio",39),o.Tb(),o.zc(3,Zn,4,2,"div",14),o.Ub(4,"nb-checkbox",19),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkProcedureQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.assessmentProcedure.isPilotAssessment),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentProcedure.isPilotAssessment)),o.Cb(1),o.jc("checked",e.verifyProcedureState(s.key))}}function ei(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"h4",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,Qn,1,1,"nb-icon",6),o.Tb(),o.Tb(),o.zc(6,Ln,12,7,"div",7),o.Ub(7,"div",8),o.zc(8,Yn,8,3,"div",9),o.zc(9,Jn,5,3,"div",10),o.zc(10,si,6,4,"div",10),o.Tb(),o.Tb()),2&s){const s=e.$implicit,t=o.dc();o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions),o.Cb(2),o.jc("ngIf","PR-19"===s.key),o.Cb(1),o.jc("ngIf","PR-20"===s.key),o.Cb(1),o.jc("ngIf","PR-21"===s.key)}}let ti=(()=>{class s{constructor(s,e,t,n,i,a){this.assessmentService=s,this.questionService=e,this.formBuilder=t,this.dialogService=n,this.toastrService=a,this.isVald=!1,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.smartCityCategories=B.a.SMART_CITY_CATEGORY,this.selectOptions=B.a.SELECT_OPTIONS,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.toast=new T.a(a),this.router=i,this.assessment=this.router.getCurrentNavigation().extras.state}get steps(){return this.form.controls.steps}ngOnInit(){this.form=this.formBuilder.group({steps:this.formBuilder.array([])}),0!==this.assessment.assessmentProcedure.assessmentProcedureSteps.length&&this.assessment.assessmentProcedure.assessmentProcedureSteps.map(s=>this.steps.push(this.formBuilder.group({name:[s.name],description:[s.description]}))),this.atualDate=this.assessment.assessmentProcedure.occurDate}getApplicationAcronym(){return this.categories.application.acronym}validateDate(){return this.atualDate===this.assessment.assessmentProcedure.occurDate||(this.atualDate=this.assessment.assessmentProcedure.occurDate,!1)}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isNullOrUndefinedOrFalse(s){return!1===s||null==s}isNull(s){return null===s}open(s){this.dialogService.open(s,{context:"this is some additional data passed to dialog"})}verifyProcedureState(s){return"PR-18-1"===s?this.assessment.answers.planProcedureAnswers.whenOccur===this.planAnswersConstants.answered.name:"PR-18-2"===s?this.assessment.answers.planProcedureAnswers.whereOccur===this.planAnswersConstants.answered.name:"PR-18-3"===s?this.assessment.answers.planProcedureAnswers.howOccur===this.planAnswersConstants.answered.name:"PR-18-4"===s?this.assessment.answers.planProcedureAnswers.howMuchTime===this.planAnswersConstants.answered.name:"PR-19"===s?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps===this.planAnswersConstants.answered.name:"PR-20"===s?this.assessment.answers.planProcedureAnswers.questionsAllowed===this.planAnswersConstants.answered.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment===this.planAnswersConstants.answered.name}checkProcedureQuestion(s,e){"PR-18-1"===e?this.assessment.answers.planProcedureAnswers.whenOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-2"===e?this.assessment.answers.planProcedureAnswers.whereOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-3"===e?this.assessment.answers.planProcedureAnswers.howOccur=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-18-4"===e?this.assessment.answers.planProcedureAnswers.howMuchTime=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-19"===e?this.assessment.answers.planProcedureAnswers.assessmentProcedureSteps=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"PR-20"===e?this.assessment.answers.planProcedureAnswers.questionsAllowed=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planProcedureAnswers.isPilotAssessment=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}addSteps(){""!==this.newStep().getRawValue()&&this.steps.push(this.newStep())}removeSteps(s){this.steps.removeAt(s)}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountProcedure(),(yield this.assessmentService.updateAssessmentProcedureSection(this.assessmentProcedureDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountProcedure(){this.assessmentProcedureDTO=new Vn(this.assessment.uid,this.validateDate()?this.assessment.assessmentProcedure.occurDate.toString():Object(S.a)(this.assessment.assessmentProcedure.occurDate,"yyyy-MM-dd"),this.assessment.assessmentProcedure.occurLocal,this.assessment.assessmentProcedure.occurDetail,this.assessment.assessmentProcedure.occurTime,this.steps.getRawValue().map(s=>s),this.assessment.assessmentProcedure.isPilotAssessment,this.assessment.assessmentProcedure.pilotDescription,this.assessment.assessmentProcedure.questionsAllowed,this.assessment.answers.planProcedureAnswers),console.log(this.assessmentProcedureDTO)}newStep(){return this.formBuilder.group({name:[""],description:[""]})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(n.d),o.Ob(a.J),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-procedure-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],[4,"ngIf"],[1,"solid"],["nbInput","","placeholder","Pick Date",3,"ngModel","nbDatepicker","ngModelChange"],["format","yyyy-MM-dd"],["dateTimePicker",""],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe where it will take place here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how it will occur here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how long it will take here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","steps",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["icon","plus-circle-outline"],[3,"formGroupName"],[1,"row","col-lg-12"],["formControlName","name","fullWidth","","id","input-edit-step-name","name","step-name","nbInput","","placeholder","Step title","shape","round",1,"display-next",2,"margin-bottom","10px"],["formControlName","description","fullWidth","","id","input-edit-step-description","name","step-description","nbInput","","placeholder","Step description","shape","round",1,"display-next"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteStepDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["placeholder","Not Selected",2,"padding-left","10px",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Procedure Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",0),o.Ub(6,"div",1),o.zc(7,ei,11,6,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.procedure.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.L,a.vb,a.O,n.b,a.F,n.p,n.s,a.E,a.z,n.x,n.q,n.h,n.B,n.r,n.c,n.i,n.g,a.jb,a.cb,a.gb,a.fb],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class ni{constructor(s,e,t,n,i,a){this.assessmentUid=s,this.dataCollectionProcedure=e,this.analysisDescription=t,this.statisticalMethods=n,this.statisticalMethodsDescription=i,this.planDataAnswers=a}}function ii(s,e){if(1&s&&o.Pb(0,"nb-icon",10),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function ai(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",11),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.assessmentData.dataCollectionProcedure=e})),o.Tb(),o.Ub(2,"nb-checkbox",12),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkDataQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.assessmentData.dataCollectionProcedure),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function ci(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",13),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.assessmentData.analysisDescription=e})),o.Tb(),o.Ub(4,"nb-checkbox",12),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkDataQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(3),o.jc("ngModel",e.assessment.assessmentData.analysisDescription),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function oi(s,e){if(1&s&&(o.Ub(0,"nb-radio",16),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function ri(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",17),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentData.statisticalMethodsDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(3);o.Cb(3),o.jc("ngModel",s.assessment.assessmentData.statisticalMethodsDescription)("hidden",!s.assessment.assessmentData.statisticalMethods)}}function li(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-radio-group",14),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(2).assessment.assessmentData.statisticalMethods=e})),o.zc(2,oi,2,2,"nb-radio",15),o.Tb(),o.zc(3,ri,4,2,"div",8),o.Ub(4,"nb-checkbox",12),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc().checkDataQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc();o.Cb(1),o.jc("ngModel",e.assessment.assessmentData.statisticalMethods),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentData.statisticalMethods)),o.Cb(1),o.jc("checked",e.verifyDataState(s.key))}}function bi(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"h4",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,ii,1,1,"nb-icon",6),o.Tb(),o.Tb(),o.Ub(6,"div",7),o.zc(7,ai,4,2,"div",8),o.zc(8,ci,6,2,"div",8),o.zc(9,li,6,4,"div",9),o.Tb(),o.Tb()),2&s){const s=e.$implicit,t=o.dc();o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(2),o.jc("ngIf","DT-22"===s.key),o.Cb(1),o.jc("ngIf","DT-23"===s.key),o.Cb(1),o.jc("ngIf","DT-24"===s.key)}}let di=(()=>{class s{constructor(s,e,t,n){this.assessmentService=s,this.questionService=e,this.toastrService=n,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.toast=new T.a(n),this.router=t,this.assessment=this.router.getCurrentNavigation().extras.state}ngOnInit(){}getApplicationAcronym(){return this.categories.application.acronym}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isNull(s){return null===s}isNullOrUndefinedOrFalse(s){return!1===s||null==s}isNullOrUndefinedOrTrue(s){return!0===s||null==s}verifyDataState(s){return"DT-22"===s?this.assessment.answers.planDataAnswers.dataCollectionProcedure===this.planAnswersConstants.answered.name:"DT-23"===s?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed===this.planAnswersConstants.answered.name:this.assessment.answers.planDataAnswers.statisticalMethods===this.planAnswersConstants.answered.name}checkDataQuestion(s,e){"DT-22"===e?this.assessment.answers.planDataAnswers.dataCollectionProcedure=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"DT-23"===e?this.assessment.answers.planDataAnswers.dataCollectedAnalyzed=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planDataAnswers.statisticalMethods=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountData(),(yield this.assessmentService.updateAssessmentDataSection(this.assessmentDataDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountData(){this.assessmentDataDTO=new ni(this.assessment.uid,this.assessment.assessmentData.dataCollectionProcedure,this.assessment.assessmentData.analysisDescription,this.assessment.assessmentData.statisticalMethods,this.assessment.assessmentData.statisticalMethodsDescription,this.assessment.answers.planDataAnswers)}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-data-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],[1,"container","col-lg-12"],[4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],["fullWidth","","nbInput","","placeholder","Describe the data collection procedure here","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],["fullWidth","","nbInput","","placeholder","Describe how it will be analyzed here","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","ngModelChange"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fullWidth","","nbInput","","placeholder","Describe how will be conducted here","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","ngModelChange"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Data collection and Data analysis Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",0),o.Ub(6,"div",1),o.zc(7,bi,10,5,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.data.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.L,a.vb,a.O,n.b,n.p,n.s,a.z,a.gb,a.fb,n.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class hi{constructor(s,e,t,n,i,a,c,o){this.assessmentUid=s,this.threats=e,this.controlMeasure=t,this.limitations=n,this.ethicalAspectsDefined=i,this.ethicalAspectsDescription=a,this.biasDescription=c,this.planThreatsAnswers=o}}function pi(s,e){if(1&s&&o.Pb(0,"nb-icon",9),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function ui(s,e){if(1&s&&o.Pb(0,"nb-icon",9),2&s){const s=o.dc().$implicit;o.jc("nbTooltip",s.instruction)}}function mi(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",27),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the threat?"),o.Tb(),o.Ub(3,"nb-card-footer",28),o.Ub(4,"button",29),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(4).removeThreat(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",30),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function gi(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",22),o.Ub(1,"div",23),o.Pb(2,"textarea",24),o.Ub(3,"nb-icon",25),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(4).open(e)})),o.Tb(),o.zc(4,mi,8,0,"ng-template",null,26,o.Ac),o.Tb(),o.Pb(6,"hr",15),o.Tb()}if(2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(2),o.jc("placeholder",t.placeholder)}}function fi(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",16),o.Ub(1,"form",17),o.zc(2,gi,7,2,"section",18),o.Tb(),o.Ub(3,"button",19),o.bc("click",(function(){return o.sc(s),o.dc(3).addThreats()})),o.Pb(4,"nb-icon",20),o.Bc(5," Add Threat "),o.Tb(),o.Ub(6,"nb-checkbox",21),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkThreatQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.threats.controls),o.Cb(4),o.jc("checked",e.verifyThreatState(s.key))}}function wi(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",31),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentThreat.controlMeasure=e})),o.Tb(),o.Ub(2,"nb-checkbox",21),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkThreatQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.controlMeasure)("placeholder",s.placeholder),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function Ci(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",27),o.Ub(1,"nb-card-body"),o.Bc(2,"Do you really want to remove the threat?"),o.Tb(),o.Ub(3,"nb-card-footer",28),o.Ub(4,"button",29),o.bc("click",(function(){o.sc(s);const t=e.dialogRef,n=o.dc().index;return o.dc(4).removeLimitation(n),t.close()})),o.Bc(5,"YES "),o.Tb(),o.Ub(6,"button",30),o.bc("click",(function(){return e.dialogRef.close()})),o.Bc(7,"NO "),o.Tb(),o.Tb(),o.Tb()}}function Ti(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",22),o.Ub(1,"div",23),o.Pb(2,"textarea",33),o.Ub(3,"nb-icon",25),o.bc("click",(function(){o.sc(s);const e=o.qc(5);return o.dc(4).open(e)})),o.Tb(),o.zc(4,Ci,8,0,"ng-template",null,26,o.Ac),o.Tb(),o.Pb(6,"hr",15),o.Tb()}if(2&s){const s=e.index,t=o.dc(2).$implicit;o.jc("formGroupName",s),o.Cb(2),o.jc("placeholder",t.placeholder)}}function Ai(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",16),o.Ub(1,"form",32),o.zc(2,Ti,7,2,"section",18),o.Tb(),o.Ub(3,"button",19),o.bc("click",(function(){return o.sc(s),o.dc(3).addLimitation()})),o.Pb(4,"nb-icon",20),o.Bc(5," Add Limitation "),o.Tb(),o.Ub(6,"nb-checkbox",21),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkThreatQuestion(e,t.key)})),o.Bc(7,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.jc("formGroup",e.form),o.Cb(2),o.jc("ngForOf",e.limitations.controls),o.Cb(4),o.jc("checked",e.verifyThreatState(s.key))}}function yi(s,e){if(1&s&&(o.Ub(0,"nb-radio",36),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.jc("value",s.value),o.Cb(1),o.Dc(" ",s.label," ")}}function Ui(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"label"),o.Bc(2,"Description:"),o.Tb(),o.Ub(3,"textarea",37),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(4).assessment.assessmentThreat.ethicalAspectsDescription=e})),o.Tb(),o.Tb()}if(2&s){const s=o.dc(2).$implicit,e=o.dc(2);o.Cb(3),o.jc("ngModel",e.assessment.assessmentThreat.ethicalAspectsDescription)("hidden",!e.assessment.assessmentThreat.ethicalAspectsDefined)("placeholder",s.placeholder)}}function vi(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"nb-radio-group",34),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentThreat.ethicalAspectsDefined=e})),o.zc(2,yi,2,2,"nb-radio",35),o.Tb(),o.zc(3,Ui,4,3,"div",13),o.Ub(4,"nb-checkbox",21),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkThreatQuestion(e,t.key)})),o.Bc(5,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.ethicalAspectsDefined),o.Cb(1),o.jc("ngForOf",e.genericSelectOptions.options),o.Cb(1),o.jc("ngIf",!e.isNullOrUndefinedOrFalse(e.assessment.assessmentThreat.ethicalAspectsDefined)),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function ki(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div"),o.Ub(1,"textarea",31),o.bc("ngModelChange",(function(e){return o.sc(s),o.dc(3).assessment.assessmentThreat.biasDescription=e})),o.Tb(),o.Ub(2,"nb-checkbox",21),o.bc("checkedChange",(function(e){o.sc(s);const t=o.dc().$implicit;return o.dc(2).checkThreatQuestion(e,t.key)})),o.Bc(3,"Done "),o.Tb(),o.Tb()}if(2&s){const s=o.dc().$implicit,e=o.dc(2);o.Cb(1),o.jc("ngModel",e.assessment.assessmentThreat.biasDescription)("placeholder",s.placeholder),o.Cb(1),o.jc("checked",e.verifyThreatState(s.key))}}function Pi(s,e){if(1&s&&(o.Ub(0,"div",10),o.Ub(1,"label",11),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.zc(5,ui,1,1,"nb-icon",6),o.Tb(),o.zc(6,fi,8,3,"div",12),o.zc(7,wi,4,3,"div",13),o.zc(8,Ai,8,3,"div",12),o.zc(9,vi,6,4,"div",14),o.zc(10,ki,4,3,"div",13),o.Pb(11,"br"),o.Pb(12,"hr",15),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2);o.Cb(3),o.Cc(s.title),o.Cb(1),o.Dc("",s.subTitle," "),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngIf","TH-25-1"===s.key),o.Cb(1),o.jc("ngIf","TH-25-2"===s.key),o.Cb(1),o.jc("ngIf","TH-25-3"===s.key),o.Cb(1),o.jc("ngIf","TH-25-4"===s.key),o.Cb(1),o.jc("ngIf","TH-25-5"===s.key)}}function Oi(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",4),o.Ub(2,"h4",5),o.Ub(3,"b"),o.Bc(4),o.Tb(),o.zc(5,pi,1,1,"nb-icon",6),o.Tb(),o.Tb(),o.zc(6,Pi,13,8,"div",7),o.Pb(7,"div",8),o.Tb()),2&s){const s=e.$implicit,t=o.dc();o.Cb(4),o.Cc(s.title),o.Cb(1),o.jc("ngIf",!t.isNullOrUndefined(s.instruction)),o.Cb(1),o.jc("ngForOf",s.questions)}}let ji=(()=>{class s{constructor(s,e,t,n,i,a){this.assessmentService=s,this.questionService=e,this.formBuilder=t,this.dialogService=n,this.toastrService=a,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.categories=B.a.CATEGORIES,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.toast=new T.a(a),this.router=i,this.assessment=this.router.getCurrentNavigation().extras.state}get threats(){return this.form.controls.threats}get limitations(){return this.form.controls.limitations}ngOnInit(){this.form=this.formBuilder.group({threats:this.formBuilder.array([]),limitations:this.formBuilder.array([])}),0!==this.assessment.assessmentThreat.threats.length&&this.assessment.assessmentThreat.threats.map(s=>this.threats.push(this.formBuilder.group({threat:[s]}))),0!==this.assessment.assessmentThreat.limitations.length&&this.assessment.assessmentThreat.limitations.map(s=>this.limitations.push(this.formBuilder.group({limitation:[s]})))}addThreats(){""!==this.newThreat().getRawValue()&&this.threats.push(this.newThreat())}removeThreat(s){this.threats.removeAt(s)}addLimitation(){""!==this.newLimitation().getRawValue()&&this.limitations.push(this.newLimitation())}removeLimitation(s){this.limitations.removeAt(s)}isNullOrUndefinedOrFalse(s){return!1===s||null==s}verifyThreatState(s){return"TH-25-1"===s?this.assessment.answers.planThreatsAnswers.whatThreats===this.planAnswersConstants.answered.name:"TH-25-2"===s?this.assessment.answers.planThreatsAnswers.threatsValidityControlled===this.planAnswersConstants.answered.name:"TH-25-3"===s?this.assessment.answers.planThreatsAnswers.assessmentLimitations===this.planAnswersConstants.answered.name:"TH-25-4"===s?this.assessment.answers.planThreatsAnswers.ethicalAspects===this.planAnswersConstants.answered.name:this.assessment.answers.planThreatsAnswers.assessmentBiases===this.planAnswersConstants.answered.name}checkThreatQuestion(s,e){"TH-25-1"===e?this.assessment.answers.planThreatsAnswers.whatThreats=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-2"===e?this.assessment.answers.planThreatsAnswers.threatsValidityControlled=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-3"===e?this.assessment.answers.planThreatsAnswers.assessmentLimitations=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:"TH-25-4"===e?this.assessment.answers.planThreatsAnswers.ethicalAspects=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name:this.assessment.answers.planThreatsAnswers.assessmentBiases=!0===s?this.planAnswersConstants.answered.name:this.planAnswersConstants.pending.name}open(s){this.dialogService.open(s,{context:"this is some additional data passed to dialog"})}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}isNullOrUndefined(s){return null==s}isEqual(s,e){return s===e}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){this.mountThreats(),(yield this.assessmentService.updateAssessmentThreatsSection(this.assessmentThreatDTO)).subscribe(s=>{this.toast.showToast("update","top-right","success","Assessment"),this.assessment=s;const e=new N(this.assessment.uid,this.assessment.projectName);this.router.navigate(["/pages/assessment/my-plans/edit"],{state:e})},()=>{this.toast.showToast("update","top-right","danger","Assessment")})}))}mountThreats(){this.assessmentThreatDTO=new hi(this.assessment.uid,this.threats.getRawValue().map(s=>s.threat),this.assessment.assessmentThreat.controlMeasure,this.limitations.getRawValue().map(s=>s.limitation),this.assessment.assessmentThreat.ethicalAspectsDefined,this.assessment.assessmentThreat.ethicalAspectsDescription,this.assessment.assessmentThreat.biasDescription,this.assessment.answers.planThreatsAnswers),console.log(this.assessmentThreatDTO)}newThreat(){return this.formBuilder.group({threat:[""]})}newLimitation(){return this.formBuilder.group({limitation:[""]})}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(x.a),o.Ob(n.d),o.Ob(a.J),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-edit-threat-section"]],decls:13,vars:1,consts:[[1,"container"],[1,"col-lg-12","bottom-margin"],[4,"ngFor","ngForOf"],["nbButton","","status","success",1,"padding-right",3,"click"],[1,"col-lg-12","row"],[1,"bottom-margin","padding-right"],["class","button-space","icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",3,"nbTooltip",4,"ngIf"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12"],["icon","info-outline","nbButton","","nbTooltipPlacement","right","nbTooltipStatus","warning","status","warning",1,"button-space",3,"nbTooltip"],[1,"container","col-lg-12",2,"padding-left","10px"],[1,"col-lg-12"],["class","col-lg-12 bottom-margin",3,"formGroup",4,"ngIf"],[4,"ngIf"],["class","col-lg-12 bottom-margin",4,"ngIf"],[1,"solid"],[1,"col-lg-12","bottom-margin",3,"formGroup"],["formArrayName","threats",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",2,"margin-bottom","10px",3,"click"],["icon","plus-circle-outline"],["status","primary",1,"padding-right",2,"padding-left","20px","padding-top","10px",3,"checked","checkedChange"],[3,"formGroupName"],[1,"row","col-lg-12"],["formControlName","threat","fullWidth","","id","input-threat","name","threat","nbInput","","shape","round",1,"display-next",2,"margin-bottom","10px",3,"placeholder"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"],["deleteTreatDialog",""],["accent","warning"],[1,"text-center"],["nbButton","","status","success",3,"click"],["nbButton","","status","danger",1,"button-space",3,"click"],["fullWidth","","nbInput","","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","placeholder","ngModelChange"],["formArrayName","limitations",1,"container","mt-3"],["formControlName","limitation","fullWidth","","id","input-limitation","name","limitation","nbInput","","shape","round",1,"display-next",2,"margin-bottom","10px",3,"placeholder"],[1,"row","bottom-margin",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fullWidth","","nbInput","","required","true","rows","5","shape","round",2,"padding-left","10px",3,"ngModel","hidden","placeholder","ngModelChange"]],template:function(s,e){1&s&&(o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Ub(2,"h4"),o.Bc(3,"Threats to validity Section"),o.Tb(),o.Tb(),o.Ub(4,"nb-card-body"),o.Ub(5,"div",0),o.Ub(6,"div",1),o.zc(7,Oi,8,3,"div",2),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"nb-card-footer"),o.Ub(9,"div"),o.Ub(10,"button",3),o.bc("click",(function(){return e.onSubmit()})),o.Ub(11,"b"),o.Bc(12,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(7),o.jc("ngForOf",e.getCharacterizationQuestionsObject(e.categories.threats.acronym).parentQuestions))},directives:[a.u,a.w,a.t,u.m,a.v,a.r,u.n,a.L,a.vb,n.q,n.h,n.B,n.r,n.c,a.z,n.i,n.b,a.O,n.p,n.g,n.s,a.gb,a.fb,n.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();class Mi{constructor(s,e,t){this.assessmentUid=s,this.userUid=e,this.collaboratorsEmail=t}}let xi=(()=>{class s{constructor(s,e,t,n,i){this.formBuilder=s,this.assessmentService=e,this.store=t,this.router=n,this.toastrService=i,this.toast=new T.a(i),this.store.select(d.a).subscribe(({uid:s})=>this.userUid=s)}get isValid(){return!(null==this.assessmentUid)}submit(){return Object(l.a)(this,void 0,void 0,(function*(){this.collaborator=new Mi(this.assessmentUid,this.userUid,[]),console.log(this.collaborator),(yield this.assessmentService.enterAsCollaborator(this.collaborator)).subscribe(s=>{this.toast.showToast("collab","top-right","success","Collaborator"),console.log(s),this.router.navigate(["/pages/home"])},()=>{this.toast.showToast("collab","top-right","danger","Collaborator")})}))}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(n.d),o.Ob(b.a),o.Ob(p.h),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-new-collaborator"]],decls:16,vars:2,consts:[[1,"container"],[1,"col-lg-12"],[1,"example-items-col"],[1,"row","col-lg-12","bottom-margin"],["fullWidth","","nbInput","","required","true","type","text",3,"ngModel","ngModelChange"],["nbButton","","status","success",1,"padding-right",3,"disabled","click"],["icon","save-outline"]],template:function(s,e){1&s&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"h3"),o.Bc(3," Enter as Collaborator "),o.Tb(),o.Ub(4,"nb-card"),o.Ub(5,"nb-card-header"),o.Bc(6,"Enter the code that was sent to your email in the field below:"),o.Tb(),o.Ub(7,"nb-card-body",2),o.Ub(8,"div",3),o.Ub(9,"input",4),o.bc("ngModelChange",(function(s){return e.assessmentUid=s})),o.Tb(),o.Tb(),o.Tb(),o.Ub(10,"nb-card-footer"),o.Ub(11,"div"),o.Ub(12,"button",5),o.bc("click",(function(){return e.submit()})),o.Pb(13,"nb-icon",6),o.Ub(14,"b"),o.Bc(15,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.Cb(9),o.jc("ngModel",e.assessmentUid),o.Cb(3),o.jc("disabled",!e.isValid))},directives:[a.u,a.w,a.t,a.O,n.b,n.x,n.p,n.s,a.v,a.r,a.L],styles:[".padding-right[_ngcontent-%COMP%]{float:right}"]}),s})();class Bi{constructor(s){this.assessmentUid=s}}function Si(s,e){if(1&s){const s=o.Vb();o.Ub(0,"section",11),o.Ub(1,"div",12),o.Pb(2,"input",13),o.Ub(3,"nb-icon",14),o.bc("click",(function(){o.sc(s);const t=e.index;return o.dc().removeEmail(t)})),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=e.$implicit;o.jc("formGroupName",e.index),o.Cb(2),o.jc("required",!0)("status",s.dirty?s.invalid?"danger":"success":""),o.Db("aria-invalid",!(!s.invalid||!s.touched)||null)}}let Ii=(()=>{class s{constructor(s,e,t,n,i){this.formBuilder=s,this.assessmentService=e,this.store=t,this.router=n,this.toastrService=i,this.toast=new T.a(i),this.assessment=this.router.getCurrentNavigation().extras.state,this.form=this.formBuilder.group({emails:this.formBuilder.array([])}),this.store.select(d.a).subscribe(({uid:s})=>this.userUid=s)}get isValid(){return this.form.valid}get isEmpty(){return 0===this.emails.getRawValue().map(s=>s.email).length}get emails(){return this.form.controls.emails}back(){this.router.navigate(["/pages/assessment/my-plans/edit"],{state:new Bi(this.assessment.uid)})}get values(){return this.form.value}newEmail(){return this.formBuilder.group({email:["",[n.z.required,n.z.email]]})}ngOnInit(){this.assessmentService.releaseSection(this.userUid).subscribe()}addEmail(){this.emails.push(this.newEmail())}removeEmail(s){this.emails.removeAt(s)}submit(){return Object(l.a)(this,void 0,void 0,(function*(){this.collaborator=new Mi(this.assessment.uid,this.userUid,this.emails.getRawValue().map(s=>s.email)),console.log(this.collaborator),(yield this.assessmentService.newCollaborator(this.collaborator)).subscribe(s=>{this.toast.showToast("collabAdd","top-right","success","Collaborators"),console.log(s),this.router.navigate(["/pages/assessment/my-plans"])},()=>{this.toast.showToast("collabAdd","top-right","danger","collaborators")})}))}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(n.d),o.Ob(b.a),o.Ob(p.h),o.Ob(c.c),o.Ob(a.ub))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-add-collaborator"]],decls:26,vars:3,consts:[[1,"container",3,"formGroup"],[1,"col-lg-12"],[1,"example-items-col"],["formArrayName","emails",1,"container","mt-3"],[3,"formGroupName",4,"ngFor","ngForOf"],["ghost","","nbButton","","shape","round","size","tiny","status","success",3,"click"],["icon","plus-circle-outline"],["nbButton","","status","info",3,"click"],["icon","arrow-back-outline"],["nbButton","","status","success",1,"float-right",3,"disabled","click"],["icon","save-outline"],[3,"formGroupName"],[1,"row","col-lg-8","bottom-margin-light"],["fieldSize","large","formControlName","email","fullWidth","","id","input-colab-email","name","email","nbInput","","placeholder","Collaborator email address",1,"display-next",3,"required","status"],["icon","minus-circle-outline","nbButton","","status","danger",1,"display-next",3,"click"]],template:function(s,e){1&s&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"h3"),o.Bc(3," Enter as Collaborator "),o.Tb(),o.Ub(4,"nb-card"),o.Ub(5,"nb-card-header"),o.Bc(6,"Enter the code that was sent to your email in the field below:"),o.Tb(),o.Ub(7,"nb-card-body",2),o.Ub(8,"label"),o.Ub(9,"b"),o.Bc(10,"Collaborator(s) email(s):"),o.Tb(),o.Tb(),o.Ub(11,"form",3),o.zc(12,Si,4,4,"section",4),o.Tb(),o.Ub(13,"button",5),o.bc("click",(function(){return e.addEmail()})),o.Pb(14,"nb-icon",6),o.Bc(15," Add Collaborator "),o.Tb(),o.Tb(),o.Ub(16,"nb-card-footer"),o.Ub(17,"div"),o.Ub(18,"button",7),o.bc("click",(function(){return e.back()})),o.Pb(19,"nb-icon",8),o.Ub(20,"b"),o.Bc(21,"BACK"),o.Tb(),o.Tb(),o.Ub(22,"button",9),o.bc("click",(function(){return e.submit()})),o.Pb(23,"nb-icon",10),o.Ub(24,"b"),o.Bc(25,"SUBMIT"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&s&&(o.jc("formGroup",e.form),o.Cb(12),o.jc("ngForOf",e.emails.controls),o.Cb(10),o.jc("disabled",!e.isValid||e.isEmpty))},directives:[n.q,n.h,a.u,a.w,a.t,n.B,n.r,n.c,u.m,a.r,a.L,a.v,n.i,n.b,a.O,n.p,n.g,n.x],styles:[".bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}.bottom-margin-light[_ngcontent-%COMP%]{margin-bottom:15px}.top-margin-checkbox[_ngcontent-%COMP%]{margin-top:5px}.top-margin[_ngcontent-%COMP%]{margin-top:30px}.padding-right[_ngcontent-%COMP%]{float:right}.vertical-center[_ngcontent-%COMP%]{margin:auto;width:50%;float:left}.teste[_ngcontent-%COMP%]{float:left}nb-checkbox[_ngcontent-%COMP%]:not(:only-child){margin-right:1.5rem}.my-tooltip[_ngcontent-%COMP%]{white-space:pre-line}hr.solid[_ngcontent-%COMP%]{border-top:3px solid #bbb}.button-space[_ngcontent-%COMP%]{margin-left:15px}"]}),s})();function Di(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the Application section:"),o.Tb(),o.Tb())}function Ni(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the Goals section:"),o.Tb(),o.Tb())}function zi(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the Variables and Measurement section:"),o.Tb(),o.Tb())}function qi(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the Participants section:"),o.Tb(),o.Tb())}function Ei(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the Tasks and Materials section:"),o.Tb(),o.Tb())}function Vi(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the the Procedure section:"),o.Tb(),o.Tb())}function Qi(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the the Data collection and Data analysis section:"),o.Tb(),o.Tb())}function _i(s,e){1&s&&(o.Ub(0,"label"),o.Ub(1,"b"),o.Bc(2,"These are comments on the the Threats to validity section:"),o.Tb(),o.Tb())}function Ri(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card",3),o.Ub(1,"nb-card-header"),o.zc(2,Di,3,0,"label",0),o.zc(3,Ni,3,0,"label",0),o.zc(4,zi,3,0,"label",0),o.zc(5,qi,3,0,"label",0),o.zc(6,Ei,3,0,"label",0),o.zc(7,Vi,3,0,"label",0),o.zc(8,Qi,3,0,"label",0),o.zc(9,_i,3,0,"label",0),o.Tb(),o.Ub(10,"nb-card-body"),o.Ub(11,"textarea",4),o.bc("ngModelChange",(function(t){return o.sc(s),e.$implicit.comment=t})),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=e.$implicit,t=o.dc(2);o.Cb(2),o.jc("ngIf",s.section===t.categories.application.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.goals.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.variables.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.participants.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.tasks.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.procedure.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.data.acronym),o.Cb(1),o.jc("ngIf",s.section===t.categories.threats.acronym),o.Cb(2),o.jc("ngModel",s.comment)}}function $i(s,e){if(1&s){const s=o.Vb();o.Ub(0,"nb-card"),o.Ub(1,"nb-card-header"),o.Bc(2,"Comments made by the reviewer on your assessment planning."),o.Tb(),o.Ub(3,"nb-card-body"),o.zc(4,Ri,12,9,"nb-card",1),o.Tb(),o.Ub(5,"nb-card-footer"),o.Ub(6,"button",2),o.bc("click",(function(){return o.sc(s),o.dc().back()})),o.Bc(7,"BACK"),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc();o.Cb(4),o.jc("ngForOf",s.review.comments)}}let Fi=(()=>{class s{constructor(s,e,t,n){this.reviewService=s,this.toastrService=t,this.store=n,this.categories=B.a.CATEGORIES,this.toast=new T.a(t),this.router=e,this.store.select(d.a).subscribe(s=>this.user=s),this.reviewInfo=this.router.getCurrentNavigation().extras.state}ngOnInit(){this.reviewService.findReviewByUid(this.reviewInfo.reviewUid).subscribe(s=>{this.review=s,this.dataloaded=Promise.resolve(!0)})}back(){this.router.navigate(["/pages/assessment/reviewed-plan"])}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(U.a),o.Ob(c.c),o.Ob(a.ub),o.Ob(p.h))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-review-detail"]],decls:2,vars:3,consts:[[4,"ngIf"],["status","control",4,"ngFor","ngForOf"],["nbButton","","hero","","status","primary",3,"click"],["status","control"],["fullWidth","","nbInput","","placeholder","N/A","required","true","rows","5","shape","round","status","info","readonly","",2,"padding-left","10px",3,"ngModel","ngModelChange"]],template:function(s,e){1&s&&(o.zc(0,$i,8,1,"nb-card",0),o.ec(1,"async")),2&s&&o.jc("ngIf",o.fc(1,1,e.dataloaded))},directives:[u.n,a.u,a.w,a.t,u.m,a.v,a.r,a.O,n.b,n.x,n.p,n.s],pipes:[u.b],styles:[""]}),s})();function Gi(s,e){if(1&s&&(o.Ub(0,"label",59),o.Ub(1,"b"),o.Bc(2),o.Tb(),o.Tb()),2&s){const s=o.dc(2).$implicit,e=o.dc(3);o.Cb(2),o.Cc(e.removeNumberString(s.title))}}function Li(s,e){if(1&s&&(o.Ub(0,"div",61),o.Ub(1,"label",62),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.Ub(4,"h6",63),o.Bc(5),o.Tb(),o.Tb()),2&s){const s=o.dc(3).$implicit,e=o.dc(3);o.Cb(3),o.Cc(null==s?null:s.title),o.Cb(2),o.Dc("",e.assessment.smartCityPercentage,"%")}}function Wi(s,e){if(1&s&&(o.zc(0,Li,6,2,"div",60),o.Pb(1,"hr",34)),2&s){const s=o.dc(5);o.jc("ngIf",!s.isNull(s.assessment.smartCityPercentage))}}function Ki(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function Yi(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function Hi(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function Ji(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,Ki,2,0,"p",27),o.zc(2,Yi,2,0,"p",27),o.zc(3,Hi,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasDataManagement),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasDataManagement&&!s.isNull(s.assessment.smartCityQuestionnaire.hasDataManagement)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasDataManagement))}}function Xi(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function Zi(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function sa(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function ea(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,Xi,2,0,"p",27),o.zc(2,Zi,2,0,"p",27),o.zc(3,sa,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasAppExecution),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasAppExecution&&!s.isNull(s.assessment.smartCityQuestionnaire.hasAppExecution)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasAppExecution))}}function ta(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function na(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function ia(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function aa(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,ta,2,0,"p",27),o.zc(2,na,2,0,"p",27),o.zc(3,ia,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasSensorNetwork),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasSensorNetwork&&!s.isNull(s.assessment.smartCityQuestionnaire.hasSensorNetwork)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasSensorNetwork))}}function ca(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function oa(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function ra(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function la(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,ca,2,0,"p",27),o.zc(2,oa,2,0,"p",27),o.zc(3,ra,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasDataProcessing),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasDataProcessing&&!s.isNull(s.assessment.smartCityQuestionnaire.hasDataProcessing)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasDataProcessing))}}function ba(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function da(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function ha(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function pa(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,ba,2,0,"p",27),o.zc(2,da,2,0,"p",27),o.zc(3,ha,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasDataAccess),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasDataAccess&&!s.isNull(s.assessment.smartCityQuestionnaire.hasDataAccess)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasDataAccess))}}function ua(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function ma(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function ga(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function fa(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,ua,2,0,"p",27),o.zc(2,ma,2,0,"p",27),o.zc(3,ga,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasServiceManagement),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasServiceManagement&&!s.isNull(s.assessment.smartCityQuestionnaire.hasServiceManagement)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasServiceManagement))}}function wa(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function Ca(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function Ta(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function Aa(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,wa,2,0,"p",27),o.zc(2,Ca,2,0,"p",27),o.zc(3,Ta,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.hasSoftwareTools),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.hasSoftwareTools&&!s.isNull(s.assessment.smartCityQuestionnaire.hasSoftwareTools)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.hasSoftwareTools))}}function ya(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"YES"),o.Tb())}function Ua(s,e){1&s&&(o.Ub(0,"p"),o.Bc(1,"NO"),o.Tb())}function va(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"NOT SELECTED"),o.Tb())}function ka(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,ya,2,0,"p",27),o.zc(2,Ua,2,0,"p",27),o.zc(3,va,2,0,"p",64),o.Tb()),2&s){const s=o.dc(5);o.Cb(1),o.jc("ngIf",s.assessment.smartCityQuestionnaire.defineCityModel),o.Cb(1),o.jc("ngIf",!s.assessment.smartCityQuestionnaire.defineCityModel&&!s.isNull(s.assessment.smartCityQuestionnaire.defineCityModel)),o.Cb(1),o.jc("ngIf",s.isNull(s.assessment.smartCityQuestionnaire.defineCityModel))}}function Pa(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,Gi,3,1,"label",56),o.zc(2,Wi,2,1,"ng-template",null,57,o.Ac),o.Ub(4,"div",58),o.zc(5,Ji,4,3,"div",27),o.zc(6,ea,4,3,"div",27),o.zc(7,aa,4,3,"div",27),o.zc(8,la,4,3,"div",27),o.zc(9,pa,4,3,"div",27),o.zc(10,fa,4,3,"div",27),o.zc(11,Aa,4,3,"div",27),o.zc(12,ka,4,3,"div",27),o.Tb(),o.Tb()),2&s){const s=o.qc(3),e=o.dc().$implicit,t=o.dc(3);o.Cb(1),o.jc("ngIf","PERC"!=e.objKey)("ngIfElse",s),o.Cb(4),o.jc("ngIf",t.isDataManagement(e.objKey)),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.applicationExecutionEnvironment.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.sensorNetworkManagement.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.dataProcessing.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.dataAccess.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.serviceManagement.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.toolsforSoftwareDevelopment.acronym),o.Cb(1),o.jc("ngIf",e.objKey===t.smartCityCategories.definingACityModel.acronym)}}function Oa(s,e){if(1&s&&(o.Ub(0,"div",55),o.zc(1,Pa,13,10,"div",27),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.jc("ngIf",!1===s.title.includes("1.1")&&!1===s.title.includes("1.2"))}}function ja(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,Oa,2,1,"div",54),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.jc("ngForOf",s.questions)}}function Ma(s,e){if(1&s&&(o.Ub(0,"p"),o.Bc(1),o.Tb()),2&s){const s=o.dc(2).$implicit;o.Cb(1),o.Cc(s.goal)}}function xa(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"N/A"),o.Tb())}function Ba(s,e){if(1&s&&(o.Ub(0,"div",70),o.zc(1,Ma,2,1,"p",27),o.zc(2,xa,2,0,"p",64),o.Tb()),2&s){const s=o.dc().$implicit,e=o.dc(4);o.Cb(1),o.jc("ngIf",!e.isNullOrUndefined(s.goal)),o.Cb(1),o.jc("ngIf",e.isNullOrUndefined(s.goal))}}function Sa(s,e){if(1&s&&(o.Ub(0,"div",46),o.zc(1,Ba,3,2,"div",69),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.attribute))}}function Ia(s,e){if(1&s&&(o.Ub(0,"div",55),o.Ub(1,"label",46),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.zc(4,Sa,2,1,"div",68),o.Pb(5,"br"),o.Tb()),2&s){const s=e.$implicit,t=o.dc(3);o.Cb(3),o.Cc(t.removeNumberString(s.title)),o.Cb(1),o.jc("ngForOf",t.assessment.usabilityGoals)}}function Da(s,e){if(1&s&&(o.Ub(0,"div"),o.Pb(1,"div",66),o.zc(2,Ia,6,2,"div",67),o.Tb()),2&s){const s=e.$implicit;o.Cb(2),o.jc("ngForOf",s.questions)}}function Na(s,e){1&s&&(o.Ub(0,"p",73),o.Ub(1,"b"),o.Bc(2,"Which variables will be measured during the assessment?"),o.Tb(),o.Tb())}function za(s,e){1&s&&(o.Ub(0,"p",73),o.Ub(1,"b"),o.Bc(2,"How will the listed variables be obtained?"),o.Tb(),o.Tb())}function qa(s,e){if(1&s&&(o.Ub(0,"p"),o.Bc(1),o.Tb()),2&s){const s=o.dc(2).$implicit;o.Cb(1),o.Cc(s.variables)}}function Ea(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"N/A"),o.Tb())}function Va(s,e){if(1&s&&(o.Ub(0,"div",70),o.zc(1,qa,2,1,"p",27),o.zc(2,Ea,2,0,"p",64),o.Tb()),2&s){const s=o.dc().$implicit,e=o.dc(5);o.Cb(1),o.jc("ngIf",!e.isNullOrUndefined(s.variables)),o.Cb(1),o.jc("ngIf",e.isNullOrUndefined(s.variables))}}function Qa(s,e){if(1&s&&(o.Ub(0,"div",46),o.zc(1,Va,3,2,"div",69),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function _a(s,e){if(1&s&&(o.Ub(0,"div",75),o.zc(1,Qa,2,1,"div",68),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function Ra(s,e){if(1&s&&(o.Ub(0,"p"),o.Bc(1),o.Tb()),2&s){const s=o.dc(2).$implicit;o.Cb(1),o.Cc(s.obtainedBy)}}function $a(s,e){1&s&&(o.Ub(0,"p",65),o.Bc(1,"N/A"),o.Tb())}function Fa(s,e){if(1&s&&(o.Ub(0,"div",70),o.zc(1,Ra,2,1,"p",27),o.zc(2,$a,2,0,"p",64),o.Tb()),2&s){const s=o.dc().$implicit,e=o.dc(5);o.Cb(1),o.jc("ngIf",!e.isNullOrUndefined(s.obtainedBy)),o.Cb(1),o.jc("ngIf",e.isNullOrUndefined(s.obtainedBy))}}function Ga(s,e){if(1&s&&(o.Ub(0,"div",46),o.zc(1,Fa,3,2,"div",69),o.Tb()),2&s){const s=e.$implicit,t=o.dc(2).$implicit,n=o.dc(3);o.Cb(1),o.jc("ngIf",n.isEqual(t.objectKey,s.usabilityAttribute))}}function La(s,e){if(1&s&&(o.Ub(0,"div",75),o.zc(1,Ga,2,1,"div",68),o.Tb()),2&s){const s=o.dc(4);o.Cb(1),o.jc("ngForOf",s.assessment.attributes)}}function Wa(s,e){if(1&s&&(o.Ub(0,"div",55),o.Ub(1,"label",46),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Tb(),o.zc(4,_a,2,1,"div",74),o.zc(5,La,2,1,"div",74),o.Pb(6,"br"),o.Tb()),2&s){const s=e.$implicit,t=o.dc().$implicit;o.Cb(3),o.Cc(s.title),o.Cb(1),o.jc("ngIf","VM-4"===t.key),o.Cb(1),o.jc("ngIf","VM-5"===t.key)}}function Ka(s,e){1&s&&o.Pb(0,"hr",34)}function Ya(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"div",66),o.zc(2,Na,3,0,"p",71),o.zc(3,za,3,0,"p",71),o.Tb(),o.zc(4,Wa,7,3,"div",67),o.zc(5,Ka,1,0,"hr",72),o.Tb()),2&s){const s=e.$implicit;o.Cb(2),o.jc("ngIf","VM-4"===s.key),o.Cb(1),o.jc("ngIf","VM-5"===s.key),o.Cb(1),o.jc("ngForOf",s.questions),o.Cb(1),o.jc("ngIf","VM-4"===s.key)}}function Ha(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"nb-action",76),o.Bc(2),o.Pb(3,"br"),o.Bc(4),o.Tb(),o.Pb(5,"br"),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.jc("nbTooltip",s.description),o.Cb(1),o.Dc("",s.name," "),o.Cb(2),o.Dc("(",s.acronym,") ")}}function Ja(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Dc("",s.assessment.participant.participantsQuantity," people")}}function Xa(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function Za(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Dc(" ","R"===s.assessment.participant.participationLocalType?"REMOTE":"IN PERSON","")}}function sc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function ec(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Dc(" ",s.assessment.participant.compensationDescription,"")}}function tc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function nc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"YES"),o.Tb())}function ic(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"NO"),o.Tb())}function ac(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.participant.collectedInformationUse)}}function cc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function oc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.participant.criteria)}}function rc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function lc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.participant.instructions)}}function bc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function dc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.Cc(s)}}function hc(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,dc,2,1,"p",79),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.jc("ngForOf",s.assessment.participant.questions)}}function pc(s,e){1&s&&(o.Ub(0,"div"),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function uc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentProcedure.occurDate)}}function mc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function gc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentProcedure.occurTime)}}function fc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function wc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentProcedure.occurLocal)}}function Cc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function Tc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentProcedure.occurDetail)}}function Ac(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function yc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"YES"),o.Tb())}function Uc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"NO"),o.Tb())}function vc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function kc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentProcedure.pilotDescription)}}function Pc(s,e){if(1&s&&(o.Ub(0,"nb-card",80),o.Ub(1,"nb-card-header",9),o.Bc(2),o.Tb(),o.Ub(3,"nb-card-body",9),o.Bc(4),o.Tb(),o.Tb()),2&s){const s=e.$implicit,t=e.index;o.lc("nbTooltip","Description: ",s.description,""),o.Cb(2),o.Dc(" Step ",t," "),o.Cb(2),o.Dc(" ",s.name," ")}}function Oc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.Cc(s)}}function jc(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,Oc,2,1,"p",79),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.jc("ngForOf",s.assessment.assessmentTools.tools)}}function Mc(s,e){1&s&&(o.Ub(0,"div"),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function xc(s,e){if(1&s&&(o.Ub(0,"div"),o.Ub(1,"p",77),o.Ub(2,"b"),o.Bc(3),o.Tb(),o.Bc(4),o.Tb(),o.Ub(5,"p",77),o.Ub(6,"b"),o.Bc(7),o.Tb(),o.Bc(8),o.Tb(),o.Ub(9,"p",77),o.Ub(10,"b"),o.Bc(11),o.Tb(),o.Bc(12),o.Tb(),o.Pb(13,"hr",34),o.Tb()),2&s){const s=e.$implicit,t=e.index;o.Cb(3),o.Dc("",t+1," .Description:"),o.Cb(1),o.Dc(" ",s.description,""),o.Cb(3),o.Dc("",t+1,".Execution Time:"),o.Cb(1),o.Dc(" ",s.taskExecutionTime,""),o.Cb(3),o.Dc("",t+1,".Acceptance Criteria:"),o.Cb(1),o.Dc(" ",s.acceptanceCriteria,"")}}function Bc(s,e){if(1&s&&(o.Ub(0,"div"),o.zc(1,xc,14,6,"div",13),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.jc("ngForOf",s.assessment.assessmentTools.tasks)}}function Sc(s,e){1&s&&(o.Ub(0,"div"),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function Ic(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentData.dataCollectionProcedure)}}function Dc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function Nc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentData.analysisDescription)}}function zc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function qc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"YES"),o.Tb())}function Ec(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"NO"),o.Tb())}function Vc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function Qc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentData.statisticalMethodsDescription)}}function _c(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.Cc(s)}}function Rc(s,e){if(1&s&&(o.Ub(0,"div",81),o.zc(1,_c,2,1,"p",79),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.jc("ngForOf",s.assessment.assessmentThreat.threats)}}function $c(s,e){1&s&&(o.Ub(0,"div",82),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function Fc(s,e){if(1&s&&(o.Ub(0,"div",83),o.Ub(1,"p",77),o.Bc(2),o.Tb(),o.Tb()),2&s){const s=o.dc(2);o.Cb(2),o.Cc(s.assessment.assessmentThreat.controlMeasure)}}function Gc(s,e){1&s&&(o.Ub(0,"div",82),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function Lc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=e.$implicit;o.Cb(1),o.Cc(s)}}function Wc(s,e){if(1&s&&(o.Ub(0,"div",84),o.zc(1,Lc,2,1,"p",79),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.jc("ngForOf",s.assessment.assessmentThreat.limitations)}}function Kc(s,e){1&s&&(o.Ub(0,"div",82),o.Ub(1,"p",78),o.Bc(2,"N/A"),o.Tb(),o.Tb())}function Yc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"YES"),o.Tb())}function Hc(s,e){1&s&&(o.Ub(0,"p",77),o.Bc(1,"NO"),o.Tb())}function Jc(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}function Xc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentThreat.ethicalAspectsDescription)}}function Zc(s,e){if(1&s&&(o.Ub(0,"p",77),o.Bc(1),o.Tb()),2&s){const s=o.dc(2);o.Cb(1),o.Cc(s.assessment.assessmentThreat.biasDescription)}}function so(s,e){1&s&&(o.Ub(0,"p",78),o.Bc(1,"N/A"),o.Tb())}const eo=function(){return{backgroundImage:"url(https://cadeira-spring-react.s3-sa-east-1.amazonaws.com/procedure_arrow.png)"}};function to(s,e){if(1&s){const s=o.Vb();o.Ub(0,"div",1),o.Ub(1,"button",2),o.bc("click",(function(){return o.sc(s),o.dc().back()})),o.Pb(2,"nb-icon",3),o.Ub(3,"b"),o.Bc(4,"BACK"),o.Tb(),o.Tb(),o.Ub(5,"section",4),o.Ub(6,"div",5),o.Ub(7,"label"),o.Bc(8,"Project Name"),o.Tb(),o.Ub(9,"nb-card",6),o.Ub(10,"nb-card-body"),o.Bc(11),o.Tb(),o.Tb(),o.Tb(),o.Ub(12,"div",7),o.Ub(13,"label"),o.Bc(14,"Project Description"),o.Tb(),o.Ub(15,"nb-card",6),o.Ub(16,"nb-card-body"),o.Bc(17),o.Tb(),o.Tb(),o.Tb(),o.Ub(18,"div",8),o.Ub(19,"label"),o.Bc(20,"Date"),o.Tb(),o.Ub(21,"nb-card",6),o.Ub(22,"nb-card-body",9),o.Bc(23),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(24,"section",10),o.Ub(25,"div",11),o.Ub(26,"nb-card",12),o.Ub(27,"nb-card-header",9),o.Bc(28,"Is it a Smart City application?"),o.Tb(),o.Ub(29,"nb-card-body"),o.zc(30,ja,2,1,"div",13),o.Tb(),o.Tb(),o.Tb(),o.Ub(31,"div",14),o.Ub(32,"nb-card",12),o.Ub(33,"nb-card-header",9),o.Bc(34,"Assessment goals"),o.Tb(),o.Ub(35,"nb-card-body"),o.zc(36,Da,3,1,"div",13),o.Tb(),o.Tb(),o.Tb(),o.Ub(37,"div",15),o.Ub(38,"nb-card",12),o.Ub(39,"nb-card-header",9),o.Bc(40,"Variables and measurement"),o.Tb(),o.Ub(41,"nb-card-body"),o.zc(42,Ya,6,4,"div",13),o.Tb(),o.Tb(),o.Tb(),o.Ub(43,"div",16),o.Ub(44,"nb-card",12),o.Ub(45,"nb-card-header",9),o.Bc(46,"Scales"),o.Tb(),o.Ub(47,"nb-card-body"),o.zc(48,Ha,6,3,"div",13),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(49,"div",17),o.Ub(50,"nb-card",18),o.Ub(51,"nb-card-header",9),o.Bc(52,"Participants"),o.Tb(),o.Ub(53,"nb-card-body",19),o.Ub(54,"div",20),o.Ub(55,"label"),o.Ub(56,"b"),o.Bc(57,"How many participants?"),o.Tb(),o.Tb(),o.zc(58,Ja,2,1,"p",21),o.zc(59,Xa,2,0,"p",22),o.Ub(60,"label"),o.Ub(61,"b"),o.Bc(62,"Will it be an in-person or a remote participation?"),o.Tb(),o.Tb(),o.zc(63,Za,2,1,"p",21),o.zc(64,sc,2,0,"p",22),o.Ub(65,"label"),o.Ub(66,"b"),o.Bc(67,"Form of compensation:"),o.Tb(),o.Tb(),o.zc(68,ec,2,1,"p",21),o.zc(69,tc,2,0,"p",22),o.Tb(),o.Ub(70,"div",23),o.Ub(71,"label"),o.Ub(72,"b"),o.Bc(73,"Will a demographic questionnaire be used to collect information from the participants?"),o.Tb(),o.Tb(),o.zc(74,nc,2,0,"p",21),o.zc(75,ic,2,0,"p",21),o.zc(76,ac,2,1,"p",21),o.zc(77,cc,2,0,"p",22),o.Ub(78,"label"),o.Ub(79,"b"),o.Bc(80,"List the eligibility criteria for the participants:"),o.Tb(),o.Tb(),o.zc(81,oc,2,1,"p",21),o.zc(82,rc,2,0,"p",22),o.Tb(),o.Ub(83,"div",24),o.Ub(84,"label"),o.Ub(85,"b"),o.Bc(86,"Explain the instructions to be given to the participants:"),o.Tb(),o.Tb(),o.zc(87,lc,2,1,"p",21),o.zc(88,bc,2,0,"p",22),o.Tb(),o.Ub(89,"div",25),o.Ub(90,"label"),o.Ub(91,"b"),o.Bc(92,"List the questions that will be asked to the participants:"),o.Tb(),o.Tb(),o.Ub(93,"div",26),o.zc(94,hc,2,1,"div",27),o.zc(95,pc,3,0,"div",27),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(96,"div",28),o.Ub(97,"nb-card",29),o.Ub(98,"nb-card-header",9),o.Bc(99,"Procedure"),o.Tb(),o.Ub(100,"nb-card-body"),o.Ub(101,"div",30),o.Ub(102,"div",31),o.Ub(103,"label"),o.Ub(104,"b"),o.Bc(105,"When will it occur?"),o.Tb(),o.Tb(),o.zc(106,uc,2,1,"p",21),o.zc(107,mc,2,0,"p",22),o.Ub(108,"label"),o.Ub(109,"b"),o.Bc(110,"How much time will it require?"),o.Tb(),o.Tb(),o.zc(111,gc,2,1,"p",21),o.zc(112,fc,2,0,"p",22),o.Tb(),o.Ub(113,"div",32),o.Ub(114,"label"),o.Ub(115,"b"),o.Bc(116,"Where will it occur?"),o.Tb(),o.Tb(),o.zc(117,wc,2,1,"p",21),o.zc(118,Cc,2,0,"p",22),o.Tb(),o.Ub(119,"div",32),o.Ub(120,"label"),o.Ub(121,"b"),o.Bc(122,"How will it occur?"),o.Tb(),o.Tb(),o.zc(123,Tc,2,1,"p",21),o.zc(124,Ac,2,0,"p",22),o.Tb(),o.Ub(125,"div",33),o.Ub(126,"label"),o.Ub(127,"b"),o.Bc(128,"Will there be a pilot assessment?"),o.Tb(),o.Tb(),o.zc(129,yc,2,0,"p",21),o.zc(130,Uc,2,0,"p",21),o.zc(131,vc,2,0,"p",22),o.zc(132,kc,2,1,"p",21),o.Tb(),o.Tb(),o.Pb(133,"hr",34),o.Ub(134,"div",35),o.zc(135,Pc,5,3,"nb-card",36),o.Tb(),o.Pb(136,"div",37),o.Tb(),o.Tb(),o.Tb(),o.Ub(137,"section",38),o.Ub(138,"div",39),o.Ub(139,"nb-card",40),o.Ub(140,"nb-card-header",9),o.Bc(141,"Tasks and materials"),o.Tb(),o.Ub(142,"nb-card-body"),o.Ub(143,"div",41),o.Ub(144,"div",42),o.Ub(145,"label"),o.Ub(146,"b"),o.Bc(147,"What instruments, materials, technology, and tools will be used and how?"),o.Tb(),o.Tb(),o.Ub(148,"div",43),o.zc(149,jc,2,1,"div",27),o.zc(150,Mc,3,0,"div",27),o.Tb(),o.Tb(),o.Ub(151,"div",42),o.Ub(152,"label"),o.Ub(153,"b"),o.Bc(154,"What tasks will the participants need to perform?"),o.Tb(),o.Tb(),o.Ub(155,"div",43),o.zc(156,Bc,2,1,"div",27),o.zc(157,Sc,3,0,"div",27),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(158,"div",44),o.Pb(159,"div",45),o.Ub(160,"nb-card",40),o.Ub(161,"nb-card-header",9),o.Bc(162,"Data collection and analysis"),o.Tb(),o.Ub(163,"nb-card-body"),o.Ub(164,"div",46),o.Ub(165,"label"),o.Ub(166,"b"),o.Bc(167,"What will be the data collection procedure?"),o.Tb(),o.Tb(),o.zc(168,Ic,2,1,"p",21),o.zc(169,Dc,2,0,"p",22),o.Ub(170,"label"),o.Ub(171,"b"),o.Bc(172,"How will the data collected be analyzed?"),o.Tb(),o.Tb(),o.zc(173,Nc,2,1,"p",21),o.zc(174,zc,2,0,"p",22),o.Ub(175,"label"),o.Ub(176,"b"),o.Bc(177,"Describe the statistical methods, if any, that will be be used:"),o.Tb(),o.Tb(),o.zc(178,qc,2,0,"p",21),o.zc(179,Ec,2,0,"p",21),o.zc(180,Vc,2,0,"p",22),o.zc(181,Qc,2,1,"p",21),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(182,"div",47),o.Ub(183,"nb-card",40),o.Ub(184,"nb-card-header",9),o.Bc(185,"Threats to validity"),o.Tb(),o.Ub(186,"nb-card-body"),o.Ub(187,"div",48),o.Ub(188,"label"),o.Ub(189,"b"),o.Bc(190,"What are the threats to the validity of the assessment?"),o.Tb(),o.Tb(),o.zc(191,Rc,2,1,"div",49),o.zc(192,$c,3,0,"div",50),o.Pb(193,"hr",34),o.Ub(194,"div",51),o.Ub(195,"label"),o.Ub(196,"b"),o.Bc(197,"How will the threats to validity be controlled?"),o.Tb(),o.Tb(),o.zc(198,Fc,3,1,"div",52),o.zc(199,Gc,3,0,"div",50),o.Tb(),o.Pb(200,"br"),o.Pb(201,"hr",34),o.Ub(202,"div",51),o.Ub(203,"label"),o.Ub(204,"b"),o.Bc(205,"List the limitations for the assessment:"),o.Tb(),o.Tb(),o.zc(206,Wc,2,1,"div",53),o.zc(207,Kc,3,0,"div",50),o.Tb(),o.Pb(208,"br"),o.Pb(209,"hr",34),o.Ub(210,"label"),o.Ub(211,"b"),o.Bc(212,"Are the ethical aspects of the assessment well defined for the participants?"),o.Tb(),o.Tb(),o.zc(213,Yc,2,0,"p",21),o.zc(214,Hc,2,0,"p",21),o.zc(215,Jc,2,0,"p",22),o.zc(216,Xc,2,1,"p",21),o.Pb(217,"hr",34),o.Ub(218,"label"),o.Ub(219,"b"),o.Bc(220,"List the biases of the assessment:"),o.Tb(),o.Tb(),o.zc(221,Zc,2,1,"p",21),o.zc(222,so,2,0,"p",22),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&s){const s=o.dc();o.Cb(11),o.Dc(" ",null==s.assessment?null:s.assessment.projectName," "),o.Cb(6),o.Dc(" ",s.assessment.projectDescription," "),o.Cb(6),o.Dc(" ",s.formatedDate()," "),o.Cb(7),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.getApplicationAcronym()).parentQuestions),o.Cb(6),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.goals.acronym).parentQuestions),o.Cb(6),o.jc("ngForOf",s.getCharacterizationQuestionsObject(s.categories.variables.acronym).parentQuestions),o.Cb(6),o.jc("ngForOf",s.assessment.scale),o.Cb(10),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.participantsQuantity)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.participantsQuantity)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.participationLocalType)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.participationLocalType)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.compensationDescription)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.compensationDescription)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.hasCollectedInformation)&&s.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.hasCollectedInformation)&&!s.assessment.participant.hasCollectedInformation),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.collectedInformationUse)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.participantsQuantity)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.criteria)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.criteria)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.participant.instructions)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.participant.instructions)),o.Cb(6),o.jc("ngIf",!s.isNullOrUndefinedOrEmpty(s.assessment.participant.questions)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefinedOrEmpty(s.assessment.participant.questions)),o.Cb(11),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.occurDate)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentProcedure.occurDate)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.occurTime)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentProcedure.occurTime)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.occurLocal)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentProcedure.occurLocal)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.occurDetail)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentProcedure.occurDetail)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.isPilotAssessment)&&s.assessment.assessmentProcedure.isPilotAssessment),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.isPilotAssessment)&&!s.assessment.assessmentProcedure.isPilotAssessment),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentProcedure.isPilotAssessment)),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentProcedure.pilotDescription)),o.Cb(3),o.jc("ngForOf",s.assessment.assessmentProcedure.assessmentProcedureSteps),o.Cb(1),o.jc("ngStyle",o.mc(61,eo)),o.Cb(13),o.jc("ngIf",!s.isNullOrUndefinedOrEmpty(s.assessment.assessmentTools.tools)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefinedOrEmpty(s.assessment.assessmentTools.tools)),o.Cb(6),o.jc("ngIf",!s.isNullOrUndefinedOrEmpty(s.assessment.assessmentTools.tasks)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefinedOrEmpty(s.assessment.assessmentTools.tasks)),o.Cb(11),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentData.dataCollectionProcedure)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentData.dataCollectionProcedure)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentData.analysisDescription)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentData.analysisDescription)),o.Cb(4),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentData.statisticalMethods)&&s.assessment.assessmentData.statisticalMethods),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentData.statisticalMethods)&&!s.assessment.assessmentData.statisticalMethods),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentData.statisticalMethods)),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentData.statisticalMethodsDescription)),o.Cb(10),o.jc("ngIf",!s.isNullOrUndefinedOrEmpty(s.assessment.assessmentThreat.threats)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefinedOrEmpty(s.assessment.assessmentThreat.threats)),o.Cb(6),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentThreat.controlMeasure)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentThreat.controlMeasure)),o.Cb(7),o.jc("ngIf",!s.isNullOrUndefinedOrEmpty(s.assessment.assessmentThreat.limitations)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefinedOrEmpty(s.assessment.assessmentThreat.limitations)),o.Cb(6),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentThreat.ethicalAspectsDefined)&&s.assessment.assessmentThreat.ethicalAspectsDefined),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentThreat.ethicalAspectsDefined)&&!s.assessment.assessmentThreat.ethicalAspectsDefined),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentThreat.ethicalAspectsDefined)),o.Cb(1),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentThreat.ethicalAspectsDescription)),o.Cb(5),o.jc("ngIf",!s.isNullOrUndefined(s.assessment.assessmentThreat.biasDescription)),o.Cb(1),o.jc("ngIf",s.isNullOrUndefined(s.assessment.assessmentThreat.biasDescription))}}const no=[{path:"",component:r,children:[{path:"create",component:w,canActivate:[Xe.a]},{path:"my-plans",component:j,canActivate:[Xe.a]},{path:"my-plans/dashboard",component:(()=>{class s{constructor(s,e,t,n,i,a,c){this.assessmentService=s,this.reviewService=e,this.questionService=t,this.dialogService=i,this.toastrService=a,this.store=c,this.formEditable=!1,this.isVald=!1,this.questionsAnswered=0,this.instrumentQuestions=B.a.PLAN_QUESTIONS,this.planAnswersConstants=B.a.PLAN_ANSWER,this.usabilityAtributes=B.a.USABILITY_ATRIBUTES,this.categories=B.a.CATEGORIES,this.smartCityCategories=B.a.SMART_CITY_CATEGORY,this.genericSelectOptions=B.a.GENERIC_SELECT_OPTIONS,this.selectOptions=B.a.SELECT_OPTIONS,this.sectionControl=B.a.SECTION_CONTROL,this.toast=new T.a(a),this.router=n,this.store.select(d.a).subscribe(s=>this.user=s),this.planInfo=this.router.getCurrentNavigation().extras.state}ngOnInit(){this.assessment=new M,this.assessmentService.getAssessmentByUid(this.planInfo.assessmentUid).subscribe(s=>{this.assessment=s,this.loadResources(),console.log(this.assessment),this.dataloaded=Promise.resolve(!0)}),this.assessmentService.releaseSection(this.user.uid).subscribe()}loadResources(){this.initQuestionnaire(),this.initGoals(),this.initAssessmentAttribute(),this.initParticipants(),this.initProcedure(),this.initAssessmentTools(),this.initDataCollection(),this.initThreats()}isEqual(s,e){return s===e}isNull(s){return null===s}isNullOrUndefined(s){return null==s}isNullOrUndefinedOrEmpty(s){return null==s||0===s.length}isDataManagement(s){return s===this.smartCityCategories.dataManagement.acronym}isNullOrUndefinedOrFalse(s){return!1===s||null==s}isNullOrUndefinedOrTrue(s){return!0===s||null==s}removeNumberString(s){return s.replace(/[0-9]/g,"").split(".").join("").trim()}formatedDate(){return Object(S.a)(new Date(this.assessment.creationDate),"yyyy-MM-dd")}formatDate(s){return Object(S.a)(new Date(s),"yyyy-MM-dd")}isFirstQuestion(s){return"AP-PN"===s||"AP-PD"===s}back(){this.router.navigate(["/pages/assessment/my-plans"])}getCharacterizationQuestionsObject(s){return this.instrumentQuestions.find(e=>e.key===s)}getApplicationAcronym(){return this.categories.application.acronym}initQuestionnaire(){this.isNullOrUndefined(this.assessment.smartCityQuestionnaire)&&(this.assessment.smartCityQuestionnaire=new I.g(null,null,null,null,null,null,null,null))}initGoals(){(this.isNullOrUndefined(this.assessment.usabilityGoals)||0===this.assessment.usabilityGoals.length)&&(this.assessment.usabilityGoals=[new I.h("LRN"),new I.h("EFF"),new I.h("USR"),new I.h("ERR"),new I.h("STF")]),this.fillGoalsArray()}fillGoalsArray(){if(5!==this.assessment.usabilityGoals.length){let s=!1;this.usabilityAtributes.forEach(e=>{this.assessment.usabilityGoals.forEach(t=>{e===t.attribute&&(s=!0)}),!1===s&&this.assessment.usabilityGoals.push({attribute:e,goal:null,done:!1}),s=!1})}}initAssessmentTools(){this.isNullOrUndefined(this.assessment.assessmentTools)&&(this.assessment.assessmentTools=new I.d)}initDataCollection(){this.isNullOrUndefined(this.assessment.assessmentData)&&(this.assessment.assessmentData=new I.a)}initThreats(){this.isNullOrUndefined(this.assessment.assessmentThreat)&&(this.assessment.assessmentThreat=new I.c)}initAssessmentAttribute(){(this.isNullOrUndefined(this.assessment.attributes)||0===this.assessment.attributes.length)&&this.usabilityAtributes.forEach(s=>this.assessment.attributes.push(new I.e(s))),(this.isNullOrUndefined(this.assessment.scale)||0===this.assessment.scale.length)&&(this.assessment.scale=[]),this.fillVariableArray()}fillVariableArray(){if(5!==this.assessment.attributes.length){let s=!1;this.usabilityAtributes.forEach(e=>{this.assessment.attributes.forEach(t=>{e===t.usabilityAttribute&&(s=!0)}),!1===s&&this.assessment.attributes.push({usabilityAttribute:e,variables:null,obtainedBy:null}),s=!1})}}initProcedure(){this.isNullOrUndefined(this.assessment.assessmentProcedure)&&(this.assessment.assessmentProcedure=new I.b)}initParticipants(){this.isNullOrUndefined(this.assessment.participant)&&(this.assessment.participant=new I.f)}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(U.a),o.Ob(x.a),o.Ob(c.c),o.Ob(a.J),o.Ob(a.ub),o.Ob(p.h))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-dashboard"]],decls:2,vars:3,consts:[["class","dashboard",4,"ngIf"],[1,"dashboard"],["nbButton","","status","info",1,"dashboard__button",3,"click"],["icon","arrow-back-outline"],[1,"dashboard__project-info"],[1,"dashboard__project-name"],["size","tiny",2,"height","60px"],[1,"dashboard__project-description"],[1,"dashboard__date"],[1,"text-center"],[1,"dashboard__assessments"],[1,"dashboard__is-smart"],["accent","success","size","giant"],[4,"ngFor","ngForOf"],[1,"dashboard__goals"],[1,"dashboard__variables-and-measurement"],[1,"dashboard__scales"],[1,"dashboard__participants"],["accent","success","size","medium",1,"align-middle"],[1,"row","col-lg-12",2,"overflow","hidden"],[1,"col","col-lg-2"],["style","padding-left: 10px","class","bottom-margin-light",4,"ngIf"],["style","padding-left: 10px","class","bottom-margin-light red-color-text",4,"ngIf"],[1,"col","col-lg-4"],[1,"col","col-lg-3"],[1,"col","col-lg-3",2,"height","100%"],[2,"overflow-y","auto","height","300px"],[4,"ngIf"],[1,"dashboard__procedure"],["accent","success","size","large",1,"align-middle"],[1,"row","col-lg-12",2,"display","flex","height","45%"],[1,"col-lg-2"],[1,"col-lg-3"],[1,"col-lg-4"],[1,"solid"],[1,"row",2,"overflow-x","auto","overflow-y","hidden","flex-direction","column","justify-content","center","height","45%"],["accent","info","class","col-lg-2","style","margin-left: 15px; height: 80%; min-height: 80%","nbTooltipStatus","control",3,"nbTooltip",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"dashboard__analytics"],[1,"dashboard__tasks-and-materials"],["size","giant","accent","success",1,"align-middle"],[1,"row","col-lg-12",2,"display","flex","height","100%"],[1,"col","col-lg-12",2,"height","50%"],[2,"overflow-y","auto","height","90%"],[1,"dashboard__data-collection-and-analysis"],[1,"col","col-lg-12"],[1,"col-lg-12"],[1,"dashboard__threats"],[1,"col","col-lg-12",2,"height","100%"],["style","overflow-y: auto;overflow-x: hidden; height: 20%",4,"ngIf"],["class","col-lg-6",4,"ngIf"],[2,"height","20%","margin-bottom","15px"],["style","overflow-y: auto;overflow-x: hidden; height: 90%",4,"ngIf"],["style","overflow-y: auto;overflow-x: hidden; height: 100%",4,"ngIf"],["class","row","class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],[1,"container","col-lg-12",2,"padding-left","10px"],["style","font-size: 90%",4,"ngIf","ngIfElse"],["percentage",""],[1,"container",2,"padding-left","10px"],[2,"font-size","90%"],["class","col-lg-12 bottom-margin",4,"ngIf"],[1,"col-lg-12","bottom-margin"],[1,"vertical-center",2,"font-size","90%"],[2,"padding-left","10px","color","#3c763d"],["class","red-color-text",4,"ngIf"],[1,"red-color-text"],[1,"col-lg-12","row"],["class","container col-lg-12","style","padding-left: 10px",4,"ngFor","ngForOf"],["class","col-lg-12",4,"ngFor","ngForOf"],["style","padding-left: 10px",4,"ngIf"],[2,"padding-left","10px"],["class","col-lg-12 bottom-margin padding-right",4,"ngIf"],["class","solid",4,"ngIf"],[1,"col-lg-12","bottom-margin","padding-right"],["class","container",4,"ngIf"],[1,"container"],["nbButton","","nbTooltipPlacement","right","nbTooltipStatus","info","status","info",1,"button-space","text-center","bottom-margin",3,"nbTooltip"],[1,"bottom-margin-light",2,"padding-left","10px"],[1,"bottom-margin-light","red-color-text",2,"padding-left","10px"],["style","padding-left: 10px","class","bottom-margin-light",4,"ngFor","ngForOf"],["accent","info","nbTooltipStatus","control",1,"col-lg-2",2,"margin-left","15px","height","80%","min-height","80%",3,"nbTooltip"],[2,"overflow-y","auto","overflow-x","hidden","height","20%"],[1,"col-lg-6"],[2,"overflow-y","auto","overflow-x","hidden","height","90%"],[2,"overflow-y","auto","overflow-x","hidden","height","100%"]],template:function(s,e){1&s&&(o.zc(0,to,223,62,"div",0),o.ec(1,"async")),2&s&&o.jc("ngIf",o.fc(1,1,e.dataloaded))},directives:[u.n,a.r,a.L,a.u,a.t,a.w,u.m,u.o,a.m,a.vb],pipes:[u.b],styles:['.dashboard[_ngcontent-%COMP%]{height:100%;width:100%;display:grid;max-height:100%;overflow-y:scroll;grid-template-columns:10% 90%;grid-template-rows:2.5% minmax(auto,30%) minmax(auto,30%) minmax(auto,30%) minmax(auto,40%);grid-row-gap:.5%;grid-template-areas:"button ." "project-info project-info" "assessments assessments" "participants participants" "procedure procedure" "analytics analytics";-ms-overflow-style:none;scrollbar-width:none}.dashboard[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.dashboard__analytics[_ngcontent-%COMP%], .dashboard__assessments[_ngcontent-%COMP%], .dashboard__project-info[_ngcontent-%COMP%]{display:grid;width:100%}.dashboard__project-info[_ngcontent-%COMP%]{grid-area:project-info;grid-template-columns:25% 55% 15%;grid-column-gap:2.5%;grid-template-areas:"project-name project-description date"}.dashboard__assessments[_ngcontent-%COMP%]{grid-area:assessments;grid-template-columns:25% 25% 34% 10%;grid-column-gap:2%;grid-template-areas:"is-smart goals variables-and-measurement scales"}.dashboard__analytics[_ngcontent-%COMP%]{grid-area:analytics;grid-template-columns:35% 26% 35%;grid-column-gap:2%;justify-content:space-evenly;grid-template-areas:"tasks-and-materials data-collection-and-analysis threats"}.dashboard__button[_ngcontent-%COMP%]{grid-area:button;max-width:100%}.dashboard__project-name[_ngcontent-%COMP%]{grid-area:project-name;max-width:100%}.dashboard__project-description[_ngcontent-%COMP%]{grid-area:project-description;max-width:100%}.dashboard__date[_ngcontent-%COMP%]{grid-area:date}.dashboard__is-smart[_ngcontent-%COMP%]{grid-area:is-smart}.dashboard__goals[_ngcontent-%COMP%]{grid-area:goals}.dashboard__variables-and-measurement[_ngcontent-%COMP%]{grid-area:variables-and-measurement}.dashboard__scales[_ngcontent-%COMP%]{grid-area:scales}.dashboard__participants[_ngcontent-%COMP%]{grid-area:participants}.dashboard__procedure[_ngcontent-%COMP%]{grid-area:procedure}.dashboard__tasks-and-materials[_ngcontent-%COMP%]{grid-area:tasks-and-materials}.dashboard__data-collection-and-analysis[_ngcontent-%COMP%]{grid-area:data-collection-and-analysis}.dashboard__threats[_ngcontent-%COMP%]{grid-area:threats}']}),s})(),canActivate:[Xe.a]},{path:"my-plans/edit",component:Je,canActivate:[Xe.a]},{path:"my-plans/edit/add-collaborator",component:Ii,canActivate:[Xe.a]},{path:"my-plans/edit/application",component:It,canActivate:[Xe.a]},{path:"my-plans/edit/goal",component:_t,canActivate:[Xe.a]},{path:"my-plans/edit/variable",component:an,canActivate:[Xe.a]},{path:"my-plans/edit/participant",component:An,canActivate:[Xe.a]},{path:"my-plans/edit/tools",component:En,canActivate:[Xe.a]},{path:"my-plans/edit/procedure",component:ti,canActivate:[Xe.a]},{path:"my-plans/edit/data",component:di,canActivate:[Xe.a]},{path:"my-plans/edit/threats",component:ji,canActivate:[Xe.a]},{path:"new-collaborator",component:xi,canActivate:[Xe.a]},{path:"reviewed-plan",component:k,canActivate:[Xe.a]},{path:"express",component:(()=>{class s{constructor(s,e,t){this.assessmentService=s,this.router=e,this.location=t}ngOnInit(){}back(){this.location.back()}download(){this.assessmentService.downloadExpressPlan(),this.router.navigate(["/pages/home"])}}return s.\u0275fac=function(e){return new(e||s)(o.Ob(b.a),o.Ob(c.c),o.Ob(u.j))},s.\u0275cmp=o.Ib({type:s,selectors:[["ngx-express-planning"]],decls:21,vars:0,consts:[["nbButton","","ghost","","status","info",3,"click"],["icon","arrow-back-outline"],[1,"row",2,"display","flex"],[1,"container","row","col-lg-12",2,"display","flex"],[1,"col-lg-9"],[1,"col-lg-3",2,"display","flex","justify-content","flex-end"],["nbButton","","hero","","status","success",1,"padding-right","bottom-margin",3,"click"],["icon","download-outline"],["src","assets/images/dashboard.jpeg",2,"display","flex","max-width","100%","max-height","100%"]],template:function(s,e){1&s&&(o.Ub(0,"button",0),o.bc("click",(function(){return e.back()})),o.Pb(1,"nb-icon",1),o.Ub(2,"b"),o.Bc(3,"BACK"),o.Tb(),o.Tb(),o.Ub(4,"nb-card"),o.Ub(5,"nb-card-header",2),o.Bc(6," Express Planning "),o.Tb(),o.Ub(7,"nb-card-body"),o.Ub(8,"div",3),o.Ub(9,"div",4),o.Ub(10,"p"),o.Bc(11,"A template in canvas dashboard format for researchers who wish to develop an express plan with the main characteristics of an usability evaluation of applications for smart cities. "),o.Pb(12,"br"),o.Pb(13,"br"),o.Bc(14," The structure of the assessment plan is shown below:"),o.Tb(),o.Tb(),o.Ub(15,"div",5),o.Ub(16,"button",6),o.bc("click",(function(){return e.download()})),o.Pb(17,"nb-icon",7),o.Ub(18,"b"),o.Bc(19,"DOWNLOAD EXPRESS PLAN"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Pb(20,"img",8),o.Tb(),o.Tb())},directives:[a.r,a.L,a.u,a.w,a.t],styles:[".padding-right[_ngcontent-%COMP%]{float:right}.bottom-margin[_ngcontent-%COMP%]{margin-bottom:30px}"]}),s})(),canActivate:[Xe.a]},{path:"reviewed-plan/detail",component:Fi,canActivate:[Xe.a]}]}];let io=(()=>{class s{}return s.\u0275mod=o.Mb({type:s}),s.\u0275inj=o.Lb({factory:function(e){return new(e||s)},imports:[[c.g.forChild(no)],c.g]}),s})();var ao=t("oG2T");let co=(()=>{class s{}return s.\u0275mod=o.Mb({type:s}),s.\u0275inj=o.Lb({factory:function(e){return new(e||s)},providers:[b.a,x.a,U.a],imports:[[i.a,n.j,n.w,a.N,a.x,io,a.P,a.s,a.pb,a.hb,a.ob,C.c,a.l,a.eb,a.o,a.kb,a.wb,a.A,ao.a,a.G,a.W]]}),s})()}}]);